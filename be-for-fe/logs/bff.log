08:22:55.570 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
08:22:55.605 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
08:22:55.810 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
08:22:55.857 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
08:23:01.848 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:23:02.014 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 0 JPA repository interfaces.
08:23:03.142 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
08:23:05.277 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
08:23:05.326 | INFO | StandardService: Starting service [Tomcat]
08:23:05.342 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:23:05.581 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:23:05.583 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 9189 ms
08:23:07.040 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:23:10.132 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
08:23:10.598 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:23:12.563 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:23:12.675 | INFO | HikariDataSource: HikariPool-1 - Starting...
08:23:16.025 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1cb7d992
08:23:16.045 | INFO | HikariDataSource: HikariPool-1 - Start completed.
08:23:16.483 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:23:16.852 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:23:19.693 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:23:19.866 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:23:20.389 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
08:23:21.036 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:23:23.215 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:23:25.302 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
08:23:26.732 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
08:23:26.817 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
08:23:27.037 | INFO | BeForFeApplication: Started BeForFeApplication in 34.124 seconds (process running for 37.707)
08:24:00.167 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:00.170 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:24:00.192 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768353840164], value class [java.lang.Long], SQL type unknown
08:24:00.226 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:24:53.815 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
08:24:53.820 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
08:24:53.842 | INFO | DispatcherServlet: Completed initialization in 21 ms
08:24:53.977 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:24:54.075 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=O4EBGaAZVkwVl9ORiWfp6BOLVr-h5UEj3Au6_rmYV9Y%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=kBGNiSqnS9kVemDzpeA6-iht0I3OH68XrqwKXtVOxhY
08:24:54.089 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:54.090 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
08:24:54.106 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:54.108 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:24:54.998 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=gQs0TeI0G4TikrY_a_IDv0vhf2P8U-6V9O73dDSHS_RFDt0B5l-7Z0-hDBeTxfTpKw2Q5GK-7JDYeK7ahmtpvMAsMj77PFq4xXWC_Qz-PxZCf222LSY9WHy8pXygmzQC&state=O4EBGaAZVkwVl9ORiWfp6BOLVr-h5UEj3Au6_rmYV9Y%3D
08:24:55.026 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:24:55.037 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:24:57.614 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:57.615 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:24:57.618 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:24:57.623 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:24:56.9892187], value class [java.sql.Timestamp], SQL type 93
08:24:57.627 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:25:26.9892187], value class [java.sql.Timestamp], SQL type 93
08:24:57.628 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:24:57.629 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:24:56.9892187], value class [java.sql.Timestamp], SQL type 93
08:24:57.631 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:24:57.631 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:24:57.656 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:57.657 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
08:24:57.659 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:24:57.661 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:24:57.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:24:57.663 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [2026-01-14 08:24:56.9892187], value class [java.sql.Timestamp], SQL type 93
08:24:57.666 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 6, parameter value [2026-01-14 08:25:26.9892187], value class [java.sql.Timestamp], SQL type 93
08:24:57.668 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:24:57.670 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [2026-01-14 08:24:56.9892187], value class [java.sql.Timestamp], SQL type 93
08:24:57.679 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from b689eef0-f4d8-4dd5-bd85-bf03f76e1d3a
08:24:57.686 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
08:24:57.689 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:24:54Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T01:54:56Z, iat=2026-01-14T01:24:56Z, nonce=kBGNiSqnS9kVemDzpeA6-iht0I3OH68XrqwKXtVOxhY, jti=62003ec1-9a3b-416e-b860-6ee6ca61689b, authorities=[ROLE_CUSTOMER], sid=I04P6ng4dbokhiSNBpDmqDFhCQVkjXADZhEtqkZfmGQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b689eef0-f4d8-4dd5-bd85-bf03f76e1d3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@28cafc79]
08:24:57.691 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:24:54Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T01:54:56Z, iat=2026-01-14T01:24:56Z, nonce=kBGNiSqnS9kVemDzpeA6-iht0I3OH68XrqwKXtVOxhY, jti=62003ec1-9a3b-416e-b860-6ee6ca61689b, authorities=[ROLE_CUSTOMER], sid=I04P6ng4dbokhiSNBpDmqDFhCQVkjXADZhEtqkZfmGQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b689eef0-f4d8-4dd5-bd85-bf03f76e1d3a], Granted Authorities=[ROLE_CUSTOMER]]
08:24:57.726 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:57.727 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:24:57.734 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:57.735 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:24:57.807 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:24:57.808 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:24:57.819 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:24:57.820 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:25:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:25:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:25:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768353900008], value class [java.lang.Long], SQL type unknown
08:25:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:25:02.718 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:25:02.748 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:25:02.749 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:25:02.782 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:24:54Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T01:54:56Z, iat=2026-01-14T01:24:56Z, nonce=kBGNiSqnS9kVemDzpeA6-iht0I3OH68XrqwKXtVOxhY, jti=62003ec1-9a3b-416e-b860-6ee6ca61689b, authorities=[ROLE_CUSTOMER], sid=I04P6ng4dbokhiSNBpDmqDFhCQVkjXADZhEtqkZfmGQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b689eef0-f4d8-4dd5-bd85-bf03f76e1d3a], Granted Authorities=[ROLE_CUSTOMER]]]
08:25:02.785 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:25:03.038 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:25:03.040 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:25:03.060 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:25:03.061 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:25:03.755 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:25:03.762 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:03.764 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:25:03.769 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:25:03.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:03.774 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:25:08.349 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:25:08.354 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:25:08.354 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.355 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.355 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:25:08.355 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:25:08.397 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:25:08.407 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.417 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:25:08.415 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:25:08.433 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.441 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:25:08.446 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:25:08.485 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.417 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:25:08.489 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:25:08.502 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.516 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:25:08.614 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:25:08.617 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.622 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:25:08.622 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:25:08.630 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.640 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:25:08.660 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:25:08.681 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.698 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:25:08.685 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:25:08.709 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.783 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:25:16.335 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:25:16.341 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:25:16.342 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:25:16.371 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:24:54Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T01:54:56Z, iat=2026-01-14T01:24:56Z, nonce=kBGNiSqnS9kVemDzpeA6-iht0I3OH68XrqwKXtVOxhY, jti=62003ec1-9a3b-416e-b860-6ee6ca61689b, authorities=[ROLE_CUSTOMER], sid=I04P6ng4dbokhiSNBpDmqDFhCQVkjXADZhEtqkZfmGQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b689eef0-f4d8-4dd5-bd85-bf03f76e1d3a], Granted Authorities=[ROLE_CUSTOMER]]]
08:25:16.373 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:25:16.405 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:25:16.406 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:25:16.408 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:25:16.409 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:25:17.573 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:24:54Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T01:55:17Z, iat=2026-01-14T01:25:17Z, jti=9b69ab6c-0657-489b-b736-cab2103eb801, authorities=[ROLE_CUSTOMER], sid=I04P6ng4dbokhiSNBpDmqDFhCQVkjXADZhEtqkZfmGQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b689eef0-f4d8-4dd5-bd85-bf03f76e1d3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@73d67a7a]
08:25:17.574 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:25:17.575 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:25:17.578 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:25:17.580 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:25:17.4778207], value class [java.sql.Timestamp], SQL type 93
08:25:17.581 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:25:47.4778207], value class [java.sql.Timestamp], SQL type 93
08:25:17.583 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:25:17.585 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:25:17.4778207], value class [java.sql.Timestamp], SQL type 93
08:25:17.585 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:25:17.586 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:25:19.417 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:25:19.417 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:25:19.422 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:25:19.424 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:25:19.444 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:25:19.445 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:26:00.023 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:26:00.030 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:26:00.035 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768353960023], value class [java.lang.Long], SQL type unknown
08:26:00.051 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:27:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:27:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:27:00.006 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354020003], value class [java.lang.Long], SQL type unknown
08:27:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:28:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:28:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:28:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354080009], value class [java.lang.Long], SQL type unknown
08:28:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:29:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:29:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:29:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354140009], value class [java.lang.Long], SQL type unknown
08:29:00.044 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
08:30:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:30:00.050 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:30:00.061 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354200011], value class [java.lang.Long], SQL type unknown
08:30:00.079 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:31:00.030 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:31:00.091 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:31:00.262 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354260030], value class [java.lang.Long], SQL type unknown
08:31:00.378 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:31:59.828 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:31:59.828 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:31:59.897 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:31:59.901 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:31:59.902 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:31:59.905 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:00.030 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:32:00.042 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354320014], value class [java.lang.Long], SQL type unknown
08:32:00.058 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:32:01.002 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:01.010 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:01.011 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.031 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.056 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:01.032 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:01.063 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:01.080 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.082 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:01.141 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:01.156 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:01.166 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:01.166 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.197 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.260 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:01.248 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.254 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:01.257 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:01.258 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:01.267 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:01.288 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.299 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.326 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:01.329 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:01.337 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:01.341 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:01.383 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.457 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.472 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:01.518 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:01.772 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:32:01.786 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:02.338 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@50b0394e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
08:32:02.341 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1e38f2b, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
08:32:02.344 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@3e54e011
08:32:06.121 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:06.130 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.131 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:06.137 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:06.140 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.141 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:06.726 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:06.732 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:06.738 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.734 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.740 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:06.745 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:06.748 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:06.750 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:06.766 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:06.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.767 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:06.769 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.796 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.775 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:06.839 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:06.839 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:06.850 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:06.851 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:06.851 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:06.855 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.855 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.879 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:06.879 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:06.950 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:06.956 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:06.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.964 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.971 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:06.972 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:07.728 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:32:07.736 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:07.739 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@50b0394e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
08:32:07.741 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1e38f2b, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
08:32:07.743 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@3e54e011
08:32:24.591 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:32:24.605 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=kmXZMcTnHGzs5yHUdDewShBWYSM3XX_zStvzCjv1DCU%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=NrBfow0L0a7M5_0a5BllrqoVgaJ0pl3qow8tX45XdsU
08:32:24.612 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:24.613 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
08:32:24.623 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:24.624 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:32:24.979 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=8OC555sGMrnXoPlxUhJLNZaSioYHbgakl6JxtSVURhxmZRtcll3-mwuVmYXS3u2MltJXe44A5YKdYZYJ3s7K8QCe3JLz3VaxOTtWu8VWA568mOcmKRAlwnAhcKCjd-j2&state=kmXZMcTnHGzs5yHUdDewShBWYSM3XX_zStvzCjv1DCU%3D
08:32:25.018 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:25.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:32:26.478 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:26.480 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:32:26.489 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:32:26.492 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:32:26.3709016], value class [java.sql.Timestamp], SQL type 93
08:32:26.493 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:32:55.3709016], value class [java.sql.Timestamp], SQL type 93
08:32:26.495 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:32:26.499 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:32:26.3709016], value class [java.sql.Timestamp], SQL type 93
08:32:26.500 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:32:26.502 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:32:26.516 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 49e7d210-3c50-4108-9dc0-ad2d52558b75
08:32:26.524 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
08:32:26.527 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:26Z, iat=2026-01-14T01:32:26Z, nonce=NrBfow0L0a7M5_0a5BllrqoVgaJ0pl3qow8tX45XdsU, jti=f0b6ed12-650f-4d3e-90cc-8e6278ff6499, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@516b0cd0]
08:32:26.529 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:26Z, iat=2026-01-14T01:32:26Z, nonce=NrBfow0L0a7M5_0a5BllrqoVgaJ0pl3qow8tX45XdsU, jti=f0b6ed12-650f-4d3e-90cc-8e6278ff6499, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]
08:32:26.541 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:26.541 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:32:26.545 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:26.546 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:32:26.560 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:26.560 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:32:26.574 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:26.574 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:32:27.601 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:32:27.607 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:27.608 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:32:27.631 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:26Z, iat=2026-01-14T01:32:26Z, nonce=NrBfow0L0a7M5_0a5BllrqoVgaJ0pl3qow8tX45XdsU, jti=f0b6ed12-650f-4d3e-90cc-8e6278ff6499, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]]
08:32:27.636 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:32:27.693 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:27.694 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:32:27.712 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:27.713 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:32:28.149 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:28.153 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.153 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:28.175 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:28.179 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.183 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:28.709 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:28.709 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:28.710 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.716 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:28.714 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.825 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:28.834 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:28.844 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:28.859 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:28.861 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:28.868 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.892 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:28.870 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:28.877 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.884 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.891 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.902 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:28.894 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.901 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:28.904 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:28.916 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:29.096 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:29.140 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:29.176 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.248 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:29.257 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:29.264 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.265 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.392 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:29.395 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:33.026 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:32:33.036 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:33.037 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:32:33.052 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:26Z, iat=2026-01-14T01:32:26Z, nonce=NrBfow0L0a7M5_0a5BllrqoVgaJ0pl3qow8tX45XdsU, jti=f0b6ed12-650f-4d3e-90cc-8e6278ff6499, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]]
08:32:33.053 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:32:33.058 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:33.061 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:32:33.064 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:32:33.065 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:32:34.210 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:34Z, iat=2026-01-14T01:32:34Z, jti=6899982d-e32f-4c5a-8400-5883ca7b056a, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7d45c234]
08:32:34.212 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:34.213 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:32:34.215 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:32:34.216 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:32:34.0762237], value class [java.sql.Timestamp], SQL type 93
08:32:34.217 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:33:04.0762237], value class [java.sql.Timestamp], SQL type 93
08:32:34.218 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:32:34.220 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:32:34.0762237], value class [java.sql.Timestamp], SQL type 93
08:32:34.221 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:32:34.222 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:32:35.320 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:35.327 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:32:35.331 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:32:35.331 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:32:35.351 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:32:35.354 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:32:43.734 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:43.737 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:43.739 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:43.753 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:43.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:43.782 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:44.269 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:44.271 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.274 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:44.284 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:44.286 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:44.295 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:44.296 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:44.296 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.296 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:44.301 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.301 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.303 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:44.310 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:44.303 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.307 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.314 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:44.310 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:44.315 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:44.356 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:44.364 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.373 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:44.394 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:44.406 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.418 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:44.445 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:44.430 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:44.445 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.463 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:44.462 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.477 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:33:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:33:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:33:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354380007], value class [java.lang.Long], SQL type unknown
08:33:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:33:56.432 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:33:56.558 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:33:56.568 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:33:56.860 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:34Z, iat=2026-01-14T01:32:34Z, jti=6899982d-e32f-4c5a-8400-5883ca7b056a, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]]
08:33:57.032 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:33:57.292 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:33:57.306 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:33:57.383 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:33:57.439 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:33:58.387 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:33:58.408 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:33:58.408 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:33:58.419 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:33:58.451 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:33:58.574 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:33:59.849 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:33:59.851 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:33:59.862 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:33:59.869 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:33:59.967 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:33:59.958 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:34:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:34:00.023 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:34:00.034 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:34:00.036 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:34:00.083 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:34:00.103 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:34:00.153 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.166 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.168 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.171 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.190 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354440011], value class [java.lang.Long], SQL type unknown
08:34:00.222 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:34:00.240 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:34:00.257 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:34:00.257 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:34:00.270 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:34:00.338 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:34:00.557 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:34:00.617 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:34:00.629 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.638 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.661 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.667 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:34:00.692 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:34:00.701 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:34:00.726 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:34:00.728 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.745 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:34:55.678 | DEBUG | FilterChainProxy: Securing POST /protected/logout
08:34:55.847 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:34:55.847 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:34:55.883 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:34Z, iat=2026-01-14T01:32:34Z, jti=6899982d-e32f-4c5a-8400-5883ca7b056a, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]]
08:34:55.885 | DEBUG | LogoutFilter: Logging out [OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:32:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:02:34Z, iat=2026-01-14T01:32:34Z, jti=6899982d-e32f-4c5a-8400-5883ca7b056a, authorities=[ROLE_CUSTOMER], sid=fuLQFHWTp0R95sI4sGFYLLDFNux0b9tzwu20C8yk-F0}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=49e7d210-3c50-4108-9dc0-ad2d52558b75], Granted Authorities=[ROLE_CUSTOMER]]]
08:34:55.953 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:34:55.955 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
08:34:55.956 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [9c9b3938-3926-41a8-b4c1-72463524659e], value class [java.lang.String], SQL type unknown
08:34:55.979 | DEBUG | SecurityContextLogoutHandler: Invalidated session 9c9b3938-3926-41a8-b4c1-72463524659e
08:34:55.985 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:34:55.985 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:34:56.020 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:34:56.021 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:34:56.024 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:34:56.024 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:34:56.083 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODM1NDM0NCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzU2MTU0LCJpYXQiOjE3NjgzNTQzNTQsImp0aSI6IjY4OTk5ODJkLWUzMmYtNGM1YS04NDAwLTU4ODNjYTdiMDU2YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiZnVMUUZIV1RwMFI5NXNJNHNHRllMTERGTnV4MGI5dHp3dTIwQzh5ay1GMCJ9.sYxm0-bK3wF3UJ4UjPMqI5zazNZ8FD1p3v6cK8ijQhFEAd0OgEuxESCSq7tMGyKG2JIo-dl3Q1NWLmzdC7V-MQpgz8TLZnGyxXr2SXcUkdcI3GI8FZKM65eFYgaNjMMor4zwQAlj1wkPBmHi4sX1aNHkKLjiUviW8h1x5MZOYyTxR1InI6Mn6_jMatppA5rKaVHHRkjrPwLyCWkcJnXOJlb56e5aZwnDRCJ4r5PshfEEWZlTQy6da4hPn9jvdvx8crozikXx7SkoGUO8lz47r1Ur5xmZHIa-pn4dpBTbX9iTEnxsEAeFfd8qgEeDl4yqnV6i0RoJLW9kGsbU5RIlrA&post_logout_redirect_uri=https://app.bookommerce.com:8080
08:34:58.740 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:34:58.744 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:58.756 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@50b0394e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
08:34:58.756 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1e38f2b, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
08:34:58.758 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@3e54e011
08:34:59.238 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:34:59.241 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.241 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:34:59.250 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:34:59.256 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.257 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:34:59.921 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:34:59.922 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:34:59.928 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.936 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.947 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:34:59.948 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:34:59.974 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:34:59.943 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:34:59.943 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:34:59.945 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:34:59.974 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.979 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.981 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.039 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:34:59.995 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.022 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:00.055 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.022 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:00.028 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:00.032 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:00.052 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:00.068 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:00.071 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:00.077 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:35:00.115 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354500032], value class [java.lang.Long], SQL type unknown
08:35:00.111 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.127 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:00.129 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:35:00.166 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:00.173 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:00.185 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.194 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:00.192 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.198 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:04.534 | DEBUG | FilterChainProxy: Securing GET /api/books/45
08:35:04.537 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:04.538 | DEBUG | FilterChainProxy: Secured GET /api/books/45
08:35:05.814 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:05.814 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:05.816 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:07.437 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:35:07.444 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=GBBw2etyNrtWOCab8zJpjGEsOHAEEGwq5FiMLORpWAo%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=_i7Uw0VkYfGa_Ed6kqJ5ZLdEvxEMex2D2rHWn4mwBlI
08:35:07.449 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:07.449 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
08:35:07.460 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:07.461 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:35:15.461 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:35:15.468 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:15.469 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:15.487 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=62LLz4vS125V-YyKvHNxuHrYTC6MDELFBlfQnCcwyag%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=3QyGK5a6Dg3ojCpvQwOrVRH_ioslgoXCTpMtB9XugBA
08:35:15.494 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:15.495 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:15.500 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:15.501 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:35:15.520 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:15.520 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:15.686 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=FaBNWpbhjpt4PzFoH1N0-Js5exIVXh_jSwJCTWLL71h4UpIPWuvVxUI8asEj9_yiwBjmYytSv-vcoYtXUe8Ke_mRSdgVprnyBVixFwQyPA2WSf8jroG7eRSh8NlIjZvN&state=62LLz4vS125V-YyKvHNxuHrYTC6MDELFBlfQnCcwyag%3D
08:35:15.695 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:15.695 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:16.871 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:16.871 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:35:16.874 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:35:16.879 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:35:16.7888337], value class [java.sql.Timestamp], SQL type 93
08:35:16.880 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:35:45.7888337], value class [java.sql.Timestamp], SQL type 93
08:35:16.881 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:35:16.881 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:35:16.7888337], value class [java.sql.Timestamp], SQL type 93
08:35:16.882 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:16.883 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:16.888 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:16.888 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
08:35:16.891 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:16.892 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:16.894 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:35:16.896 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [2026-01-14 08:35:16.7888337], value class [java.sql.Timestamp], SQL type 93
08:35:16.897 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 6, parameter value [2026-01-14 08:35:45.7888337], value class [java.sql.Timestamp], SQL type 93
08:35:16.897 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:35:16.899 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [2026-01-14 08:35:16.7888337], value class [java.sql.Timestamp], SQL type 93
08:35:16.907 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from d14549a1-93f6-4ac0-a4ac-26c4f83db09c
08:35:16.912 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
08:35:16.915 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:16Z, iat=2026-01-14T01:35:16Z, nonce=3QyGK5a6Dg3ojCpvQwOrVRH_ioslgoXCTpMtB9XugBA, jti=7c7b6bde-a41d-4b8e-b09e-bbe9b893601c, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@444724ac]
08:35:16.916 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:16Z, iat=2026-01-14T01:35:16Z, nonce=3QyGK5a6Dg3ojCpvQwOrVRH_ioslgoXCTpMtB9XugBA, jti=7c7b6bde-a41d-4b8e-b09e-bbe9b893601c, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]
08:35:16.926 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:16.926 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:16.933 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:16.934 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:35:16.947 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:16.948 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:35:16.958 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:16.959 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:17.704 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:35:17.709 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:17.711 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:17.722 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:16Z, iat=2026-01-14T01:35:16Z, nonce=3QyGK5a6Dg3ojCpvQwOrVRH_ioslgoXCTpMtB9XugBA, jti=7c7b6bde-a41d-4b8e-b09e-bbe9b893601c, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:35:17.724 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:35:17.751 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:17.751 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:17.766 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:17.766 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:18.371 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:18.375 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:18.376 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:18.386 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:18.393 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:18.394 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:19.013 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:19.015 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:19.017 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.018 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.019 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:19.024 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:19.030 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:19.037 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:19.043 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.047 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:19.047 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.049 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:19.051 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:19.062 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:19.077 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.081 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:19.081 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.097 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:19.113 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:19.118 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.125 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:19.133 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:19.138 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:19.141 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.145 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:19.142 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.186 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:19.191 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:19.207 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.211 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:26.914 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:35:26.920 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:26.920 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:26.935 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:16Z, iat=2026-01-14T01:35:16Z, nonce=3QyGK5a6Dg3ojCpvQwOrVRH_ioslgoXCTpMtB9XugBA, jti=7c7b6bde-a41d-4b8e-b09e-bbe9b893601c, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:35:26.937 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:35:26.942 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:26.943 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:35:26.946 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:26.946 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:27.995 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:27Z, iat=2026-01-14T01:35:27Z, jti=4a12ee33-f99a-4b03-8e53-48146e25022f, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@12ba01a4]
08:35:27.996 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:27.997 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:35:27.999 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:35:28.000 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:35:27.938778], value class [java.sql.Timestamp], SQL type 93
08:35:28.002 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:35:57.938778], value class [java.sql.Timestamp], SQL type 93
08:35:28.002 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:35:28.003 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:35:27.938778], value class [java.sql.Timestamp], SQL type 93
08:35:28.003 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:28.004 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:29.177 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:29.177 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:29.180 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:29.180 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:35:29.199 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:29.201 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:31.696 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:31.696 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:31.706 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.708 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.714 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:31.718 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:31.857 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:31.858 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.859 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:31.888 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:31.890 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.891 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:31.929 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:31.932 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.933 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:31.970 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:31.971 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.971 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:31.998 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:32.000 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.001 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:32.025 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:32.027 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.027 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:32.044 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:32.046 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.047 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:32.065 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:32.066 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.068 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:32.092 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:32.095 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.096 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:32.131 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:32.142 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.143 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:33.172 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:35:33.176 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:33.176 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:33.197 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:27Z, iat=2026-01-14T01:35:27Z, jti=4a12ee33-f99a-4b03-8e53-48146e25022f, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:35:33.197 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:35:33.204 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:33.204 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:35:33.205 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:33.206 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:34.550 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:34Z, iat=2026-01-14T01:35:34Z, jti=69e529fc-fefa-4729-b651-1f75e7343acd, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1e19e1c6]
08:35:34.551 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:34.552 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:35:34.557 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:35:34.559 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:35:34.346448], value class [java.sql.Timestamp], SQL type 93
08:35:34.563 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:36:03.346448], value class [java.sql.Timestamp], SQL type 93
08:35:34.565 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:35:34.567 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:35:34.346448], value class [java.sql.Timestamp], SQL type 93
08:35:34.578 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:34.581 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:36.088 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:36.089 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:36.092 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:36.093 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:35:36.115 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:36.115 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:44.482 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:44.483 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:44.487 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:44.487 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:44.490 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:44.492 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:45.087 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:45.088 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.089 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:45.091 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:45.102 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.108 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:45.119 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:45.103 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:45.107 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:45.133 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:45.148 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.150 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.189 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:45.195 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:45.152 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.174 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.218 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:45.201 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:45.216 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:45.224 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:45.235 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.259 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.267 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:45.283 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.284 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:45.270 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:45.272 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:45.287 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:45.435 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.446 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:46.776 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:35:46.782 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:46.782 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:46.802 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:34Z, iat=2026-01-14T01:35:34Z, jti=69e529fc-fefa-4729-b651-1f75e7343acd, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:35:46.802 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:35:46.806 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:46.807 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:35:46.808 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:46.808 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:47.880 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:47Z, iat=2026-01-14T01:35:47Z, jti=c52195ce-b0f4-4061-9723-61638a8ac610, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3f95eac1]
08:35:47.881 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:47.882 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:35:47.884 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:35:47.884 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:35:47.8163327], value class [java.sql.Timestamp], SQL type 93
08:35:47.885 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:36:16.8163327], value class [java.sql.Timestamp], SQL type 93
08:35:47.885 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:35:47.888 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:35:47.8163327], value class [java.sql.Timestamp], SQL type 93
08:35:47.889 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:47.889 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:48.955 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:48.957 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:48.961 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:48.961 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:35:48.993 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:48.994 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:50.717 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:50.717 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:50.720 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:50.720 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:50.729 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:50.731 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:50.855 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:50.855 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:50.856 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:51.227 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:51.230 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:51.231 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:51.231 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:51.231 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:51.233 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.231 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:51.234 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.234 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.235 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.236 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.238 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:51.236 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:51.237 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.237 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:51.241 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:51.237 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:51.238 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:51.291 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:51.292 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.292 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:51.295 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:51.298 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:51.300 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.304 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.306 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:51.306 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:53.175 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:35:53.178 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:53.179 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:35:53.192 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:47Z, iat=2026-01-14T01:35:47Z, jti=c52195ce-b0f4-4061-9723-61638a8ac610, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:35:53.194 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:35:53.198 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:53.198 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:35:53.199 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:53.200 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:54.214 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:54Z, iat=2026-01-14T01:35:54Z, jti=b5f0a32e-00be-4e69-a4ac-2d81c5614752, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@52d63291]
08:35:54.215 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:54.216 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:35:54.217 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:35:54.217 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:35:54.15756], value class [java.sql.Timestamp], SQL type 93
08:35:54.218 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:36:24.15756], value class [java.sql.Timestamp], SQL type 93
08:35:54.219 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:35:54.222 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:35:54.15756], value class [java.sql.Timestamp], SQL type 93
08:35:54.222 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:35:54.223 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:35:55.047 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:55.048 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:35:55.052 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:35:55.052 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:35:55.081 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:35:55.081 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:36:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:36:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:36:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354560010], value class [java.lang.Long], SQL type unknown
08:36:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:37:00.099 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:00.195 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:37:00.301 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354620098], value class [java.lang.Long], SQL type unknown
08:37:00.857 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:37:01.964 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:37:01.974 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:01.975 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:37:02.019 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:05:54Z, iat=2026-01-14T01:35:54Z, jti=b5f0a32e-00be-4e69-a4ac-2d81c5614752, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:37:02.020 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:37:02.032 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:02.033 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:37:02.036 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:37:02.037 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:37:06.669 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:03Z, iat=2026-01-14T01:37:03Z, jti=9e7532b3-6dfe-4282-8443-348c2aedfbfd, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7f80d1e4]
08:37:06.673 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:06.673 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:37:06.676 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:37:06.677 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:37:06.3812178], value class [java.sql.Timestamp], SQL type 93
08:37:06.678 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:37:35.3812178], value class [java.sql.Timestamp], SQL type 93
08:37:06.678 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:37:06.679 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:37:06.3812178], value class [java.sql.Timestamp], SQL type 93
08:37:06.679 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:37:06.679 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:37:08.193 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:08.194 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:37:08.199 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:08.200 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:37:08.227 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:08.228 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:37:17.300 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:37:17.304 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:17.305 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:37:17.319 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:03Z, iat=2026-01-14T01:37:03Z, jti=9e7532b3-6dfe-4282-8443-348c2aedfbfd, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:37:17.320 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:37:17.322 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:17.324 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:37:17.327 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:37:17.328 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:37:18.259 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:18Z, iat=2026-01-14T01:37:18Z, jti=8409f42b-ab25-4bec-a855-1000e0750762, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2c0fdcb0]
08:37:18.262 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:18.263 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:37:18.264 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:37:18.265 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:37:18.1831436], value class [java.sql.Timestamp], SQL type 93
08:37:18.266 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:37:48.1831436], value class [java.sql.Timestamp], SQL type 93
08:37:18.266 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:37:18.266 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:37:18.1831436], value class [java.sql.Timestamp], SQL type 93
08:37:18.267 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:37:18.267 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:37:19.150 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:19.151 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:37:19.154 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:19.154 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:37:19.173 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:19.174 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:37:19.404 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:37:19.413 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:19.414 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:37:19.424 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:18Z, iat=2026-01-14T01:37:18Z, jti=8409f42b-ab25-4bec-a855-1000e0750762, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:37:19.424 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:37:19.434 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:19.435 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:37:19.435 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:37:19.437 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:37:22.064 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:21Z, iat=2026-01-14T01:37:21Z, jti=c17acd5d-9db9-4516-afc9-5022dd7b8daa, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@31cc620b]
08:37:22.066 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:22.066 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:37:22.067 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:37:22.067 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:37:21.9092155], value class [java.sql.Timestamp], SQL type 93
08:37:22.067 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:37:50.9092155], value class [java.sql.Timestamp], SQL type 93
08:37:22.068 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:37:22.068 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:37:21.9092155], value class [java.sql.Timestamp], SQL type 93
08:37:22.068 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:37:22.068 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:37:22.994 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:22.994 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:37:22.999 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:37:22.999 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:37:23.027 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:37:23.028 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:38:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:38:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:38:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354680004], value class [java.lang.Long], SQL type unknown
08:38:00.010 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:39:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:39:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354740008], value class [java.lang.Long], SQL type unknown
08:39:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:39:28.725 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:39:28.841 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:28.842 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:39:29.108 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:21Z, iat=2026-01-14T01:37:21Z, jti=c17acd5d-9db9-4516-afc9-5022dd7b8daa, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:39:29.111 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:39:29.196 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:29.196 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:39:29.199 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:29.203 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:31.409 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:39:31.417 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:31.418 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:39:31.438 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:21Z, iat=2026-01-14T01:37:21Z, jti=c17acd5d-9db9-4516-afc9-5022dd7b8daa, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:39:31.440 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:39:31.444 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:31.445 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:39:31.447 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:31.454 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:36.663 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:09:36Z, iat=2026-01-14T01:39:36Z, jti=475eb6ba-9f80-4825-8d7c-d3e59ea45b84, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3fc06acf]
08:39:36.666 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:36.667 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:39:36.669 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:39:36.671 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:39:36.3859877], value class [java.sql.Timestamp], SQL type 93
08:39:36.671 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:40:05.3859877], value class [java.sql.Timestamp], SQL type 93
08:39:36.671 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:39:36.672 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:39:36.3859877], value class [java.sql.Timestamp], SQL type 93
08:39:36.672 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:36.672 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:37.341 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:39:37.347 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:37.382 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:39:37.637 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:07:21Z, iat=2026-01-14T01:37:21Z, jti=c17acd5d-9db9-4516-afc9-5022dd7b8daa, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]]
08:39:37.641 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:39:37.805 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:37.809 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:39:37.815 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:37.817 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:39.738 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:39.739 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:39:39.744 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:39.745 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:41.314 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.security.oauth2.client.ClientAuthorizationException: [invalid_grant] ]
08:39:41.522 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:41.523 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:39:43.839 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:35:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:09:41Z, iat=2026-01-14T01:39:41Z, jti=42349c3f-8ba5-4d5c-a5ac-f2318e07272c, authorities=[ROLE_CUSTOMER], sid=ENWweWlFtwOVFQ41GJoUvs3XrQwACAZHqU3vyJd1ptw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d14549a1-93f6-4ac0-a4ac-26c4f83db09c], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@13a76b7a]
08:39:43.918 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:43.977 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:39:44.036 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:39:44.073 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:39:43.0870767], value class [java.sql.Timestamp], SQL type 93
08:39:44.143 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:40:12.0870767], value class [java.sql.Timestamp], SQL type 93
08:39:44.180 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:39:44.199 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:39:43.0870767], value class [java.sql.Timestamp], SQL type 93
08:39:44.230 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:44.256 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:44.306 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:44.331 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
08:39:44.351 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:39:44.363 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:39:44.381 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:39:44.409 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [2026-01-14 08:39:43.0870767], value class [java.sql.Timestamp], SQL type 93
08:39:44.423 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 6, parameter value [2026-01-14 08:40:12.0870767], value class [java.sql.Timestamp], SQL type 93
08:39:44.455 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:39:44.517 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [2026-01-14 08:39:43.0870767], value class [java.sql.Timestamp], SQL type 93
08:39:45.315 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:45.816 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:39:45.960 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:45.962 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:39:46.059 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:46.061 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:39:49.465 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:49.467 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:39:49.488 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:39:49.492 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:39:49.678 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:39:49.679 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:00.038 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:00.042 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:40:00.047 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354800038], value class [java.lang.Long], SQL type unknown
08:40:00.083 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:40:02.132 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:40:02.139 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:02.144 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:02.150 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Zg04FgrBziG0tX1qnYuLrNeyUVs0iaxuj_KKhwnYZxs%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Owqqsgg2mxGqWDDeVgNhXkDIn67GeCbXTduDvp-4yJM
08:40:02.158 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:02.159 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:02.161 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:02.161 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:40:02.178 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:02.178 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:02.627 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=p8s0zyn5-6as-tW4Om1rklJxbeiY5YkgWo3oWk3ngC7g7x2YOA6LsYd51fV2LEhNqxlofTMmw3MdYjpyfQ9N8ESte5Yh4ZwqKOkQV9-UPwWlwYwReIOnxMxm1ualEbvV&state=Zg04FgrBziG0tX1qnYuLrNeyUVs0iaxuj_KKhwnYZxs%3D
08:40:02.694 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:02.697 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:04.924 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:04.924 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:04.929 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:04.930 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:04.829892], value class [java.sql.Timestamp], SQL type 93
08:40:04.930 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:40:34.829892], value class [java.sql.Timestamp], SQL type 93
08:40:04.930 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:04.931 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:04.829892], value class [java.sql.Timestamp], SQL type 93
08:40:04.931 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:04.931 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:04.950 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 143a5f81-ed60-41c2-b9ad-d4786cef3c17
08:40:04.952 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
08:40:04.958 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:04Z, iat=2026-01-14T01:40:04Z, nonce=Owqqsgg2mxGqWDDeVgNhXkDIn67GeCbXTduDvp-4yJM, jti=24e91468-4de1-4dba-898d-9567e01ba4c1, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1df07475]
08:40:04.958 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:04Z, iat=2026-01-14T01:40:04Z, nonce=Owqqsgg2mxGqWDDeVgNhXkDIn67GeCbXTduDvp-4yJM, jti=24e91468-4de1-4dba-898d-9567e01ba4c1, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]
08:40:04.961 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:04.961 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:04.966 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:04.968 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:04.975 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:04.976 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:05.000 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:05.000 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:08.277 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:40:08.291 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:08.328 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:08.340 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:04Z, iat=2026-01-14T01:40:04Z, nonce=Owqqsgg2mxGqWDDeVgNhXkDIn67GeCbXTduDvp-4yJM, jti=24e91468-4de1-4dba-898d-9567e01ba4c1, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:08.358 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:40:08.434 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:08.444 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:08.466 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:08.481 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:09.747 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:40:09.826 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:09.839 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:09.881 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:09.958 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:40:09.994 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:12.723 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:40:12.726 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.728 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:40:12.777 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:40:12.788 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:40:12.789 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:12.793 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:40:12.792 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:40:12.804 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.804 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.822 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:40:12.805 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.817 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.817 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.817 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:40:12.843 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:12.853 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:40:12.858 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:40:12.907 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:12.925 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.947 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:13.011 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:40:13.019 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.036 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:40:13.138 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:13.190 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.203 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:13.326 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:13.349 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.357 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:33.073 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:40:33.081 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:33.081 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:33.093 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:04Z, iat=2026-01-14T01:40:04Z, nonce=Owqqsgg2mxGqWDDeVgNhXkDIn67GeCbXTduDvp-4yJM, jti=24e91468-4de1-4dba-898d-9567e01ba4c1, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:33.096 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:40:33.105 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:33.105 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:33.106 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:33.107 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:34.066 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:33Z, iat=2026-01-14T01:40:33Z, jti=20606171-f85c-46f1-bd74-4c7b123c9a68, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@8194bec]
08:40:34.066 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:34.067 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:34.070 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:34.070 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:33.9925254], value class [java.sql.Timestamp], SQL type 93
08:40:34.070 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:03.9925254], value class [java.sql.Timestamp], SQL type 93
08:40:34.073 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:34.074 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:33.9925254], value class [java.sql.Timestamp], SQL type 93
08:40:34.075 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:34.080 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:34.961 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:34.964 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:34.966 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:34.967 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:34.984 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:34.985 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:36.927 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:36.930 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:36.931 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:36.938 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:40:36.942 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:36.955 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:40:37.192 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:37.199 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.199 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:37.226 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:40:37.229 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.229 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:40:37.264 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:40:37.264 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.265 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:40:37.295 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:40:37.296 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.297 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:40:37.329 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:40:37.330 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.333 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:40:37.367 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:40:37.371 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.375 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:40:37.402 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:40:37.403 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.405 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:40:37.432 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:37.433 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.433 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:37.465 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:37.467 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.467 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:37.494 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:37.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.495 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:38.610 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:40:38.613 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:38.618 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:38.632 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:33Z, iat=2026-01-14T01:40:33Z, jti=20606171-f85c-46f1-bd74-4c7b123c9a68, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:38.635 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:40:38.639 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:38.642 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:38.643 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:38.644 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:40.292 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:40Z, iat=2026-01-14T01:40:40Z, jti=1c2ea4b0-d79e-4025-b703-1c416b021335, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@365cf8d6]
08:40:40.293 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:40.294 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:40.295 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:40.295 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:40.2417365], value class [java.sql.Timestamp], SQL type 93
08:40:40.296 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:09.2417365], value class [java.sql.Timestamp], SQL type 93
08:40:40.296 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:40.297 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:40.2417365], value class [java.sql.Timestamp], SQL type 93
08:40:40.297 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:40.298 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:40.462 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:40:40.466 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:40.466 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:40.477 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:33Z, iat=2026-01-14T01:40:33Z, jti=20606171-f85c-46f1-bd74-4c7b123c9a68, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:40.482 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:40:40.486 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:40.487 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:40.488 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:40.490 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:41.170 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:41.171 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:41.174 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:41.175 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:41.189 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:41.192 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:41.425 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:41Z, iat=2026-01-14T01:40:41Z, jti=447cc1b9-a0b9-42ca-b288-e80ffd142726, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@43a2d9cd]
08:40:41.425 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:41.425 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:41.426 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:41.428 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:41.3245783], value class [java.sql.Timestamp], SQL type 93
08:40:41.428 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:11.3245783], value class [java.sql.Timestamp], SQL type 93
08:40:41.428 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:41.428 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:41.3245783], value class [java.sql.Timestamp], SQL type 93
08:40:41.428 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:41.428 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:42.439 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:42.440 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:42.442 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:42.444 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:42.458 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:42.458 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:44.082 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:40:44.085 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:44.086 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:44.094 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:41Z, iat=2026-01-14T01:40:41Z, jti=447cc1b9-a0b9-42ca-b288-e80ffd142726, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:44.094 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:40:44.097 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:44.097 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:44.098 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:44.099 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:44.927 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:44Z, iat=2026-01-14T01:40:44Z, jti=cb148488-1d13-431d-8826-a7314cc9cdcd, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@8777def]
08:40:44.928 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:44.929 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:44.931 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:44.932 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:44.8802903], value class [java.sql.Timestamp], SQL type 93
08:40:44.933 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:14.8802903], value class [java.sql.Timestamp], SQL type 93
08:40:44.934 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:44.935 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:44.8802903], value class [java.sql.Timestamp], SQL type 93
08:40:44.935 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:44.936 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:45.420 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:40:45.423 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:45.423 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:45.432 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:41Z, iat=2026-01-14T01:40:41Z, jti=447cc1b9-a0b9-42ca-b288-e80ffd142726, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:45.436 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:40:45.438 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:45.438 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:45.440 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:45.440 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:45.809 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:45.809 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:45.812 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:45.813 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:45.823 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:45.824 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:46.644 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:46Z, iat=2026-01-14T01:40:46Z, jti=5fa9280c-041e-4206-9aec-954a8d2dbf32, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@36d5fad4]
08:40:46.647 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:46.647 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:46.648 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:46.648 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:46.5990397], value class [java.sql.Timestamp], SQL type 93
08:40:46.649 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:16.5990397], value class [java.sql.Timestamp], SQL type 93
08:40:46.652 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:46.653 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:46.5990397], value class [java.sql.Timestamp], SQL type 93
08:40:46.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:46.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:47.693 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:47.693 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:47.698 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:47.699 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:47.712 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:47.713 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:51.622 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:40:51.635 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:51.637 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:51.656 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:46Z, iat=2026-01-14T01:40:46Z, jti=5fa9280c-041e-4206-9aec-954a8d2dbf32, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:51.662 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:40:51.665 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:51.668 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:51.671 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:51.687 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:52.881 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:52Z, iat=2026-01-14T01:40:52Z, jti=7d0eb881-3b4e-4fd6-83f2-429bfa94b12e, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@45e359e7]
08:40:52.886 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:52.890 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:52.895 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:52.897 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:52.8094536], value class [java.sql.Timestamp], SQL type 93
08:40:52.900 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:21.8094536], value class [java.sql.Timestamp], SQL type 93
08:40:52.901 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:52.901 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:52.8094536], value class [java.sql.Timestamp], SQL type 93
08:40:52.901 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:52.902 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:53.840 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:53.843 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:40:53.848 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:53.849 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:40:53.866 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:53.869 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:58.747 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:40:58.756 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:58.756 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:40:58.767 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:52Z, iat=2026-01-14T01:40:52Z, jti=7d0eb881-3b4e-4fd6-83f2-429bfa94b12e, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:40:58.768 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:40:58.777 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:40:58.777 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:40:58.779 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:58.780 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:40:59.874 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:59Z, iat=2026-01-14T01:40:59Z, jti=413c16f2-6d54-4d47-997d-69a9974ad9e9, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@50cc7e9e]
08:40:59.875 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:40:59.876 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:40:59.885 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:40:59.886 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:40:59.7813588], value class [java.sql.Timestamp], SQL type 93
08:40:59.888 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:29.7813588], value class [java.sql.Timestamp], SQL type 93
08:40:59.888 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:40:59.889 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:40:59.7813588], value class [java.sql.Timestamp], SQL type 93
08:40:59.890 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:40:59.891 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:41:00.050 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:00.052 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:41:00.054 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354860050], value class [java.lang.Long], SQL type unknown
08:41:00.059 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:41:01.087 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:01.088 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:41:01.090 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:01.091 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:41:01.106 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:01.107 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:41:02.835 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:41:02.838 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:02.840 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:41:02.848 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:10:59Z, iat=2026-01-14T01:40:59Z, jti=413c16f2-6d54-4d47-997d-69a9974ad9e9, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:41:02.850 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:41:02.857 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:02.858 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:41:02.862 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:41:02.863 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:41:03.817 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:11:03Z, iat=2026-01-14T01:41:03Z, jti=00b8fa88-176a-4588-9489-8165923696e7, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@fac4abf]
08:41:03.819 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:03.819 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:41:03.821 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:41:03.822 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:41:03.7623678], value class [java.sql.Timestamp], SQL type 93
08:41:03.823 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:33.7623678], value class [java.sql.Timestamp], SQL type 93
08:41:03.823 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:41:03.824 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:41:03.7623678], value class [java.sql.Timestamp], SQL type 93
08:41:03.824 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:41:03.824 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:41:04.661 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:04.664 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:41:04.668 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:04.669 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:41:04.684 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:04.684 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:41:11.268 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
08:41:11.273 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:11.277 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:41:11.285 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:11:03Z, iat=2026-01-14T01:41:03Z, jti=00b8fa88-176a-4588-9489-8165923696e7, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:41:11.285 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
08:41:11.290 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:11.290 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:41:11.297 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:41:11.297 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:41:12.482 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:11:12Z, iat=2026-01-14T01:41:12Z, jti=1eb88521-0941-4a5b-94d1-79fe3334fd4d, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6bbb8cd9]
08:41:12.483 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:12.483 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:41:12.485 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:41:12.486 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:41:12.4324345], value class [java.sql.Timestamp], SQL type 93
08:41:12.487 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:41:42.4324345], value class [java.sql.Timestamp], SQL type 93
08:41:12.488 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:41:12.489 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:41:12.4324345], value class [java.sql.Timestamp], SQL type 93
08:41:12.491 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:41:12.492 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:41:13.402 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:13.403 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:41:13.408 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:41:13.408 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:41:13.425 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:41:13.427 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:41:17.043 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:41:17.043 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:41:17.044 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.044 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.044 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:41:17.044 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:41:17.474 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:41:17.475 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:41:17.477 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.477 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.481 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:41:17.481 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:41:17.496 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:41:17.496 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:41:17.499 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.507 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.508 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:41:17.508 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:41:17.508 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:41:17.511 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.547 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:41:17.548 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:41:17.560 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:41:17.563 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.565 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.566 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:41:17.572 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:41:17.570 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:41:17.573 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.573 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:41:17.595 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:41:17.596 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.596 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:41:17.614 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:41:17.618 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.623 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:41:57.439 | DEBUG | FilterChainProxy: Securing GET /api/books/45
08:41:57.442 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:57.443 | DEBUG | FilterChainProxy: Secured GET /api/books/45
08:41:57.650 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:41:57.651 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:57.651 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:42:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:42:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354920017], value class [java.lang.Long], SQL type unknown
08:42:00.023 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:42:04.653 | DEBUG | FilterChainProxy: Securing POST /protected/logout
08:42:04.658 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:42:04.658 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:42:04.680 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:11:12Z, iat=2026-01-14T01:41:12Z, jti=1eb88521-0941-4a5b-94d1-79fe3334fd4d, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:42:04.682 | DEBUG | LogoutFilter: Logging out [OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:40:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:11:12Z, iat=2026-01-14T01:41:12Z, jti=1eb88521-0941-4a5b-94d1-79fe3334fd4d, authorities=[ROLE_CUSTOMER], sid=Vma5Lo85_2tIUa7uhfksN4slpaw1jtjgiwYTiASPEbQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=143a5f81-ed60-41c2-b9ad-d4786cef3c17], Granted Authorities=[ROLE_CUSTOMER]]]
08:42:04.686 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:42:04.686 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
08:42:04.687 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [83b086dd-2125-4fd2-a34b-ec0fd3d78490], value class [java.lang.String], SQL type unknown
08:42:04.702 | DEBUG | SecurityContextLogoutHandler: Invalidated session 83b086dd-2125-4fd2-a34b-ec0fd3d78490
08:42:04.707 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:42:04.707 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:42:04.713 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:42:04.713 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:42:04.714 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:42:04.715 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:42:04.727 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODM1NDgwMiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzU2NjcyLCJpYXQiOjE3NjgzNTQ4NzIsImp0aSI6IjFlYjg4NTIxLTA5NDEtNGE1Yi05NGQxLTc5ZmUzMzM0ZmQ0ZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiVm1hNUxvODVfMnRJVWE3dWhma3NONHNscGF3MWp0amdpd1lUaUFTUEViUSJ9.Gazqc8vlK-Zfys_wFENYWHr4bsNbJIJTZ_GZMffid6YmpQmtlKQDkA9R-R_EwuvoAO-f6Sjjhsv2qND7QAfv4z9b52I-lXzI9qHxmQRs_BJ4zfsnJu74xlQwcECjGRr54XIi9J5kczKIAFS3vEf0OwwYvmqSHl8UNYwc-YMYiK2zoZ1znvyWFQFnymjgSVVhpMERPjHt0UT5AxvEe2b__4_9oXvrlzJD_2hCVhnV3niMZlmBWKxkCTS8-6hyuolXIQywWlvoMdX2nZWxlV7a--RTGlZBPN0zjhvyOO_XzAcQQiJbeNK7c9SNDdU1cJEyGjFa7kUWzf0M1f3xePf2tw&post_logout_redirect_uri=https://app.bookommerce.com:8080
08:42:05.749 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:42:05.751 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:05.754 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@50b0394e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
08:42:05.756 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1e38f2b, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
08:42:05.756 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@3e54e011
08:42:06.202 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:42:06.205 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.206 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:42:06.213 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:42:06.215 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.218 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:42:06.747 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:06.748 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:42:06.753 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.753 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.758 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:06.756 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:42:06.759 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:42:06.760 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:42:06.763 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.763 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:42:06.767 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.793 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:42:06.787 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:42:06.793 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.818 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:42:06.794 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:42:06.881 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.883 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:42:06.979 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:42:06.995 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.049 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:42:07.026 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:42:07.390 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.465 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:42:07.538 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:42:07.586 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.638 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:42:07.914 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:42:08.080 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:08.164 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:42:13.450 | DEBUG | FilterChainProxy: Securing GET /api/books/45
08:42:13.452 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:13.453 | DEBUG | FilterChainProxy: Secured GET /api/books/45
08:42:13.575 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:13.578 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:13.579 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:43:00.023 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:00.034 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:43:00.042 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768354980023], value class [java.lang.Long], SQL type unknown
08:43:00.053 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:43:24.334 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:43:24.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:43:24.354 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@50b0394e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
08:43:24.354 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1e38f2b, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
08:43:24.355 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@3e54e011
08:43:31.012 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:43:31.030 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=PrtnTaJ0qBfWsDcwmTsPAXqF3-eaJHKydzBxJepDeSg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=69XjaOpclNpE7G0qeu4P9eV7XbMN3b_kG3qqQ02ZxKU
08:43:31.035 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:31.036 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
08:43:31.050 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:31.051 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:43:31.296 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=tiZ_TbQkew-5CRYjHn0s8qCLYmKFGqxgf395hrcmJj7KT8IpqJ30UkBEiHMTq5ErRVdVThAD-Yh8xPimb3SuT8jNxGzPxm9K32Gk4-4nAFUtA1pq26DHAMxdoxpAd8o-&state=PrtnTaJ0qBfWsDcwmTsPAXqF3-eaJHKydzBxJepDeSg%3D
08:43:31.300 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:43:31.301 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:43:32.485 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:32.485 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:43:32.487 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:43:32.489 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:43:32.4071363], value class [java.sql.Timestamp], SQL type 93
08:43:32.489 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:44:02.4071363], value class [java.sql.Timestamp], SQL type 93
08:43:32.489 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:43:32.491 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:43:32.4071363], value class [java.sql.Timestamp], SQL type 93
08:43:32.491 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:43:32.491 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [prodman@bookommerce.com], value class [java.lang.String], SQL type 12
08:43:32.499 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:32.500 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
08:43:32.502 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:43:32.503 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [prodman@bookommerce.com], value class [java.lang.String], SQL type 12
08:43:32.504 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:43:32.504 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [2026-01-14 08:43:32.4071363], value class [java.sql.Timestamp], SQL type 93
08:43:32.505 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 6, parameter value [2026-01-14 08:44:02.4071363], value class [java.sql.Timestamp], SQL type 93
08:43:32.505 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:43:32.506 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [2026-01-14 08:43:32.4071363], value class [java.sql.Timestamp], SQL type 93
08:43:32.517 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 2319e821-4e37-48dd-9137-65f152740e5f
08:43:32.519 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
08:43:32.522 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:43:31Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:13:32Z, iat=2026-01-14T01:43:32Z, nonce=69XjaOpclNpE7G0qeu4P9eV7XbMN3b_kG3qqQ02ZxKU, jti=3143d7c4-2927-4955-884e-be3fafa12e40, authorities=[ROLE_PRODUCT_MANAGER], sid=bcTqUBdu-iqbt4kDdVy9JfrtpKGHmn4LJ-FKVfLP_fc}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2319e821-4e37-48dd-9137-65f152740e5f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7a0449e]
08:43:32.524 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:43:31Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:13:32Z, iat=2026-01-14T01:43:32Z, nonce=69XjaOpclNpE7G0qeu4P9eV7XbMN3b_kG3qqQ02ZxKU, jti=3143d7c4-2927-4955-884e-be3fafa12e40, authorities=[ROLE_PRODUCT_MANAGER], sid=bcTqUBdu-iqbt4kDdVy9JfrtpKGHmn4LJ-FKVfLP_fc}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2319e821-4e37-48dd-9137-65f152740e5f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
08:43:32.533 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:32.533 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:43:32.537 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:32.538 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:43:32.547 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:32.548 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:43:32.563 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:43:32.564 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:43:33.374 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:43:33.380 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:43:33.380 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:43:33.401 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:43:31Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:13:32Z, iat=2026-01-14T01:43:32Z, nonce=69XjaOpclNpE7G0qeu4P9eV7XbMN3b_kG3qqQ02ZxKU, jti=3143d7c4-2927-4955-884e-be3fafa12e40, authorities=[ROLE_PRODUCT_MANAGER], sid=bcTqUBdu-iqbt4kDdVy9JfrtpKGHmn4LJ-FKVfLP_fc}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2319e821-4e37-48dd-9137-65f152740e5f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
08:43:33.402 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:43:33.471 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:33.472 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:43:33.489 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:43:33.489 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:43:45.805 | DEBUG | FilterChainProxy: Securing POST /protected/logout
08:43:45.820 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:43:45.851 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:43:45.866 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:43:31Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:13:32Z, iat=2026-01-14T01:43:32Z, nonce=69XjaOpclNpE7G0qeu4P9eV7XbMN3b_kG3qqQ02ZxKU, jti=3143d7c4-2927-4955-884e-be3fafa12e40, authorities=[ROLE_PRODUCT_MANAGER], sid=bcTqUBdu-iqbt4kDdVy9JfrtpKGHmn4LJ-FKVfLP_fc}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2319e821-4e37-48dd-9137-65f152740e5f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
08:43:45.867 | DEBUG | LogoutFilter: Logging out [OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:43:31Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:13:32Z, iat=2026-01-14T01:43:32Z, nonce=69XjaOpclNpE7G0qeu4P9eV7XbMN3b_kG3qqQ02ZxKU, jti=3143d7c4-2927-4955-884e-be3fafa12e40, authorities=[ROLE_PRODUCT_MANAGER], sid=bcTqUBdu-iqbt4kDdVy9JfrtpKGHmn4LJ-FKVfLP_fc}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2319e821-4e37-48dd-9137-65f152740e5f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
08:43:45.869 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:45.870 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
08:43:45.872 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [665a4677-33ca-4c6e-ba3f-d1307a52129f], value class [java.lang.String], SQL type unknown
08:43:45.881 | DEBUG | SecurityContextLogoutHandler: Invalidated session 665a4677-33ca-4c6e-ba3f-d1307a52129f
08:43:45.883 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:43:45.884 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:43:45.893 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:43:45.895 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:43:45.899 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:43:45.901 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [prodman@bookommerce.com], value class [java.lang.String], SQL type 12
08:43:45.914 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODM1NTAxMSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzU2ODEyLCJpYXQiOjE3NjgzNTUwMTIsIm5vbmNlIjoiNjlYamFPcGNsTnBFN0cwcWV1NFA5ZVY3WGJNTjNiX2tHM3FxUTAyWnhLVSIsImp0aSI6IjMxNDNkN2M0LTI5MjctNDk1NS04ODRlLWJlM2ZhZmExMmU0MCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6ImJjVHFVQmR1LWlxYnQ0a0RkVnk5SmZydHBLR0htbjRMSi1GS1ZmTFBfZmMifQ.fwaTDZOwFVEtpdd0Sr9gDOzuYUk5viYOZnHQ1dxmQVdjRVYg-_OAnaXCWnDUHcNT3frfb42QsADrptlHmGKVdYEfoU6EByoaI9Yfwn5NDxDZ69OZxGXpmQeKPMWuh48g9-Ocl-gW4hiiWNJ-Bm3XN8UYsTmKEdO-rFM-x9IWMg_6mtn205wxskCk8-_ts72ZvK8FhM-n9G6g0WQD0CzGGwgaDS-Gi9ddK3iXpmxGDB7xo858sAVmZB-W4DMioDOs1DI_7opDr_RrdMhyjwGftx47zn2Yl0c4YEB-KCBi6Aj0TqX9p1F6uWQiC3I-FA2P2z0_s1bXQYszCqaaCObsIw&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
08:44:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:44:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:44:00.015 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355040008], value class [java.lang.Long], SQL type unknown
08:44:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:45:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:45:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:45:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355100004], value class [java.lang.Long], SQL type unknown
08:45:00.013 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:46:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:46:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:46:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355160017], value class [java.lang.Long], SQL type unknown
08:46:00.024 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:47:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:47:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355220016], value class [java.lang.Long], SQL type unknown
08:47:00.029 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:47:01.218 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
08:47:01.234 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=9tNUtwyyvFCRfZGcE1BUrbZXrfKuDsgkq0TThlEfpVQ%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=jdzSn26Ra_364Inj0QhC9y4gOztX1UbQlts7Ai_j7p8
08:47:01.238 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:01.239 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
08:47:01.246 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:01.247 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:47:01.433 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=yC99pY64TQTtwKRxCRF1Pvw49GGxJR6GH2bGQc6ei38mDHDt1tKV7NpxOjOcp4yrwuxJYUCiLwmFMBoqHUv75D6_YcIz1JozdvJhe29zoiKsxIm1RKK97rMfB3f5-SwR&state=9tNUtwyyvFCRfZGcE1BUrbZXrfKuDsgkq0TThlEfpVQ%3D
08:47:01.437 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:47:01.438 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:47:02.636 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:02.639 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:47:02.641 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:47:02.642 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:47:02.5587035], value class [java.sql.Timestamp], SQL type 93
08:47:02.644 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:47:32.5587035], value class [java.sql.Timestamp], SQL type 93
08:47:02.644 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:47:02.645 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:47:02.5587035], value class [java.sql.Timestamp], SQL type 93
08:47:02.645 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:47:02.645 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:47:02.651 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:02.652 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO oauth2_authorized_client (client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
08:47:02.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:47:02.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:47:02.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:47:02.655 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [2026-01-14 08:47:02.5587035], value class [java.sql.Timestamp], SQL type 93
08:47:02.655 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 6, parameter value [2026-01-14 08:47:32.5587035], value class [java.sql.Timestamp], SQL type 93
08:47:02.656 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:47:02.656 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [2026-01-14 08:47:02.5587035], value class [java.sql.Timestamp], SQL type 93
08:47:02.664 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 64802ca9-2ac9-403f-bd79-4a7e92fc724a
08:47:02.669 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
08:47:02.671 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:17:02Z, iat=2026-01-14T01:47:02Z, nonce=jdzSn26Ra_364Inj0QhC9y4gOztX1UbQlts7Ai_j7p8, jti=7af47341-3ae0-46d5-a867-d39d4fa8eea6, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5f4dbfcb]
08:47:02.673 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:17:02Z, iat=2026-01-14T01:47:02Z, nonce=jdzSn26Ra_364Inj0QhC9y4gOztX1UbQlts7Ai_j7p8, jti=7af47341-3ae0-46d5-a867-d39d4fa8eea6, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]
08:47:02.679 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:02.680 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:47:02.686 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:02.686 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
08:47:02.692 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:02.693 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:47:02.703 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:47:02.704 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:47:03.663 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:47:03.668 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:47:03.669 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:47:03.684 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:17:02Z, iat=2026-01-14T01:47:02Z, nonce=jdzSn26Ra_364Inj0QhC9y4gOztX1UbQlts7Ai_j7p8, jti=7af47341-3ae0-46d5-a867-d39d4fa8eea6, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]]
08:47:03.685 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:47:03.709 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:47:03.710 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:47:03.724 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:47:03.724 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:47:04.308 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:47:04.309 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:04.310 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:47:04.320 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:47:04.324 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:04.326 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:47:05.062 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:47:05.064 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:47:05.064 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.065 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.066 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:47:05.066 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:47:05.078 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:47:05.080 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:47:05.084 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.087 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:47:05.081 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.096 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:47:05.093 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:47:05.132 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.133 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:47:05.133 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:47:05.125 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:47:05.132 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:47:05.137 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.148 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:47:05.137 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.150 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:47:05.147 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.187 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:47:05.208 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:47:05.215 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.218 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:47:05.221 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:47:05.231 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.246 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:48:00.022 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:48:00.040 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355280014], value class [java.lang.Long], SQL type unknown
08:48:00.050 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:48:15.996 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
08:48:16.030 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:48:16.042 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:48:16.067 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:17:02Z, iat=2026-01-14T01:47:02Z, nonce=jdzSn26Ra_364Inj0QhC9y4gOztX1UbQlts7Ai_j7p8, jti=7af47341-3ae0-46d5-a867-d39d4fa8eea6, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]]
08:48:16.081 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
08:48:16.128 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:48:16.135 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:48:16.152 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:48:16.181 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:48:18.600 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:48:18.610 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:18.733 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:18.899 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:18.927 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:48:18.956 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:19.912 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:19.917 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.917 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:48:19.919 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:19.927 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.929 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:48:19.931 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:48:19.946 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:48:19.965 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.980 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:48:19.960 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.981 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:48:19.985 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.990 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:48:20.013 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:48:20.031 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:48:20.092 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:48:20.098 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.146 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:20.217 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.231 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:48:20.248 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:20.250 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.263 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:20.267 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:48:20.287 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.283 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:20.284 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.296 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:20.298 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:24.968 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=DESC
08:48:24.972 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:24.973 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=DESC
08:48:25.521 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
08:48:25.525 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
08:48:25.525 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:25.535 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.524 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:25.526 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
08:48:25.530 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.538 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
08:48:25.538 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.538 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
08:48:25.535 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.544 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:25.537 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:25.558 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.569 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:25.537 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.608 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
08:48:25.608 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
08:48:25.623 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:25.537 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
08:48:25.625 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.644 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
08:48:25.637 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.665 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:25.695 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
08:48:25.717 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.723 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:25.750 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
08:48:25.858 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.874 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
08:48:29.812 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:29.822 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:29.827 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:29.934 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:29.935 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:29.936 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:30.032 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:48:30.034 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.033 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:48:30.035 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:48:30.036 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.038 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:48:30.038 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:48:30.039 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.041 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:48:30.058 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:48:30.058 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.066 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:48:30.087 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:48:30.088 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.090 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:48:30.111 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:48:30.116 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.116 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:48:30.136 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:30.137 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.138 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:30.161 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:30.161 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.163 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:30.184 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:30.185 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.185 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:37.267 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:37.276 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:37.314 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:38.023 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_28289.jpg
08:48:38.026 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.035 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_28289.jpg
08:48:38.035 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_24750.jpg
08:48:38.044 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.045 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_24750.jpg
08:48:38.045 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:38.046 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.048 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:38.036 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
08:48:38.040 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
08:48:38.040 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
08:48:38.056 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.061 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.071 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.072 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
08:48:38.075 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
08:48:38.079 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
08:48:38.083 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
08:48:38.095 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.117 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:38.135 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:38.230 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
08:48:38.249 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
08:48:38.358 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.262 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.276 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.366 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
08:48:38.368 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:38.369 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:42.378 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=PRICE&order=ASC
08:48:42.382 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:42.383 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=PRICE&order=ASC
08:48:42.886 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:42.888 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:42.886 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
08:48:42.889 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:42.891 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:42.892 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
08:48:46.931 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=RATING&order=DESC
08:48:46.948 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:46.949 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=RATING&order=DESC
08:48:47.240 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:48:47.241 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:47.241 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:48:47.536 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
08:48:47.539 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:47.539 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
08:48:50.740 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:50.741 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:50.743 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:50.885 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:50.886 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:50.887 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:51.017 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:51.018 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:51.018 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:51.324 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:51.324 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:51.326 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:49:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:49:00.028 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:49:00.033 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355340019], value class [java.lang.Long], SQL type unknown
08:49:00.039 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:49:15.924 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:49:15.927 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:49:15.928 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:50:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:50:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355400009], value class [java.lang.Long], SQL type unknown
08:50:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:50:04.963 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:50:04.972 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:04.973 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:50:05.167 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:17:02Z, iat=2026-01-14T01:47:02Z, nonce=jdzSn26Ra_364Inj0QhC9y4gOztX1UbQlts7Ai_j7p8, jti=7af47341-3ae0-46d5-a867-d39d4fa8eea6, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]]
08:50:05.170 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:50:05.199 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:05.199 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:50:05.202 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:50:05.202 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:50:06.204 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:20:06Z, iat=2026-01-14T01:50:06Z, jti=ec5cadfb-a4c9-482b-b904-3a277750a162, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3ae4ea46]
08:50:06.206 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:06.207 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:50:06.209 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:50:06.211 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:50:06.1457631], value class [java.sql.Timestamp], SQL type 93
08:50:06.212 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:50:35.1457631], value class [java.sql.Timestamp], SQL type 93
08:50:06.212 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:50:06.212 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:50:06.1457631], value class [java.sql.Timestamp], SQL type 93
08:50:06.212 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:50:06.212 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:50:06.748 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:06.748 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:50:06.752 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:06.752 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:50:06.776 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:06.776 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:50:39.069 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
08:50:39.087 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
08:50:39.088 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:39.089 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:50:39.100 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:20:06Z, iat=2026-01-14T01:50:06Z, jti=ec5cadfb-a4c9-482b-b904-3a277750a162, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]]
08:50:39.100 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
08:50:39.102 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:39.102 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:50:39.102 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:50:39.102 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:50:39.449 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:20:39Z, iat=2026-01-14T01:50:39Z, jti=d92cc00e-4c4b-4dbd-be24-fb5929421c6c, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2f206a54]
08:50:39.450 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:39.450 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:50:39.4268833], value class [java.sql.Timestamp], SQL type 93
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:51:09.4268833], value class [java.sql.Timestamp], SQL type 93
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:50:39.4268833], value class [java.sql.Timestamp], SQL type 93
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:50:39.451 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:50:40.701 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:40.701 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:50:40.705 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:40.706 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:50:40.718 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:40.718 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:50:40.735 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
08:50:40.765 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:40.765 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:50:40.777 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:20:39Z, iat=2026-01-14T01:50:39Z, jti=d92cc00e-4c4b-4dbd-be24-fb5929421c6c, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]]
08:50:40.778 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
08:50:40.779 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:40.780 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
08:50:40.780 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
08:50:40.780 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:50:41.202 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T01:47:01Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:20:41Z, iat=2026-01-14T01:50:41Z, jti=79908ae3-7a04-4b9f-a3b6-ffcadcd480e2, authorities=[ROLE_CUSTOMER], sid=bRcSzEYAL2uUTvX87kMToSFTFqjP7FdHXPYwC_QP4Zg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=64802ca9-2ac9-403f-bd79-4a7e92fc724a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5a7e3233]
08:50:41.203 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:41.203 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
08:50:41.203 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
08:50:41.203 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 08:50:41.1748002], value class [java.sql.Timestamp], SQL type 93
08:50:41.204 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 08:51:11.1748002], value class [java.sql.Timestamp], SQL type 93
08:50:41.204 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
08:50:41.204 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 08:50:41.1748002], value class [java.sql.Timestamp], SQL type 93
08:50:41.205 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
08:50:41.205 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
08:50:41.542 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:41.543 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
08:50:41.544 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:50:41.544 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
08:50:41.561 | DEBUG | JdbcTemplate: Executing prepared SQL query
08:50:41.561 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
08:51:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:51:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:51:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355460009], value class [java.lang.Long], SQL type unknown
08:51:00.013 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:52:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:52:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:52:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355520009], value class [java.lang.Long], SQL type unknown
08:52:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:53:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:53:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:53:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355580005], value class [java.lang.Long], SQL type unknown
08:53:00.010 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:54:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:54:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:54:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355640012], value class [java.lang.Long], SQL type unknown
08:54:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
08:55:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:55:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:55:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355700003], value class [java.lang.Long], SQL type unknown
08:55:00.009 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:56:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:56:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:56:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355760009], value class [java.lang.Long], SQL type unknown
08:56:00.014 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:57:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:57:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:57:00.026 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355820011], value class [java.lang.Long], SQL type unknown
08:57:00.040 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:58:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:58:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:58:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355880011], value class [java.lang.Long], SQL type unknown
08:58:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
08:59:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
08:59:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
08:59:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768355940015], value class [java.lang.Long], SQL type unknown
08:59:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:00:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:00:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:00:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356000006], value class [java.lang.Long], SQL type unknown
09:00:00.010 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:01:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:01:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:01:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356060007], value class [java.lang.Long], SQL type unknown
09:01:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:02:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:02:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:02:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356120017], value class [java.lang.Long], SQL type unknown
09:02:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:03:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:03:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:03:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356180003], value class [java.lang.Long], SQL type unknown
09:03:00.009 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:04:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:04:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:04:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356240014], value class [java.lang.Long], SQL type unknown
09:04:00.032 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:05:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:05:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:05:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356300015], value class [java.lang.Long], SQL type unknown
09:05:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:05:43.137 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:05:43.218 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=S3oI2Lbse_CE4JrupX-0NgzyikNmRRp2H8uvTZ-s41Y%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=JrT-Kox--wpv5PtajHcdSeX5h4JyS-gLLARjr722NKo
09:05:43.227 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:05:43.228 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
09:05:43.240 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:05:43.241 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:06:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:06:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:06:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356360009], value class [java.lang.Long], SQL type unknown
09:06:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:07:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:07:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:07:00.006 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356420004], value class [java.lang.Long], SQL type unknown
09:07:00.009 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:07:31.525 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
09:07:31.953 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:07:32.037 | INFO | GracefulShutdown: Graceful shutdown complete
09:07:32.262 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:07:32.449 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
09:07:32.505 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
09:07:34.097 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
09:07:34.098 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
09:07:35.217 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:07:35.229 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
09:07:35.465 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
09:07:35.698 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
09:07:35.704 | INFO | StandardService: Starting service [Tomcat]
09:07:35.705 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:07:35.761 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:07:35.761 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1438 ms
09:07:35.876 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:07:35.881 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:07:35.905 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:07:35.909 | INFO | HikariDataSource: HikariPool-2 - Starting...
09:07:36.009 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77b5b638
09:07:36.010 | INFO | HikariDataSource: HikariPool-2 - Start completed.
09:07:36.015 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:07:36.017 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:07:36.127 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:07:36.213 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:07:36.324 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:07:36.434 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:07:36.517 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:07:36.754 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
09:07:36.858 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
09:07:36.861 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
09:07:36.874 | INFO | BeForFeApplication: Started BeForFeApplication in 3.128 seconds (process running for 2687.545)
09:07:36.877 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:08:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:08:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:08:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356480018], value class [java.lang.Long], SQL type unknown
09:08:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:09:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:09:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:09:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356540009], value class [java.lang.Long], SQL type unknown
09:09:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
09:09:05.977 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
09:09:05.987 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:09:06.000 | INFO | GracefulShutdown: Graceful shutdown complete
09:09:06.008 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:09:06.013 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
09:09:06.018 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
09:09:06.292 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
09:09:06.292 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
09:09:06.963 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:09:06.975 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
09:09:07.134 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
09:09:07.258 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
09:09:07.261 | INFO | StandardService: Starting service [Tomcat]
09:09:07.261 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:09:07.305 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:09:07.305 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 924 ms
09:09:07.386 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:09:07.391 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:09:07.410 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:09:07.412 | INFO | HikariDataSource: HikariPool-3 - Starting...
09:09:07.438 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3087d3ac
09:09:07.438 | INFO | HikariDataSource: HikariPool-3 - Start completed.
09:09:07.441 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:09:07.441 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:09:07.546 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:09:07.565 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:09:07.656 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:09:07.799 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:09:07.891 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:09:08.018 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
09:09:08.122 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
09:09:08.128 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
09:09:08.146 | INFO | BeForFeApplication: Started BeForFeApplication in 1.933 seconds (process running for 2778.816)
09:09:08.148 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:09:10.480 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:09:10.482 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:09:10.494 | INFO | GracefulShutdown: Graceful shutdown complete
09:09:10.499 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:09:10.501 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
09:09:10.509 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
09:09:10.667 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
09:09:10.667 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
09:09:11.657 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:09:11.665 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
09:09:11.839 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
09:09:11.930 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
09:09:11.931 | INFO | StandardService: Starting service [Tomcat]
09:09:11.931 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:09:11.973 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:09:11.973 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1239 ms
09:09:12.025 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:09:12.028 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:09:12.039 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:09:12.041 | INFO | HikariDataSource: HikariPool-4 - Starting...
09:09:12.054 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c065ac5
09:09:12.055 | INFO | HikariDataSource: HikariPool-4 - Start completed.
09:09:12.057 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:09:12.058 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:09:12.140 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:09:12.157 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:09:12.226 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:09:12.341 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:09:12.440 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:09:12.597 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
09:09:12.680 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
09:09:12.684 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
09:09:12.694 | INFO | BeForFeApplication: Started BeForFeApplication in 2.094 seconds (process running for 2783.365)
09:09:12.696 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:09:20.162 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:09:20.163 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:09:20.167 | INFO | GracefulShutdown: Graceful shutdown complete
09:09:20.170 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:09:20.171 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
09:09:20.175 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
09:09:20.314 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
09:09:20.316 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
09:09:20.693 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:09:20.697 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
09:09:20.764 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
09:09:20.815 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
09:09:20.816 | INFO | StandardService: Starting service [Tomcat]
09:09:20.816 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:09:20.840 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:09:20.840 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 458 ms
09:09:20.873 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:09:20.875 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:09:20.881 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:09:20.882 | INFO | HikariDataSource: HikariPool-5 - Starting...
09:09:20.892 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29ee3534
09:09:20.892 | INFO | HikariDataSource: HikariPool-5 - Start completed.
09:09:20.893 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:09:20.895 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:09:20.935 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:09:20.946 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:09:20.985 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:09:21.047 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:09:21.084 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:09:21.158 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
09:09:21.226 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
09:09:21.229 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
09:09:21.238 | INFO | BeForFeApplication: Started BeForFeApplication in 0.976 seconds (process running for 2791.909)
09:09:21.240 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:10:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:10:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:10:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356600018], value class [java.lang.Long], SQL type unknown
09:10:00.048 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:11:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:11:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:11:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356660012], value class [java.lang.Long], SQL type unknown
09:11:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:12:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:12:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:12:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356720013], value class [java.lang.Long], SQL type unknown
09:12:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:12:23.966 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:12:23.992 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:12:24.007 | INFO | GracefulShutdown: Graceful shutdown complete
09:12:24.028 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:12:24.036 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
09:12:24.052 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
09:12:24.328 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
09:12:24.328 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
09:12:24.647 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:12:24.652 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
09:12:24.744 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
09:12:24.838 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
09:12:24.839 | INFO | StandardService: Starting service [Tomcat]
09:12:24.839 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:12:24.869 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:12:24.870 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 491 ms
09:12:24.904 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:12:24.907 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:12:24.920 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:12:24.921 | INFO | HikariDataSource: HikariPool-6 - Starting...
09:12:24.935 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1b08359f
09:12:24.936 | INFO | HikariDataSource: HikariPool-6 - Start completed.
09:12:24.938 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:12:24.938 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:12:24.992 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:12:25.014 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:12:25.080 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:12:25.391 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:12:25.525 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:12:25.699 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
09:12:25.910 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
09:12:25.932 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
09:12:25.987 | INFO | BeForFeApplication: Started BeForFeApplication in 1.715 seconds (process running for 2976.658)
09:12:25.989 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:13:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:13:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:13:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356780018], value class [java.lang.Long], SQL type unknown
09:13:00.027 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:14:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:14:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:14:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356840010], value class [java.lang.Long], SQL type unknown
09:14:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:15:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:15:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:15:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356900011], value class [java.lang.Long], SQL type unknown
09:15:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:16:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:16:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:16:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768356960008], value class [java.lang.Long], SQL type unknown
09:16:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:16:27.382 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:16:27.387 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:16:27.563 | INFO | DispatcherServlet: Completed initialization in 173 ms
09:16:27.631 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:16:27.666 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:16:27.718 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@28498380, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
09:16:27.719 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2c760251, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
09:16:27.721 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@697489bb
09:17:00.057 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:17:00.064 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:17:00.069 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357020057], value class [java.lang.Long], SQL type unknown
09:17:00.118 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:18:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:18:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:18:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357080016], value class [java.lang.Long], SQL type unknown
09:18:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:19:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:19:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:19:00.020 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357140018], value class [java.lang.Long], SQL type unknown
09:19:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:20:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:20:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357200004], value class [java.lang.Long], SQL type unknown
09:20:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:20:38.671 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:20:38.716 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=g6rUc_LCwPG71dhR0E-0m1_FXlpxoWWcUpgaAqgfDyM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=9UHUavxOsRaCB5W63TiX-GFr6D8OMW9-cfqdk5lTMqo
09:20:38.725 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:38.725 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
09:20:38.740 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:38.741 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:20:39.033 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=gTGOcK9cBpbaW4Lpe9zPARbTDbEt0WKxCX_u-Yvlk3xfhVxc2RU95w-eA3sZgUGcxyEF-y-X8CB7vI2OeVWU3mudjnmkS1ACZUFZIyRthuoEeE5IqBBiK1ImPL376ypn&state=g6rUc_LCwPG71dhR0E-0m1_FXlpxoWWcUpgaAqgfDyM%3D
09:20:39.054 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:39.054 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:20:40.079 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:40.080 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:20:40.081 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:20:40.085 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:20:39.7968242], value class [java.sql.Timestamp], SQL type 93
09:20:40.085 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:21:09.7968242], value class [java.sql.Timestamp], SQL type 93
09:20:40.086 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:20:40.088 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:20:39.7968242], value class [java.sql.Timestamp], SQL type 93
09:20:40.088 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:20:40.088 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:20:40.100 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from fcb76fd7-b549-4192-8877-b0f65e472f49
09:20:40.108 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
09:20:40.114 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:20:39Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:50:39Z, iat=2026-01-14T02:20:39Z, nonce=9UHUavxOsRaCB5W63TiX-GFr6D8OMW9-cfqdk5lTMqo, jti=6306c575-ffeb-4802-8fc7-40ef38adf345, authorities=[ROLE_CUSTOMER], sid=mJPNordztD_Auzl8kLb0Syenk4BNriqs3BFQzEBVesM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=fcb76fd7-b549-4192-8877-b0f65e472f49], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@598f9d0]
09:20:40.114 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:20:39Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:50:39Z, iat=2026-01-14T02:20:39Z, nonce=9UHUavxOsRaCB5W63TiX-GFr6D8OMW9-cfqdk5lTMqo, jti=6306c575-ffeb-4802-8fc7-40ef38adf345, authorities=[ROLE_CUSTOMER], sid=mJPNordztD_Auzl8kLb0Syenk4BNriqs3BFQzEBVesM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=fcb76fd7-b549-4192-8877-b0f65e472f49], Granted Authorities=[ROLE_CUSTOMER]]
09:20:40.141 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:40.141 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:20:40.142 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:40.143 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:20:40.157 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:40.158 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:20:40.161 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:40.161 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:20:41.511 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:20:41.523 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:41.523 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:20:41.559 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:20:39Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:50:39Z, iat=2026-01-14T02:20:39Z, nonce=9UHUavxOsRaCB5W63TiX-GFr6D8OMW9-cfqdk5lTMqo, jti=6306c575-ffeb-4802-8fc7-40ef38adf345, authorities=[ROLE_CUSTOMER], sid=mJPNordztD_Auzl8kLb0Syenk4BNriqs3BFQzEBVesM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=fcb76fd7-b549-4192-8877-b0f65e472f49], Granted Authorities=[ROLE_CUSTOMER]]]
09:20:41.561 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:20:41.850 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:41.850 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:20:41.859 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:41.859 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:20:42.250 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:20:42.252 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:42.252 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:20:42.279 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:20:42.285 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:42.292 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:20:44.587 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:20:44.598 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:20:44.600 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.601 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.618 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:20:44.618 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:20:44.622 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:20:44.624 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.629 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:20:44.641 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:20:44.643 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.648 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:20:44.671 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:20:44.686 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:20:44.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.771 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:20:44.771 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.787 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:20:44.937 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:20:44.985 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:20:45.019 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:20:45.021 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.059 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:20:45.022 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.028 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.106 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:20:45.171 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:20:45.176 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:20:45.188 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.198 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:20:47.237 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:20:47.239 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:20:47.240 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:47.241 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:20:47.245 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:47.248 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:20:47.249 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:20:39Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:50:39Z, iat=2026-01-14T02:20:39Z, nonce=9UHUavxOsRaCB5W63TiX-GFr6D8OMW9-cfqdk5lTMqo, jti=6306c575-ffeb-4802-8fc7-40ef38adf345, authorities=[ROLE_CUSTOMER], sid=mJPNordztD_Auzl8kLb0Syenk4BNriqs3BFQzEBVesM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=fcb76fd7-b549-4192-8877-b0f65e472f49], Granted Authorities=[ROLE_CUSTOMER]]]
09:20:47.252 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:20:47.259 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:47.265 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:20:39Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:50:39Z, iat=2026-01-14T02:20:39Z, nonce=9UHUavxOsRaCB5W63TiX-GFr6D8OMW9-cfqdk5lTMqo, jti=6306c575-ffeb-4802-8fc7-40ef38adf345, authorities=[ROLE_CUSTOMER], sid=mJPNordztD_Auzl8kLb0Syenk4BNriqs3BFQzEBVesM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=fcb76fd7-b549-4192-8877-b0f65e472f49], Granted Authorities=[ROLE_CUSTOMER]]]
09:20:47.271 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:20:47.271 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:20:47.272 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:20:47.272 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:20:47.274 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:47.284 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:20:47.285 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:20:47.285 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:20:47.952 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:20:39Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:50:47Z, iat=2026-01-14T02:20:47Z, jti=2c0d7a77-503f-4f85-bd0c-f9c8ce8243dd, authorities=[ROLE_CUSTOMER], sid=mJPNordztD_Auzl8kLb0Syenk4BNriqs3BFQzEBVesM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=fcb76fd7-b549-4192-8877-b0f65e472f49], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@95b76f4]
09:20:47.952 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:47.952 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:20:47.953 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:20:47.954 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:20:47.9094207], value class [java.sql.Timestamp], SQL type 93
09:20:47.954 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:21:16.9094207], value class [java.sql.Timestamp], SQL type 93
09:20:47.954 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:20:47.955 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:20:47.9094207], value class [java.sql.Timestamp], SQL type 93
09:20:47.955 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:20:47.956 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:20:48.310 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@28498380, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
09:20:48.312 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2c760251, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
09:20:48.314 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@697489bb
09:20:48.315 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:48.316 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:20:48.953 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:48.954 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:20:48.957 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:20:48.957 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:20:48.968 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:20:48.968 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:21:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357260010], value class [java.lang.Long], SQL type unknown
09:21:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:21:02.164 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:21:02.166 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:02.166 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:02.170 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=ixgFy0k8dekdyQ8WIvAK0Dyxxx98yHQzdqLt6Jj3eZ8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=mvacwUKpYT7UW0JkvSl6Y69jFgLDTWo9IbIinoXyYfI
09:21:02.173 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:02.173 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:21:02.176 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:02.176 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:21:02.188 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:02.188 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:02.251 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=tq4L9Y9X4QuQvCfX1eQ1UYYlRFdKu2hXEQQvj6dqfmuot2DFHlv_w2x1qv6_rCAbZ21ZDRUwUncbArOPevrMUIyE0QbFmlJ3OxFzxtq8wvgMLe8Pa7UlZ2v-Rxiwgra-&state=ixgFy0k8dekdyQ8WIvAK0Dyxxx98yHQzdqLt6Jj3eZ8%3D
09:21:02.253 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:02.253 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:02.593 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:02.594 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:21:02.594 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:21:02.594 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:21:02.5704113], value class [java.sql.Timestamp], SQL type 93
09:21:02.594 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:21:32.5704113], value class [java.sql.Timestamp], SQL type 93
09:21:02.595 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:21:02.595 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:21:02.5704113], value class [java.sql.Timestamp], SQL type 93
09:21:02.595 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:21:02.596 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:21:02.603 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 655566ce-2a80-4999-8035-38df4253491b
09:21:02.604 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
09:21:02.605 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:21:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:51:02Z, iat=2026-01-14T02:21:02Z, nonce=mvacwUKpYT7UW0JkvSl6Y69jFgLDTWo9IbIinoXyYfI, jti=1d4e8717-f375-4c38-b57e-60a60e704360, authorities=[ROLE_CUSTOMER], sid=M-9_Tpb-HtChSoYAhz7QTyAl3lTzo1bFVmcdRnyKVFQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=655566ce-2a80-4999-8035-38df4253491b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5a76fa39]
09:21:02.605 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:21:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:51:02Z, iat=2026-01-14T02:21:02Z, nonce=mvacwUKpYT7UW0JkvSl6Y69jFgLDTWo9IbIinoXyYfI, jti=1d4e8717-f375-4c38-b57e-60a60e704360, authorities=[ROLE_CUSTOMER], sid=M-9_Tpb-HtChSoYAhz7QTyAl3lTzo1bFVmcdRnyKVFQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=655566ce-2a80-4999-8035-38df4253491b], Granted Authorities=[ROLE_CUSTOMER]]
09:21:02.605 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:02.606 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:21:02.607 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:02.607 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:21:02.609 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:02.609 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:21:02.617 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:02.618 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:03.105 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:21:03.107 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:03.107 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:03.119 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:21:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:51:02Z, iat=2026-01-14T02:21:02Z, nonce=mvacwUKpYT7UW0JkvSl6Y69jFgLDTWo9IbIinoXyYfI, jti=1d4e8717-f375-4c38-b57e-60a60e704360, authorities=[ROLE_CUSTOMER], sid=M-9_Tpb-HtChSoYAhz7QTyAl3lTzo1bFVmcdRnyKVFQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=655566ce-2a80-4999-8035-38df4253491b], Granted Authorities=[ROLE_CUSTOMER]]]
09:21:03.119 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:21:03.123 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:03.123 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:21:03.127 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:03.127 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:03.579 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:21:03.581 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:03.581 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:21:03.595 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:21:03.597 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:03.598 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:21:04.013 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:21:04.016 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.017 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:21:04.018 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:21:04.018 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.027 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:21:04.033 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.029 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:21:04.035 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:21:04.067 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:21:04.069 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:21:04.084 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:21:04.097 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.098 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.112 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.112 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:21:04.112 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:21:04.112 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:21:04.248 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:21:04.248 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:21:04.254 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.258 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.258 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:21:04.258 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:21:04.292 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:21:04.293 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:21:04.295 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.295 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.295 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:21:04.296 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:21:10.128 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:21:10.128 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:21:10.131 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:10.131 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:10.131 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:10.131 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:21:10.135 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:21:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:51:02Z, iat=2026-01-14T02:21:02Z, nonce=mvacwUKpYT7UW0JkvSl6Y69jFgLDTWo9IbIinoXyYfI, jti=1d4e8717-f375-4c38-b57e-60a60e704360, authorities=[ROLE_CUSTOMER], sid=M-9_Tpb-HtChSoYAhz7QTyAl3lTzo1bFVmcdRnyKVFQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=655566ce-2a80-4999-8035-38df4253491b], Granted Authorities=[ROLE_CUSTOMER]]]
09:21:10.135 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:21:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:51:02Z, iat=2026-01-14T02:21:02Z, nonce=mvacwUKpYT7UW0JkvSl6Y69jFgLDTWo9IbIinoXyYfI, jti=1d4e8717-f375-4c38-b57e-60a60e704360, authorities=[ROLE_CUSTOMER], sid=M-9_Tpb-HtChSoYAhz7QTyAl3lTzo1bFVmcdRnyKVFQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=655566ce-2a80-4999-8035-38df4253491b], Granted Authorities=[ROLE_CUSTOMER]]]
09:21:10.135 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:21:10.135 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:21:10.137 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:10.137 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:10.138 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:21:10.138 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:21:10.138 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:21:10.138 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:21:10.139 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:21:10.139 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:21:10.634 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:21:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:51:10Z, iat=2026-01-14T02:21:10Z, jti=6be0d9b7-ba0c-4b5e-b6b9-86b7803eb622, authorities=[ROLE_CUSTOMER], sid=M-9_Tpb-HtChSoYAhz7QTyAl3lTzo1bFVmcdRnyKVFQ}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=655566ce-2a80-4999-8035-38df4253491b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4a7802e1]
09:21:10.635 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:10.635 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:21:10.635 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:21:10.636 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:21:10.6119511], value class [java.sql.Timestamp], SQL type 93
09:21:10.636 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:21:40.6119511], value class [java.sql.Timestamp], SQL type 93
09:21:10.636 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:21:10.636 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:21:10.6119511], value class [java.sql.Timestamp], SQL type 93
09:21:10.636 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:21:10.636 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:21:10.641 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@28498380, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
09:21:10.641 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2c760251, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
09:21:10.642 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@697489bb
09:21:10.644 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:10.644 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:21:11.091 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:11.093 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:21:11.094 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:21:11.094 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:21:11.100 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:21:11.100 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:22:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:22:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:22:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357320012], value class [java.lang.Long], SQL type unknown
09:22:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:23:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:23:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:23:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357380007], value class [java.lang.Long], SQL type unknown
09:23:00.010 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:24:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:24:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:24:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357440010], value class [java.lang.Long], SQL type unknown
09:24:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:25:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:25:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357500008], value class [java.lang.Long], SQL type unknown
09:25:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
09:25:38.881 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:25:38.886 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=tz9Vza1JLU9lsIJ6-vrVXzGq6XeGcJkI8FsEoEACGqw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=MCRxbjPwwIq2PVFlq_H6ecL2U_uu7otU22Rof6YxUig
09:25:38.887 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:38.888 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
09:25:38.894 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:38.894 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:25:38.984 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=lfPoKVv-9JW2ek6lk6yLNM5i_mJ3pXORe8oFORN-9L2zsJCLzPQrOWO_iqF7rT9RS2TLGA5J1t_MDmxdnwWBaRnccZ1aMQL5AsH_iJK0M35NUfOO0Unk9iMfZ9_9L1-A&state=tz9Vza1JLU9lsIJ6-vrVXzGq6XeGcJkI8FsEoEACGqw%3D
09:25:39.016 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:39.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:39.453 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:39.454 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:25:39.454 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:25:39.457 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:25:39.4337761], value class [java.sql.Timestamp], SQL type 93
09:25:39.457 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:09.4337761], value class [java.sql.Timestamp], SQL type 93
09:25:39.457 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:25:39.457 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:25:39.4337761], value class [java.sql.Timestamp], SQL type 93
09:25:39.458 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:39.458 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:39.464 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 32f03f35-0832-47e5-a1fe-18cc8f883ef2
09:25:39.464 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
09:25:39.466 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:39Z, iat=2026-01-14T02:25:39Z, nonce=MCRxbjPwwIq2PVFlq_H6ecL2U_uu7otU22Rof6YxUig, jti=152f057e-4c12-464b-ae1e-be2bdce1b0df, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@60494357]
09:25:39.466 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:39Z, iat=2026-01-14T02:25:39Z, nonce=MCRxbjPwwIq2PVFlq_H6ecL2U_uu7otU22Rof6YxUig, jti=152f057e-4c12-464b-ae1e-be2bdce1b0df, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]
09:25:39.467 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:39.467 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:25:39.471 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:39.472 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:25:39.477 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:39.477 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:25:39.491 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:39.491 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:40.145 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:25:40.150 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:40.150 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:40.154 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:39Z, iat=2026-01-14T02:25:39Z, nonce=MCRxbjPwwIq2PVFlq_H6ecL2U_uu7otU22Rof6YxUig, jti=152f057e-4c12-464b-ae1e-be2bdce1b0df, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:25:40.155 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:25:40.159 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:40.160 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:25:40.172 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:40.172 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:40.472 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:25:40.473 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:40.474 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:25:40.481 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:25:40.484 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:40.484 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:25:41.037 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:25:41.042 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.042 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:25:41.043 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:25:41.049 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.060 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:25:41.064 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.065 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:25:41.062 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:25:41.082 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:25:41.086 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:25:41.111 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.116 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:25:41.097 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:25:41.142 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.146 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:25:41.153 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:25:41.158 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.159 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:25:41.098 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.164 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:25:41.266 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:25:41.275 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:25:41.275 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.277 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:25:41.279 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.280 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:25:41.281 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.281 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:25:41.282 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:25:44.744 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/carts/items
09:25:44.755 | DEBUG | FilterChainProxy: Securing POST /protected/api/carts/items
09:25:44.761 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:44.761 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:44.772 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:39Z, iat=2026-01-14T02:25:39Z, nonce=MCRxbjPwwIq2PVFlq_H6ecL2U_uu7otU22Rof6YxUig, jti=152f057e-4c12-464b-ae1e-be2bdce1b0df, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:25:44.773 | DEBUG | FilterChainProxy: Secured POST /protected/api/carts/items
09:25:44.776 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:44.776 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:25:44.777 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:44.777 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:45.155 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:45Z, iat=2026-01-14T02:25:45Z, jti=03a49fee-7d6b-45e0-bed1-66d57911d584, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@51b71e9]
09:25:45.155 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:45.155 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:25:45.155 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:25:45.156 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:25:45.1382062], value class [java.sql.Timestamp], SQL type 93
09:25:45.156 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:15.1382062], value class [java.sql.Timestamp], SQL type 93
09:25:45.156 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:25:45.156 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:25:45.1382062], value class [java.sql.Timestamp], SQL type 93
09:25:45.156 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:45.156 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:45.848 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:45.848 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:25:45.851 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:45.851 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:25:45.864 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:45.864 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:50.636 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
09:25:50.639 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:50.639 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:50.645 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:45Z, iat=2026-01-14T02:25:45Z, jti=03a49fee-7d6b-45e0-bed1-66d57911d584, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:25:50.647 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
09:25:50.650 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:50.653 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:25:50.657 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:50.658 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:51.056 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:51Z, iat=2026-01-14T02:25:51Z, jti=fa33be03-0d2c-4361-9f80-1eaea9f345fe, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7dc5b97c]
09:25:51.056 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:51.056 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:25:51.056 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:25:51.057 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:25:51.0331704], value class [java.sql.Timestamp], SQL type 93
09:25:51.057 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:21.0331704], value class [java.sql.Timestamp], SQL type 93
09:25:51.057 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:25:51.057 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:25:51.0331704], value class [java.sql.Timestamp], SQL type 93
09:25:51.057 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:51.057 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:51.379 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:51.380 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:25:51.381 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:51.381 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:25:51.389 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:51.390 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:51.418 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:25:51.418 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:51.419 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:25:58.394 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/carts/items/40
09:25:58.411 | DEBUG | FilterChainProxy: Securing DELETE /protected/api/carts/items/40
09:25:58.414 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:58.433 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:58.442 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:51Z, iat=2026-01-14T02:25:51Z, jti=fa33be03-0d2c-4361-9f80-1eaea9f345fe, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:25:58.442 | DEBUG | FilterChainProxy: Secured DELETE /protected/api/carts/items/40
09:25:58.446 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:58.447 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:25:58.449 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:58.449 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:58.788 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:58Z, iat=2026-01-14T02:25:58Z, jti=c7e8f84c-69ce-4a40-b2b4-2863f45ea059, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@dd26ad]
09:25:58.788 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:58.788 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:25:58.788 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:25:58.789 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:25:58.7700061], value class [java.sql.Timestamp], SQL type 93
09:25:58.789 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:28.7700061], value class [java.sql.Timestamp], SQL type 93
09:25:58.789 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:25:58.789 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:25:58.7700061], value class [java.sql.Timestamp], SQL type 93
09:25:58.789 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:58.790 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:59.276 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:59.276 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:25:59.278 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:59.278 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:25:59.289 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:59.289 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:59.303 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
09:25:59.305 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:59.305 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:25:59.310 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:58Z, iat=2026-01-14T02:25:58Z, jti=c7e8f84c-69ce-4a40-b2b4-2863f45ea059, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:25:59.310 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
09:25:59.316 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:59.317 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:25:59.318 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:59.318 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:59.630 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:59Z, iat=2026-01-14T02:25:59Z, jti=4d3cc999-9c90-4c34-8ce5-078cd88bce24, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@22b2baf]
09:25:59.630 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:59.631 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:25:59.631 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:25:59.632 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:25:59.6110859], value class [java.sql.Timestamp], SQL type 93
09:25:59.632 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:29.6110859], value class [java.sql.Timestamp], SQL type 93
09:25:59.632 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:25:59.632 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:25:59.6110859], value class [java.sql.Timestamp], SQL type 93
09:25:59.632 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:25:59.632 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:25:59.924 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:59.924 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:25:59.925 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:25:59.926 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:25:59.936 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:25:59.936 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:26:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:26:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357560005], value class [java.lang.Long], SQL type unknown
09:26:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:26:04.718 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:26:04.723 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.724 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:26:04.746 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:26:04.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.761 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:26:04.894 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:04.896 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.897 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:04.940 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:26:04.943 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.955 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:26:04.969 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:26:04.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.970 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:26:05.001 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:26:05.002 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.002 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:26:05.026 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:26:05.026 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.027 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:26:05.064 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:26:05.064 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.066 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:26:05.091 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:26:05.092 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.092 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:26:05.122 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:26:05.123 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.123 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:26:05.142 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:26:05.142 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.143 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:26:05.159 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:26:05.161 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.161 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:26:07.113 | DEBUG | FilterChainProxy: Securing GET /api/books/45
09:26:07.119 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:07.119 | DEBUG | FilterChainProxy: Secured GET /api/books/45
09:26:07.238 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:07.239 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:07.239 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:09.323 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/carts/items
09:26:09.327 | DEBUG | FilterChainProxy: Securing POST /protected/api/carts/items
09:26:09.329 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:09.329 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:26:09.334 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:55:59Z, iat=2026-01-14T02:25:59Z, jti=4d3cc999-9c90-4c34-8ce5-078cd88bce24, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:26:09.334 | DEBUG | FilterChainProxy: Secured POST /protected/api/carts/items
09:26:09.339 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:09.340 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:26:09.349 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:26:09.349 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:26:09.661 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:56:09Z, iat=2026-01-14T02:26:09Z, jti=c69722e3-5f7c-4a2e-87e7-dba8b4cb1776, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@64fff48]
09:26:09.661 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:09.661 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:26:09.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:26:09.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:26:09.6431534], value class [java.sql.Timestamp], SQL type 93
09:26:09.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:39.6431534], value class [java.sql.Timestamp], SQL type 93
09:26:09.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:26:09.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:26:09.6431534], value class [java.sql.Timestamp], SQL type 93
09:26:09.662 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:26:09.663 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:26:10.031 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:10.032 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:26:10.033 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:10.033 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:26:10.042 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:10.043 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:26:29.124 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:26:29.133 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:29.134 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:26:29.135 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:26:29.139 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:56:09Z, iat=2026-01-14T02:26:09Z, jti=c69722e3-5f7c-4a2e-87e7-dba8b4cb1776, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:26:29.171 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:26:29.153 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:29.175 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:29.178 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:26:29.181 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:26:29.182 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:26:29.175 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:26:29.186 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:56:09Z, iat=2026-01-14T02:26:09Z, jti=c69722e3-5f7c-4a2e-87e7-dba8b4cb1776, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]]
09:26:29.192 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:26:29.197 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:29.197 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:26:29.199 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:26:29.199 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:26:29.564 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@28498380, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
09:26:29.564 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2c760251, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
09:26:29.564 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@697489bb
09:26:29.566 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:29.566 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:25:38Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:56:29Z, iat=2026-01-14T02:26:29Z, jti=0e90b50d-141f-4950-8de6-7e18235190bf, authorities=[ROLE_CUSTOMER], sid=PXG5Gjxo4UFh4N4HfqU1SY-bktx3fhRn4Tp4hug4vHA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=32f03f35-0832-47e5-a1fe-18cc8f883ef2], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5f263dbf]
09:26:29.567 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:26:29.567 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:29.567 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:26:29.567 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:26:29.567 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:26:29.5466001], value class [java.sql.Timestamp], SQL type 93
09:26:29.567 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:26:59.5466001], value class [java.sql.Timestamp], SQL type 93
09:26:29.567 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:26:29.568 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:26:29.5466001], value class [java.sql.Timestamp], SQL type 93
09:26:29.568 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:26:29.568 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:26:29.990 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:29.990 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:26:29.992 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:26:29.992 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:26:30.000 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:26:30.000 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:00.002 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:27:00.004 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357620002], value class [java.lang.Long], SQL type unknown
09:27:00.006 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:27:51.124 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:27:51.130 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:27:51.132 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:51.143 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=bHACBUlk0HbkspOx8ISNsfvZGHVOxluahk7XaOAq4b8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=UmOW1Gao47kEgwDja8WSxUgfyfabbSMgKJ3rQ8WlkOI
09:27:51.148 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:51.149 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:27:51.153 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:51.154 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
09:27:51.169 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:27:51.169 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:51.258 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=BpwGNRK_l8rqX1NMyHE9K2BMTc2njvIhYF2PmGPvAp3agBB8PeCUDIXPnjZBQbvolF14dG3C5_sNPfzIjyCyvTW4Oki2vv-7xKeJW5luOv1aXkjhcD_ofasyAR2hsIHD&state=bHACBUlk0HbkspOx8ISNsfvZGHVOxluahk7XaOAq4b8%3D
09:27:51.259 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:27:51.260 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:51.653 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:51.654 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:27:51.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:27:51.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:27:51.6273947], value class [java.sql.Timestamp], SQL type 93
09:27:51.654 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:28:20.6273947], value class [java.sql.Timestamp], SQL type 93
09:27:51.655 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:27:51.655 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:27:51.6273947], value class [java.sql.Timestamp], SQL type 93
09:27:51.655 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:27:51.655 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:27:51.662 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from c3212635-3bb1-4372-9162-c3a009755341
09:27:51.664 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
09:27:51.669 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:27:51Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:57:51Z, iat=2026-01-14T02:27:51Z, nonce=UmOW1Gao47kEgwDja8WSxUgfyfabbSMgKJ3rQ8WlkOI, jti=3b114dd5-9630-4c0a-80c4-fa80b1f60b99, authorities=[ROLE_CUSTOMER], sid=SI61RWO0_dvnssoAFhgrbEpMx0LFVukwC9U6lJIHsvU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=c3212635-3bb1-4372-9162-c3a009755341], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3f1012ee]
09:27:51.669 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:27:51Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:57:51Z, iat=2026-01-14T02:27:51Z, nonce=UmOW1Gao47kEgwDja8WSxUgfyfabbSMgKJ3rQ8WlkOI, jti=3b114dd5-9630-4c0a-80c4-fa80b1f60b99, authorities=[ROLE_CUSTOMER], sid=SI61RWO0_dvnssoAFhgrbEpMx0LFVukwC9U6lJIHsvU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=c3212635-3bb1-4372-9162-c3a009755341], Granted Authorities=[ROLE_CUSTOMER]]
09:27:51.670 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:51.671 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:27:51.672 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:51.672 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:27:51.674 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:51.674 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION_ATTRIBUTES
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:27:51.685 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:27:51.685 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:52.190 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:27:52.192 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:27:52.192 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:52.200 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:27:51Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:57:51Z, iat=2026-01-14T02:27:51Z, nonce=UmOW1Gao47kEgwDja8WSxUgfyfabbSMgKJ3rQ8WlkOI, jti=3b114dd5-9630-4c0a-80c4-fa80b1f60b99, authorities=[ROLE_CUSTOMER], sid=SI61RWO0_dvnssoAFhgrbEpMx0LFVukwC9U6lJIHsvU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=c3212635-3bb1-4372-9162-c3a009755341], Granted Authorities=[ROLE_CUSTOMER]]]
09:27:52.200 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:27:52.205 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:27:52.206 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:27:52.221 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:27:52.221 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:27:52.529 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:27:52.529 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.530 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:27:52.536 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:27:52.537 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.538 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:27:52.897 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:27:52.897 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.898 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:27:52.898 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:27:52.902 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.902 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:27:52.906 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:27:52.910 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.907 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:27:52.912 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.912 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:27:52.912 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:27:52.916 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:27:52.919 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.917 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:27:52.923 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:27:52.926 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.938 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:27:52.946 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:27:52.951 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.952 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:27:52.965 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:27:52.966 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.967 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:27:52.975 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:27:52.979 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.984 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:27:53.022 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:27:53.036 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:53.040 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:28:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:28:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:28:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357680015], value class [java.lang.Long], SQL type unknown
09:28:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:28:23.396 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:28:23.396 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:28:23.398 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:28:23.398 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:28:23.398 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:28:23.398 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:28:23.404 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:27:51Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:57:51Z, iat=2026-01-14T02:27:51Z, nonce=UmOW1Gao47kEgwDja8WSxUgfyfabbSMgKJ3rQ8WlkOI, jti=3b114dd5-9630-4c0a-80c4-fa80b1f60b99, authorities=[ROLE_CUSTOMER], sid=SI61RWO0_dvnssoAFhgrbEpMx0LFVukwC9U6lJIHsvU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=c3212635-3bb1-4372-9162-c3a009755341], Granted Authorities=[ROLE_CUSTOMER]]]
09:28:23.404 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:27:51Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:57:51Z, iat=2026-01-14T02:27:51Z, nonce=UmOW1Gao47kEgwDja8WSxUgfyfabbSMgKJ3rQ8WlkOI, jti=3b114dd5-9630-4c0a-80c4-fa80b1f60b99, authorities=[ROLE_CUSTOMER], sid=SI61RWO0_dvnssoAFhgrbEpMx0LFVukwC9U6lJIHsvU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=c3212635-3bb1-4372-9162-c3a009755341], Granted Authorities=[ROLE_CUSTOMER]]]
09:28:23.404 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:28:23.404 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:28:23.409 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:28:23.413 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:28:23.414 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:28:23.416 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT client_registration_id, principal_name, access_token_type, access_token_value, access_token_issued_at, access_token_expires_at, access_token_scopes, refresh_token_value, refresh_token_issued_at FROM oauth2_authorized_client WHERE client_registration_id = ? AND principal_name = ?]
09:28:23.417 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:28:23.417 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [bff], value class [java.lang.String], SQL type 12
09:28:23.417 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:28:23.418 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 2, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:28:23.794 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@28498380, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
09:28:23.794 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2c760251, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
09:28:23.795 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@697489bb
09:28:23.796 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:28:23.796 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:28:23.808 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:27:51Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T02:58:23Z, iat=2026-01-14T02:28:23Z, jti=a5d2fada-5d8d-44d5-b762-7cde385296fe, authorities=[ROLE_CUSTOMER], sid=SI61RWO0_dvnssoAFhgrbEpMx0LFVukwC9U6lJIHsvU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=c3212635-3bb1-4372-9162-c3a009755341], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1dfa163b]
09:28:23.808 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:28:23.811 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE oauth2_authorized_client SET access_token_type = ?, access_token_value = ?, access_token_issued_at = ?, access_token_expires_at = ?, access_token_scopes = ?, refresh_token_value = ?, refresh_token_issued_at = ? WHERE client_registration_id = ? AND principal_name = ?]
09:28:23.811 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [Bearer], value class [java.lang.String], SQL type 12
09:28:23.812 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 3, parameter value [2026-01-14 09:28:23.7886661], value class [java.sql.Timestamp], SQL type 93
09:28:23.812 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 4, parameter value [2026-01-14 09:28:53.7886661], value class [java.sql.Timestamp], SQL type 93
09:28:23.812 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 5, parameter value [openid,profile], value class [java.lang.String], SQL type 12
09:28:23.812 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 7, parameter value [2026-01-14 09:28:23.7886661], value class [java.sql.Timestamp], SQL type 93
09:28:23.812 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 8, parameter value [bff], value class [java.lang.String], SQL type 12
09:28:23.812 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 9, parameter value [nguyenvietanh.personal@gmail.com], value class [java.lang.String], SQL type 12
09:28:24.233 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:28:24.234 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
09:28:24.239 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:28:24.240 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
09:28:24.250 | DEBUG | JdbcTemplate: Executing prepared SQL query
09:28:24.251 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
09:29:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:29:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:29:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357740010], value class [java.lang.Long], SQL type unknown
09:29:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:30:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:30:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:30:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357800011], value class [java.lang.Long], SQL type unknown
09:30:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:31:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
09:31:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
09:31:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768357860012], value class [java.lang.Long], SQL type unknown
09:31:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
09:31:23.900 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:31:23.930 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:31:23.943 | INFO | GracefulShutdown: Graceful shutdown complete
09:31:23.976 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:31:23.995 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
09:31:24.003 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
09:31:24.550 | INFO | BeForFeApplication: Starting BeForFeApplication using Java 21.0.3 with PID 1212 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe)
09:31:24.551 | INFO | BeForFeApplication: No active profile set, falling back to 1 default profile: "default"
09:31:24.909 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:31:24.916 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
09:31:24.985 | INFO | GenericScope: BeanFactory id=13accd6c-ace7-3257-bf77-8e53872683d4
09:31:25.069 | INFO | TomcatWebServer: Tomcat initialized with port 8181 (https)
09:31:25.070 | INFO | StandardService: Starting service [Tomcat]
09:31:25.070 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:31:25.099 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:31:25.099 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 460 ms
09:31:25.128 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:31:25.130 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:31:25.142 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:31:25.144 | INFO | HikariDataSource: HikariPool-7 - Starting...
09:31:25.205 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1cb44196
09:31:25.206 | INFO | HikariDataSource: HikariPool-7 - Start completed.
09:31:25.209 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:31:25.209 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:31:25.271 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:31:25.314 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:31:25.370 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:31:25.437 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:31:25.479 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:31:25.570 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
09:31:25.618 | INFO | certificate: Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
09:31:25.621 | INFO | TomcatWebServer: Tomcat started on port 8181 (https) with context path '/'
09:31:25.629 | INFO | BeForFeApplication: Started BeForFeApplication in 1.186 seconds (process running for 4116.3)
09:31:25.630 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:31:40.841 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:31:40.841 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:31:40.843 | INFO | DispatcherServlet: Completed initialization in 2 ms
09:31:40.844 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:31:40.846 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=G5LmJxXlhkHcLzvL2w0kfww4q9ZzjmerTQGdXFK0Lxc%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=wcvovVFsbPnMrdeAyc3ROLZmO5Y1w_0zU5pz06L2jg8
09:31:40.979 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=UXC9Z8wQ43BzUkZGVXbr1zHz7ov6vmsrA-0tfum3_QEJ4HJOaIToojL8uy9mAAGVXbDuHA_hmX208VMVTAMX7DiFTPrlOi4LQXoFSoNnntazd0e8BPwXGYxGKqGEfD2G&state=G5LmJxXlhkHcLzvL2w0kfww4q9ZzjmerTQGdXFK0Lxc%3D
09:31:41.511 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 59e29d26-3521-42ea-8bb7-1b10be4f2126
09:31:41.511 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
09:31:41.512 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:31:40Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:01:41Z, iat=2026-01-14T02:31:41Z, nonce=wcvovVFsbPnMrdeAyc3ROLZmO5Y1w_0zU5pz06L2jg8, jti=45151add-b8dd-4f8d-a9ad-e7dc0ff37015, authorities=[ROLE_CUSTOMER], sid=IzVX8LVneWfH4meuLm6zGKjs35DrbQkSw9QdPlH-teE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=59e29d26-3521-42ea-8bb7-1b10be4f2126], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@676eb1c8]
09:31:41.512 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:31:40Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:01:41Z, iat=2026-01-14T02:31:41Z, nonce=wcvovVFsbPnMrdeAyc3ROLZmO5Y1w_0zU5pz06L2jg8, jti=45151add-b8dd-4f8d-a9ad-e7dc0ff37015, authorities=[ROLE_CUSTOMER], sid=IzVX8LVneWfH4meuLm6zGKjs35DrbQkSw9QdPlH-teE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=59e29d26-3521-42ea-8bb7-1b10be4f2126], Granted Authorities=[ROLE_CUSTOMER]]
09:31:42.485 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:31:42.498 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:31:40Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:01:41Z, iat=2026-01-14T02:31:41Z, nonce=wcvovVFsbPnMrdeAyc3ROLZmO5Y1w_0zU5pz06L2jg8, jti=45151add-b8dd-4f8d-a9ad-e7dc0ff37015, authorities=[ROLE_CUSTOMER], sid=IzVX8LVneWfH4meuLm6zGKjs35DrbQkSw9QdPlH-teE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=59e29d26-3521-42ea-8bb7-1b10be4f2126], Granted Authorities=[ROLE_CUSTOMER]]]
09:31:42.498 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:31:43.033 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:31:43.035 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.035 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:31:43.043 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:31:43.044 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.044 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:31:43.751 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:31:43.751 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.752 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:31:43.754 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:31:43.756 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.758 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:31:43.762 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:31:43.768 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.770 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:31:43.773 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:31:43.771 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:31:43.774 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.772 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:31:43.773 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.782 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:31:43.775 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:31:43.779 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.807 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:31:43.805 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:31:43.807 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:31:43.808 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.809 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.810 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:31:43.809 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:31:43.832 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:31:43.840 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.841 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:31:43.842 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:31:43.853 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.857 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:31:59.111 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:31:59.111 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:31:59.118 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:31:40Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:01:41Z, iat=2026-01-14T02:31:41Z, nonce=wcvovVFsbPnMrdeAyc3ROLZmO5Y1w_0zU5pz06L2jg8, jti=45151add-b8dd-4f8d-a9ad-e7dc0ff37015, authorities=[ROLE_CUSTOMER], sid=IzVX8LVneWfH4meuLm6zGKjs35DrbQkSw9QdPlH-teE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=59e29d26-3521-42ea-8bb7-1b10be4f2126], Granted Authorities=[ROLE_CUSTOMER]]]
09:31:59.118 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:31:59.119 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:31:40Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:01:41Z, iat=2026-01-14T02:31:41Z, nonce=wcvovVFsbPnMrdeAyc3ROLZmO5Y1w_0zU5pz06L2jg8, jti=45151add-b8dd-4f8d-a9ad-e7dc0ff37015, authorities=[ROLE_CUSTOMER], sid=IzVX8LVneWfH4meuLm6zGKjs35DrbQkSw9QdPlH-teE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=59e29d26-3521-42ea-8bb7-1b10be4f2126], Granted Authorities=[ROLE_CUSTOMER]]]
09:31:59.120 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:31:59.510 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
09:31:59.510 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
09:31:59.510 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
09:31:59.522 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:31:40Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:01:59Z, iat=2026-01-14T02:31:59Z, jti=49e4dcce-b31f-4421-97d1-a9affffa62ac, authorities=[ROLE_CUSTOMER], sid=IzVX8LVneWfH4meuLm6zGKjs35DrbQkSw9QdPlH-teE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=59e29d26-3521-42ea-8bb7-1b10be4f2126], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@521dfab8]
09:42:02.238 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
09:42:02.270 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=-IVz0mLk63kgayTWOezA8IKTsJuvD97siwHPVghPJ8o%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=_BLnH87ftQ99A3gaMbUE1JicD-v_rAqjHwcFCKPv7JM
09:42:02.410 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=Kingh6Gx8UwIsr470PGRalmxdvO7vU8nw4MwWEXEBFFtJashg5qa8Oo7vK1CMUuuqNqoRbwakAzgqP3v8m4hOCg8DcY0GJjt2WY9N2YNQHJrE07OL3xy_eqyAW653BfE&state=-IVz0mLk63kgayTWOezA8IKTsJuvD97siwHPVghPJ8o%3D
09:42:02.925 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from b8e84373-2447-406c-b831-dcf0fbdb0f0f
09:42:02.928 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
09:42:02.930 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:02Z, iat=2026-01-14T02:42:02Z, nonce=_BLnH87ftQ99A3gaMbUE1JicD-v_rAqjHwcFCKPv7JM, jti=29ab2109-1851-4ffd-a1d2-2b170975c80a, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1e5d7de]
09:42:02.931 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:02Z, iat=2026-01-14T02:42:02Z, nonce=_BLnH87ftQ99A3gaMbUE1JicD-v_rAqjHwcFCKPv7JM, jti=29ab2109-1851-4ffd-a1d2-2b170975c80a, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]
09:42:03.800 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:42:03.822 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:02Z, iat=2026-01-14T02:42:02Z, nonce=_BLnH87ftQ99A3gaMbUE1JicD-v_rAqjHwcFCKPv7JM, jti=29ab2109-1851-4ffd-a1d2-2b170975c80a, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:42:03.822 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:42:04.212 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:42:04.213 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:04.213 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:42:04.220 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:42:04.223 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:04.223 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:42:04.959 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:42:04.961 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:04.963 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:42:04.966 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:04.964 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:42:04.974 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:42:04.978 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:42:04.994 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.008 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:42:04.982 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:42:05.024 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.029 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:42:04.988 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:42:05.040 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.069 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:42:04.991 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:42:05.104 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:42:05.105 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:42:05.126 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.219 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.225 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.242 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:42:05.278 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:42:05.278 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:42:05.288 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:42:05.295 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.290 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:42:05.291 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.307 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:42:05.306 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:42:07.270 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:42:07.278 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:02Z, iat=2026-01-14T02:42:02Z, nonce=_BLnH87ftQ99A3gaMbUE1JicD-v_rAqjHwcFCKPv7JM, jti=29ab2109-1851-4ffd-a1d2-2b170975c80a, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:42:07.279 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:42:07.861 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:07Z, iat=2026-01-14T02:42:07Z, jti=878e3898-8b9d-4a1c-839e-121855c1db10, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@28e4be92]
09:42:08.389 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:42:08.397 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:07Z, iat=2026-01-14T02:42:07Z, jti=878e3898-8b9d-4a1c-839e-121855c1db10, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:42:08.397 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:42:08.903 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:08Z, iat=2026-01-14T02:42:08Z, jti=b6699734-0c9d-480b-93b5-14047115b4f4, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6758d397]
09:42:09.489 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:42:09.489 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:09.493 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:43:28.399 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:43:28.409 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:12:08Z, iat=2026-01-14T02:42:08Z, jti=b6699734-0c9d-480b-93b5-14047115b4f4, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:28.409 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:43:28.830 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:28Z, iat=2026-01-14T02:43:28Z, jti=fd1e8c35-e341-4d82-8f2f-7dac627d37f1, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2197bcb6]
09:43:29.771 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:43:29.869 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:28Z, iat=2026-01-14T02:43:28Z, jti=fd1e8c35-e341-4d82-8f2f-7dac627d37f1, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:29.894 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:43:31.041 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:30Z, iat=2026-01-14T02:43:30Z, jti=065c78b1-93f7-467b-a2f4-0814847213cb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@715e294c]
09:43:35.726 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
09:43:35.741 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:30Z, iat=2026-01-14T02:43:30Z, jti=065c78b1-93f7-467b-a2f4-0814847213cb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:35.743 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
09:43:36.410 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:36Z, iat=2026-01-14T02:43:36Z, jti=74ba83d9-b559-494e-a38f-1020d0ca54c1, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2f8f9549]
09:43:37.373 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:37.373 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:37.375 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:38.534 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:43:38.551 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:36Z, iat=2026-01-14T02:43:36Z, jti=74ba83d9-b559-494e-a38f-1020d0ca54c1, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:38.553 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:43:39.133 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:39Z, iat=2026-01-14T02:43:39Z, jti=91e06f5f-4deb-46a4-90b5-e92de5cc29bb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@407a1fe9]
09:43:39.694 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:43:39.700 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:39Z, iat=2026-01-14T02:43:39Z, jti=91e06f5f-4deb-46a4-90b5-e92de5cc29bb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:39.700 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:43:40.332 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:40Z, iat=2026-01-14T02:43:40Z, jti=97846be9-1667-408e-838f-03b7f1293ce5, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@182afb5d]
09:43:40.965 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:43:40.966 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:40.966 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:43:45.350 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
09:43:45.358 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:40Z, iat=2026-01-14T02:43:40Z, jti=97846be9-1667-408e-838f-03b7f1293ce5, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:45.359 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
09:43:45.908 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:45Z, iat=2026-01-14T02:43:45Z, jti=6300f055-a3a7-49ff-b22e-cbdd7ef65fda, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5050195b]
09:43:46.572 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:46.572 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:46.572 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:47.474 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:43:47.492 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:45Z, iat=2026-01-14T02:43:45Z, jti=6300f055-a3a7-49ff-b22e-cbdd7ef65fda, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:47.556 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:43:48.334 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:48Z, iat=2026-01-14T02:43:48Z, jti=1693e104-1002-4181-a8f5-9bb892a411a0, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3df38787]
09:43:48.987 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:43:48.997 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:48Z, iat=2026-01-14T02:43:48Z, jti=1693e104-1002-4181-a8f5-9bb892a411a0, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:49.004 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:43:50.078 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:50Z, iat=2026-01-14T02:43:50Z, jti=99baa125-427a-4635-8e05-f48eed93fe30, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6bb0e7eb]
09:43:50.366 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:43:50.377 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:48Z, iat=2026-01-14T02:43:48Z, jti=1693e104-1002-4181-a8f5-9bb892a411a0, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:50.377 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:43:51.199 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:43:51.315 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:50Z, iat=2026-01-14T02:43:50Z, jti=99baa125-427a-4635-8e05-f48eed93fe30, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:51.319 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:43:52.055 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:51Z, iat=2026-01-14T02:43:51Z, jti=39ae644b-db42-4473-bfb8-3d358ffb424e, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4da7c98d]
09:43:52.734 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:43:52.740 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:51Z, iat=2026-01-14T02:43:51Z, jti=39ae644b-db42-4473-bfb8-3d358ffb424e, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:43:52.741 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:43:53.455 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:53Z, iat=2026-01-14T02:43:53Z, jti=7fbaff23-05bc-4d6b-bde2-07cafd23554e, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@45c663fb]
09:43:54.324 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:43:54.324 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:54.326 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:44:18.450 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:44:18.468 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:13:53Z, iat=2026-01-14T02:43:53Z, jti=7fbaff23-05bc-4d6b-bde2-07cafd23554e, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:44:18.480 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:44:19.196 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:19Z, iat=2026-01-14T02:44:19Z, jti=e0345e6f-a376-4dfd-8491-fd1f1a0c91f3, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7b77325]
09:44:20.175 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:44:20.182 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:19Z, iat=2026-01-14T02:44:19Z, jti=e0345e6f-a376-4dfd-8491-fd1f1a0c91f3, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:44:20.183 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:44:20.771 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:20Z, iat=2026-01-14T02:44:20Z, jti=cdca5519-9691-4883-9fe1-a73df52c2574, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4cfeb719]
09:44:24.864 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:44:24.874 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:20Z, iat=2026-01-14T02:44:20Z, jti=cdca5519-9691-4883-9fe1-a73df52c2574, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:44:24.875 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:44:25.683 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:44:25.726 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:20Z, iat=2026-01-14T02:44:20Z, jti=cdca5519-9691-4883-9fe1-a73df52c2574, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:44:25.747 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:44:26.762 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:26Z, iat=2026-01-14T02:44:26Z, jti=61cd310b-ae5b-47d8-8eda-e53e4e71f6eb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2f87d8ba]
09:44:27.428 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:44:27.444 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:26Z, iat=2026-01-14T02:44:26Z, jti=61cd310b-ae5b-47d8-8eda-e53e4e71f6eb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:44:27.454 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:44:28.089 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:28Z, iat=2026-01-14T02:44:28Z, jti=616c35f4-c0be-4aac-b161-90b7cefcea5b, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@355520f]
09:44:28.837 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:44:28.838 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:44:28.840 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:46:47.436 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:46:47.455 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:28Z, iat=2026-01-14T02:44:28Z, jti=616c35f4-c0be-4aac-b161-90b7cefcea5b, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:46:47.456 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:46:47.864 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:46:47.874 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:14:28Z, iat=2026-01-14T02:44:28Z, jti=616c35f4-c0be-4aac-b161-90b7cefcea5b, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:46:47.875 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:46:48.470 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:16:48Z, iat=2026-01-14T02:46:48Z, jti=df6c2e48-74d0-4adf-bcef-b8757c2423ab, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@19ad64cb]
09:46:48.926 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:46:48.937 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:16:48Z, iat=2026-01-14T02:46:48Z, jti=df6c2e48-74d0-4adf-bcef-b8757c2423ab, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:46:48.937 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:46:49.360 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:16:49Z, iat=2026-01-14T02:46:49Z, jti=59e90718-7508-4cea-9ce2-f142e25882cb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@680ee1bd]
09:46:49.813 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:46:49.815 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:46:49.816 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:48:29.509 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
09:48:29.547 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:16:49Z, iat=2026-01-14T02:46:49Z, jti=59e90718-7508-4cea-9ce2-f142e25882cb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:48:29.549 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
09:48:30.024 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:48:30.029 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:16:49Z, iat=2026-01-14T02:46:49Z, jti=59e90718-7508-4cea-9ce2-f142e25882cb, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:48:30.030 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:48:30.916 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:18:30Z, iat=2026-01-14T02:48:30Z, jti=62638131-10cf-4601-920c-1dc8ec00e529, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@72f8423]
09:48:31.809 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:48:31.817 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:18:30Z, iat=2026-01-14T02:48:30Z, jti=62638131-10cf-4601-920c-1dc8ec00e529, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:48:31.817 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:48:32.353 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:18:32Z, iat=2026-01-14T02:48:32Z, jti=984d2dbb-2c07-40ef-a9b3-4b320de29fa7, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@45de953f]
09:48:32.961 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:48:32.962 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:48:32.963 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:48:44.981 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:48:44.982 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:48:44.982 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:49:20.009 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
09:49:20.023 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
09:49:20.038 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:18:32Z, iat=2026-01-14T02:48:32Z, jti=984d2dbb-2c07-40ef-a9b3-4b320de29fa7, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:20.039 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
09:49:20.375 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:20Z, iat=2026-01-14T02:49:20Z, jti=bcd3d4d8-46c7-470e-bfea-b2e02c197614, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@215377b4]
09:49:20.786 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:49:20.794 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:20Z, iat=2026-01-14T02:49:20Z, jti=bcd3d4d8-46c7-470e-bfea-b2e02c197614, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:20.801 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:49:21.188 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:21Z, iat=2026-01-14T02:49:21Z, jti=f675ee09-b6e8-461e-ac2d-0bbd685b1a56, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@db2cf80]
09:49:21.535 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:49:21.541 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:21Z, iat=2026-01-14T02:49:21Z, jti=f675ee09-b6e8-461e-ac2d-0bbd685b1a56, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:21.577 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:49:21.894 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:21Z, iat=2026-01-14T02:49:21Z, jti=cdb467f3-3fa1-4782-97ef-a7776ad53e6d, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@724d0bd3]
09:49:32.820 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
09:49:32.834 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
09:49:32.840 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:21Z, iat=2026-01-14T02:49:21Z, jti=cdb467f3-3fa1-4782-97ef-a7776ad53e6d, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:32.840 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
09:49:33.175 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:33Z, iat=2026-01-14T02:49:33Z, jti=cd3e7528-94f6-44b2-bc2f-b3b4e9f0c068, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@499fbca4]
09:49:33.502 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:49:33.506 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:33Z, iat=2026-01-14T02:49:33Z, jti=cd3e7528-94f6-44b2-bc2f-b3b4e9f0c068, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:33.507 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:49:33.836 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:33Z, iat=2026-01-14T02:49:33Z, jti=510d5db3-0335-4718-ae36-7a16f96f3613, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@23554835]
09:49:34.134 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:49:34.140 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:33Z, iat=2026-01-14T02:49:33Z, jti=510d5db3-0335-4718-ae36-7a16f96f3613, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:34.140 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:49:34.455 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:34Z, iat=2026-01-14T02:49:34Z, jti=8ba5cb1e-f4b1-41e5-aae1-3ebf54febbcd, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7a8102fa]
09:49:39.002 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
09:49:39.007 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
09:49:39.013 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:34Z, iat=2026-01-14T02:49:34Z, jti=8ba5cb1e-f4b1-41e5-aae1-3ebf54febbcd, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:39.014 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
09:49:39.348 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:39Z, iat=2026-01-14T02:49:39Z, jti=caa6ab40-ae71-42e2-aff0-095078f7ef5e, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7bfb34f2]
09:49:39.665 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:49:39.673 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:39Z, iat=2026-01-14T02:49:39Z, jti=caa6ab40-ae71-42e2-aff0-095078f7ef5e, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:39.673 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:49:40.002 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:39Z, iat=2026-01-14T02:49:39Z, jti=bdbf6b0c-1884-44ad-8247-f442400c8a09, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6f4e4fb6]
09:49:40.322 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:49:40.327 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:39Z, iat=2026-01-14T02:49:39Z, jti=bdbf6b0c-1884-44ad-8247-f442400c8a09, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:40.350 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:49:40.707 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:40Z, iat=2026-01-14T02:49:40Z, jti=4ac5155b-fa11-4aca-8f80-692cb2eb20ef, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@530ae33f]
09:49:46.169 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
09:49:46.184 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
09:49:46.192 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:40Z, iat=2026-01-14T02:49:40Z, jti=4ac5155b-fa11-4aca-8f80-692cb2eb20ef, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:46.192 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
09:49:46.514 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:46Z, iat=2026-01-14T02:49:46Z, jti=11e34c00-76a2-42eb-8c24-f5467ea099d1, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2d082ad5]
09:49:46.837 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
09:49:46.840 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:46Z, iat=2026-01-14T02:49:46Z, jti=11e34c00-76a2-42eb-8c24-f5467ea099d1, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:46.841 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
09:49:47.172 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:47Z, iat=2026-01-14T02:49:47Z, jti=0d929545-1254-4517-bc0e-55b8b064eddc, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@53a87277]
09:49:47.539 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
09:49:47.544 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:47Z, iat=2026-01-14T02:49:47Z, jti=0d929545-1254-4517-bc0e-55b8b064eddc, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]]
09:49:47.545 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
09:49:47.894 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T02:42:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:19:47Z, iat=2026-01-14T02:49:47Z, jti=5500ea8d-b294-492a-9b4a-0e7a3d29e81a, authorities=[ROLE_CUSTOMER], sid=31RNIk9eONzxKNcp_3mYAUtsA4HUuTWwUkYGXqH0i8s}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b8e84373-2447-406c-b831-dcf0fbdb0f0f], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2312f07a]
10:00:36.082 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:00:36.138 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:00:36.150 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:36.217 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
10:00:36.220 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
10:00:36.220 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
10:00:43.741 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
10:00:43.754 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=OL9NXC9xGVzkbY3iD4yJEJp4UWqeOnPE4nE3cl-zDcw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=1QqKS_-BQQ3M5SUrvr6x5b-2ENhbgdt3cW0wQhf31VI
10:00:43.855 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=22jr3L_EzFhNh-8C5P1PsopRw_UdlmWwZb6NypD-hfuuolxXIoNtbWIgHaUgUDG5yQWWuKeVD8sJootTxVId6l65ZyDJoe02DJZp54Du96x0pfJfiCpOccHt5xV4_OYC&state=OL9NXC9xGVzkbY3iD4yJEJp4UWqeOnPE4nE3cl-zDcw%3D
10:00:44.239 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 1b6875a2-2197-4db3-956c-62e6c7987ce8
10:00:44.242 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
10:00:44.242 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:44Z, iat=2026-01-14T03:00:44Z, nonce=1QqKS_-BQQ3M5SUrvr6x5b-2ENhbgdt3cW0wQhf31VI, jti=ea079419-94d0-49da-a1d9-1b85b5fc7950, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1b2c7e09]
10:00:44.244 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:44Z, iat=2026-01-14T03:00:44Z, nonce=1QqKS_-BQQ3M5SUrvr6x5b-2ENhbgdt3cW0wQhf31VI, jti=ea079419-94d0-49da-a1d9-1b85b5fc7950, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]
10:00:44.850 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:00:44.859 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:44Z, iat=2026-01-14T03:00:44Z, nonce=1QqKS_-BQQ3M5SUrvr6x5b-2ENhbgdt3cW0wQhf31VI, jti=ea079419-94d0-49da-a1d9-1b85b5fc7950, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:00:44.860 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:00:45.131 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:00:45.133 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:45.133 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:00:46.136 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:00:46.137 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.138 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:00:46.146 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:00:46.150 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.152 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:00:46.160 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:00:46.163 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.167 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:00:46.161 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:00:46.173 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.174 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:00:46.175 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:00:46.176 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.178 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:00:46.244 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:00:46.246 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.254 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:00:46.330 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:00:46.338 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.342 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:00:46.341 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:00:46.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.370 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:00:46.424 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:00:46.427 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.442 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:00:46.540 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:00:46.542 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.543 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:00:48.422 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:00:48.430 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:44Z, iat=2026-01-14T03:00:44Z, nonce=1QqKS_-BQQ3M5SUrvr6x5b-2ENhbgdt3cW0wQhf31VI, jti=ea079419-94d0-49da-a1d9-1b85b5fc7950, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:00:48.431 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:00:48.804 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:48Z, iat=2026-01-14T03:00:48Z, jti=8df6cfe0-cad6-4500-a77c-a252e20b7805, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@261cf7fc]
10:00:49.177 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:00:49.183 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:48Z, iat=2026-01-14T03:00:48Z, jti=8df6cfe0-cad6-4500-a77c-a252e20b7805, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:00:49.183 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:00:49.570 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:49Z, iat=2026-01-14T03:00:49Z, jti=20080bf3-ee83-4788-a447-2b76866d69bd, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@797b7ca5]
10:00:49.952 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:00:49.954 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:49.955 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:00:51.085 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:00:51.091 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:00:51.097 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:49Z, iat=2026-01-14T03:00:49Z, jti=20080bf3-ee83-4788-a447-2b76866d69bd, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:00:51.104 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:00:51.431 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:51Z, iat=2026-01-14T03:00:51Z, jti=d77d0c65-c7ae-42ba-b085-cd2307c08e54, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7af047bd]
10:00:51.776 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:00:51.782 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:51Z, iat=2026-01-14T03:00:51Z, jti=d77d0c65-c7ae-42ba-b085-cd2307c08e54, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:00:51.787 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:00:52.166 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:52Z, iat=2026-01-14T03:00:52Z, jti=3ce4c925-38e2-4923-b654-d52bb5dcab27, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@560e245e]
10:00:52.505 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:00:52.510 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:52Z, iat=2026-01-14T03:00:52Z, jti=3ce4c925-38e2-4923-b654-d52bb5dcab27, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:00:52.510 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:00:52.830 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:52Z, iat=2026-01-14T03:00:52Z, jti=a810c5c5-44a9-45d1-a165-bee86fade8f9, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@12661cb8]
10:01:02.241 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:01:02.251 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:01:02.264 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:30:52Z, iat=2026-01-14T03:00:52Z, jti=a810c5c5-44a9-45d1-a165-bee86fade8f9, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:01:02.264 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:01:02.566 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:31:02Z, iat=2026-01-14T03:01:02Z, jti=978c701c-2481-4f19-aff7-a35f8eb3263c, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@392e3336]
10:01:02.919 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:01:02.924 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:31:02Z, iat=2026-01-14T03:01:02Z, jti=978c701c-2481-4f19-aff7-a35f8eb3263c, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:01:02.924 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:01:03.247 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:31:03Z, iat=2026-01-14T03:01:03Z, jti=5b93d724-21b5-4b29-a189-95a2acd7eb23, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@572b8cff]
10:01:03.584 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:01:03.589 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:31:03Z, iat=2026-01-14T03:01:03Z, jti=5b93d724-21b5-4b29-a189-95a2acd7eb23, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:01:03.590 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:01:03.950 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:31:03Z, iat=2026-01-14T03:01:03Z, jti=e15c6dbf-91fa-4975-8071-675de35e4f4e, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@42b258d2]
10:03:52.226 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:03:52.255 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:31:03Z, iat=2026-01-14T03:01:03Z, jti=e15c6dbf-91fa-4975-8071-675de35e4f4e, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:03:52.260 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:03:52.719 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:33:52Z, iat=2026-01-14T03:03:52Z, jti=86ba99ee-227d-4198-ac33-40c64daeb646, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@216d280e]
10:03:53.162 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:03:53.176 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:33:52Z, iat=2026-01-14T03:03:52Z, jti=86ba99ee-227d-4198-ac33-40c64daeb646, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:03:53.176 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:03:53.597 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:33:53Z, iat=2026-01-14T03:03:53Z, jti=eae06e71-0a3c-4993-88ad-a4e62a7fdbeb, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@ad032c4]
10:04:00.049 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:04:00.130 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:04:00.146 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:33:53Z, iat=2026-01-14T03:03:53Z, jti=eae06e71-0a3c-4993-88ad-a4e62a7fdbeb, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:00.151 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:04:01.209 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:01Z, iat=2026-01-14T03:04:01Z, jti=1052e345-c1be-4df2-8485-654147652992, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6461c50a]
10:04:02.337 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:04:02.382 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:01Z, iat=2026-01-14T03:04:01Z, jti=1052e345-c1be-4df2-8485-654147652992, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:02.393 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:04:03.889 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:03Z, iat=2026-01-14T03:04:03Z, jti=f732611e-e45c-4f20-93f6-f9773fef6bb6, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@9b9b0a8]
10:04:05.208 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:04:05.235 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:03Z, iat=2026-01-14T03:04:03Z, jti=f732611e-e45c-4f20-93f6-f9773fef6bb6, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:05.244 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:04:06.030 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:05Z, iat=2026-01-14T03:04:05Z, jti=0b0c3569-651e-44f6-ae5d-e8b259258365, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@191cf66e]
10:04:34.626 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
10:04:34.638 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:05Z, iat=2026-01-14T03:04:05Z, jti=0b0c3569-651e-44f6-ae5d-e8b259258365, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:34.639 | DEBUG | FilterChainProxy: Secured GET /protected/api/carts
10:04:35.241 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:35Z, iat=2026-01-14T03:04:35Z, jti=c275d329-3b6d-4940-a1cc-3d71d91f55e8, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@185f45ed]
10:04:36.116 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:04:36.118 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:04:36.118 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:04:37.163 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:04:37.181 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:35Z, iat=2026-01-14T03:04:35Z, jti=c275d329-3b6d-4940-a1cc-3d71d91f55e8, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:37.184 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:04:37.716 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:37Z, iat=2026-01-14T03:04:37Z, jti=94a0789b-a463-4acd-9944-a5c19aeaa5cd, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5315ec1]
10:04:38.224 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:04:38.235 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:37Z, iat=2026-01-14T03:04:37Z, jti=94a0789b-a463-4acd-9944-a5c19aeaa5cd, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:38.235 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:04:38.765 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:38Z, iat=2026-01-14T03:04:38Z, jti=d26a944e-b6c6-44e9-83eb-83d1dcf779b2, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@787a13d3]
10:04:39.352 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:04:39.354 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:04:39.356 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:04:49.343 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:04:49.346 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:38Z, iat=2026-01-14T03:04:38Z, jti=d26a944e-b6c6-44e9-83eb-83d1dcf779b2, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:49.348 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:04:49.727 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:04:49.733 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:38Z, iat=2026-01-14T03:04:38Z, jti=d26a944e-b6c6-44e9-83eb-83d1dcf779b2, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:49.735 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:04:50.306 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:50Z, iat=2026-01-14T03:04:50Z, jti=4a48402a-6e8a-4534-afda-a6a5566eee45, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2c5e17c]
10:04:50.869 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:04:50.879 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:50Z, iat=2026-01-14T03:04:50Z, jti=4a48402a-6e8a-4534-afda-a6a5566eee45, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]]
10:04:50.879 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:04:51.434 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:00:43Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:34:51Z, iat=2026-01-14T03:04:51Z, jti=1c7b67d4-a552-40a2-8525-ff16d793d0ed, authorities=[ROLE_CUSTOMER], sid=UV275s-0NFfwzY2DCp0YuwU_E5lJdkvbm-MWqK_w2OE}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1b6875a2-2197-4db3-956c-62e6c7987ce8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3fc336ca]
10:04:52.131 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:04:52.132 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:04:52.132 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:06:55.755 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:06:55.761 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:06:55.762 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:06:59.472 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:06:59.476 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:06:59.476 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:13:36.101 | DEBUG | FilterChainProxy: Securing POST /protected/logout
10:13:36.159 | DEBUG | LogoutFilter: Logging out [null]
10:13:36.452 | DEBUG | FilterChainProxy: Securing GET /favicon.ico
10:13:36.458 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:36.487 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
10:13:36.489 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@26ba9b23
10:13:36.494 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
10:13:49.017 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:13:49.020 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:49.022 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
10:13:49.039 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
10:13:49.055 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
10:13:49.509 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:13:49.512 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:13:49.513 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:49.514 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:13:49.516 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:49.516 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:13:50.271 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:13:50.272 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.272 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:13:50.267 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:13:50.273 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.274 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:13:50.278 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:13:50.279 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:13:50.281 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.283 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:13:50.282 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:13:50.288 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.283 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.284 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:13:50.309 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:13:50.302 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:13:50.316 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.326 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:13:50.336 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:13:50.336 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:13:50.337 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.337 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:13:50.338 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.338 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:13:50.383 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:13:50.384 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:13:50.386 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.387 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.387 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:13:50.388 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:13:53.261 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
10:13:53.285 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=FJUcQKQBCTWwrGbYEhAfDqG8CdbtCHJm_pCAwUF0jbw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=u_UXzbSbtxWPLBeDwRAn-SIfYNguyt3T2kOG0QQpHuM
10:15:02.359 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
10:15:02.400 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=hWtkNEyZvM-nDf5zetpXtlQSCivGxx-D7rFwjTZ2rn8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=dkP5_LP1Td8w3mQJRC-A5aoRC0ALLB5oCOXn1wIcPDI
10:15:02.504 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=ClTsUuBNiJTfGPF1QMdYGovm_rQCaG2dM_pkxUxB3RDKjA-25gacTJOb1RBenn0a-f4e6psqTP5BXEN1dSLE5dOC-eL-9Nln4uHrqAeaE3Mpm_lheL78VtgzNIX3vOWZ&state=hWtkNEyZvM-nDf5zetpXtlQSCivGxx-D7rFwjTZ2rn8%3D
10:15:02.991 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from e07e735b-507f-44d2-b4cf-829eef416814
10:15:02.992 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
10:15:02.994 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:02Z, iat=2026-01-14T03:15:02Z, nonce=dkP5_LP1Td8w3mQJRC-A5aoRC0ALLB5oCOXn1wIcPDI, jti=00d5ac74-e432-48e2-9d70-8bb0128c39ff, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@75f2ea72]
10:15:02.994 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:02Z, iat=2026-01-14T03:15:02Z, nonce=dkP5_LP1Td8w3mQJRC-A5aoRC0ALLB5oCOXn1wIcPDI, jti=00d5ac74-e432-48e2-9d70-8bb0128c39ff, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]
10:15:03.759 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:15:03.777 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:02Z, iat=2026-01-14T03:15:02Z, nonce=dkP5_LP1Td8w3mQJRC-A5aoRC0ALLB5oCOXn1wIcPDI, jti=00d5ac74-e432-48e2-9d70-8bb0128c39ff, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]]
10:15:03.779 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:15:04.229 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:15:04.230 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.231 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:15:04.238 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:15:04.239 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.241 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:15:04.865 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:15:04.866 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:15:04.883 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.866 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:15:04.876 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:15:04.875 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:15:04.879 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.894 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.895 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:15:04.894 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.895 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:15:04.896 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:15:04.887 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:15:04.871 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:15:04.904 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.905 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:15:04.904 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.917 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:15:04.999 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:15:05.003 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.014 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:15:05.015 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:15:05.018 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.030 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:15:05.034 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:15:05.048 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.052 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:15:05.053 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:15:05.053 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.054 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:15:11.048 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:15:11.057 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:02Z, iat=2026-01-14T03:15:02Z, nonce=dkP5_LP1Td8w3mQJRC-A5aoRC0ALLB5oCOXn1wIcPDI, jti=00d5ac74-e432-48e2-9d70-8bb0128c39ff, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]]
10:15:11.059 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:15:11.409 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:11Z, iat=2026-01-14T03:15:11Z, jti=c0e34d1e-84d9-4e67-85b6-80c6f0c80106, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2510a0fc]
10:15:11.811 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:15:11.820 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:11Z, iat=2026-01-14T03:15:11Z, jti=c0e34d1e-84d9-4e67-85b6-80c6f0c80106, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]]
10:15:11.820 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:15:12.142 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.shopping@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.shopping@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:15:02Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T03:45:12Z, iat=2026-01-14T03:15:12Z, jti=2174f0ef-2446-4fca-8344-a504845f0044, authorities=[ROLE_CUSTOMER], sid=FgklXoppdTtLHwUlcU1b1M0473mfQVSu4smeydQ40lo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=e07e735b-507f-44d2-b4cf-829eef416814], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5b956ff7]
10:15:12.509 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:15:12.510 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:12.510 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:30:15.487 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:30:15.556 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:30:15.624 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
10:30:15.625 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
10:30:15.626 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
10:31:14.808 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
10:31:14.838 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=q6ZOy1eoyprCKJ548zUjmvcjhaO1NrA5DvCOv0Cyd3w%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=ueN7w9BRhkFOeI36G1qnUipfJAJlVxMz91YvJJ4SSus
10:31:15.151 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=IbkmdV7jYhTR2GoLRL7-EI_FI39H4mk-XmXlLnhc8mTV1qWhVO1ZfrerBP320TrZluJraVGK33uCv_AUWpb92dDx-v6FfzCp28TV-8NUSPeTxOylgaYvSMeLuyc5WiUh&state=q6ZOy1eoyprCKJ548zUjmvcjhaO1NrA5DvCOv0Cyd3w%3D
10:31:15.938 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from f59a7817-a2d3-446f-8446-20faeda25b3a
10:31:15.939 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
10:31:15.949 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:01:15Z, iat=2026-01-14T03:31:15Z, nonce=ueN7w9BRhkFOeI36G1qnUipfJAJlVxMz91YvJJ4SSus, jti=424e3ceb-6920-4ee1-927a-7e1f0e711d58, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6a476c53]
10:31:15.951 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:01:15Z, iat=2026-01-14T03:31:15Z, nonce=ueN7w9BRhkFOeI36G1qnUipfJAJlVxMz91YvJJ4SSus, jti=424e3ceb-6920-4ee1-927a-7e1f0e711d58, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]
10:31:16.945 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:31:16.993 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:01:15Z, iat=2026-01-14T03:31:15Z, nonce=ueN7w9BRhkFOeI36G1qnUipfJAJlVxMz91YvJJ4SSus, jti=424e3ceb-6920-4ee1-927a-7e1f0e711d58, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:31:16.997 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:31:17.619 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:31:17.620 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:17.620 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:31:17.635 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:31:17.638 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:17.639 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:31:19.996 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:31:19.998 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:19.999 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:31:20.000 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:31:20.002 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.003 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:31:20.014 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:31:20.014 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.015 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:31:20.018 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:31:20.017 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:31:20.018 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:31:20.019 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.019 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.019 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.019 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:31:20.019 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:31:20.021 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:31:20.131 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:31:20.132 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.134 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:31:20.135 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:31:20.135 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:31:20.139 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.135 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:31:20.135 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.145 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.140 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:31:20.145 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:31:20.145 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:32:01.094 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:32:01.111 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:01:15Z, iat=2026-01-14T03:31:15Z, nonce=ueN7w9BRhkFOeI36G1qnUipfJAJlVxMz91YvJJ4SSus, jti=424e3ceb-6920-4ee1-927a-7e1f0e711d58, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:01.112 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:32:01.714 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:32:01.731 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:01:15Z, iat=2026-01-14T03:31:15Z, nonce=ueN7w9BRhkFOeI36G1qnUipfJAJlVxMz91YvJJ4SSus, jti=424e3ceb-6920-4ee1-927a-7e1f0e711d58, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:01.745 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:32:02.566 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:02Z, iat=2026-01-14T03:32:02Z, jti=bbbe6fbd-af0e-413b-8f8d-d7bef852254a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@550658e5]
10:32:04.605 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:32:04.614 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:02Z, iat=2026-01-14T03:32:02Z, jti=bbbe6fbd-af0e-413b-8f8d-d7bef852254a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:04.615 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:32:05.289 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:05Z, iat=2026-01-14T03:32:05Z, jti=a19179d1-6b2b-46db-abcf-74f72edfea97, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@34a6307c]
10:32:06.054 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:32:06.056 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:32:06.058 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:32:12.070 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:32:12.085 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:05Z, iat=2026-01-14T03:32:05Z, jti=a19179d1-6b2b-46db-abcf-74f72edfea97, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:12.085 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:32:12.681 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:32:12.697 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:05Z, iat=2026-01-14T03:32:05Z, jti=a19179d1-6b2b-46db-abcf-74f72edfea97, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:12.697 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:32:13.475 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:13Z, iat=2026-01-14T03:32:13Z, jti=b8709ad5-7085-40e0-a8f0-0e28e023f60c, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@480b7e88]
10:32:14.238 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:32:14.368 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:13Z, iat=2026-01-14T03:32:13Z, jti=b8709ad5-7085-40e0-a8f0-0e28e023f60c, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:14.370 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:32:15.157 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:14Z, iat=2026-01-14T03:32:14Z, jti=5a84da69-0265-4e81-aae2-2e70ee1e0235, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5cc1c3b7]
10:32:16.004 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:32:16.007 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:32:16.010 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:32:39.722 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:32:39.735 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:14Z, iat=2026-01-14T03:32:14Z, jti=5a84da69-0265-4e81-aae2-2e70ee1e0235, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:39.736 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:32:40.116 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:32:40.121 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:14Z, iat=2026-01-14T03:32:14Z, jti=5a84da69-0265-4e81-aae2-2e70ee1e0235, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:40.121 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:32:40.492 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:40Z, iat=2026-01-14T03:32:40Z, jti=e602a96a-01e5-4473-aa15-0ed0f66c8041, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@bfc975d]
10:32:40.829 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:32:40.834 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:40Z, iat=2026-01-14T03:32:40Z, jti=e602a96a-01e5-4473-aa15-0ed0f66c8041, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:32:40.834 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:32:41.234 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:41Z, iat=2026-01-14T03:32:41Z, jti=dd859437-1082-4d1b-9ec1-fab538297168, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@330c61a3]
10:32:41.660 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:32:41.664 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:32:41.664 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:33:25.425 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:33:25.437 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:41Z, iat=2026-01-14T03:32:41Z, jti=dd859437-1082-4d1b-9ec1-fab538297168, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:25.438 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:33:25.772 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:33:25.776 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:02:41Z, iat=2026-01-14T03:32:41Z, jti=dd859437-1082-4d1b-9ec1-fab538297168, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:25.777 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:33:26.202 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:26Z, iat=2026-01-14T03:33:26Z, jti=f8153d8d-3e1a-402d-9e19-6fcecfe0b16a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1732dd7d]
10:33:26.646 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:33:26.653 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:26Z, iat=2026-01-14T03:33:26Z, jti=f8153d8d-3e1a-402d-9e19-6fcecfe0b16a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:26.654 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:33:27.057 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:27Z, iat=2026-01-14T03:33:27Z, jti=dc45ad02-7556-417a-b36d-b9b671db6322, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@251be122]
10:33:27.463 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:33:27.463 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:33:27.464 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:33:31.765 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:33:31.778 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:27Z, iat=2026-01-14T03:33:27Z, jti=dc45ad02-7556-417a-b36d-b9b671db6322, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:31.783 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:33:32.210 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:33:32.237 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:27Z, iat=2026-01-14T03:33:27Z, jti=dc45ad02-7556-417a-b36d-b9b671db6322, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:32.281 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:33:32.657 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:32Z, iat=2026-01-14T03:33:32Z, jti=dcdcbcd9-7b26-4155-b49f-9c6e15583808, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3ab9800d]
10:33:33.028 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:33:33.034 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:32Z, iat=2026-01-14T03:33:32Z, jti=dcdcbcd9-7b26-4155-b49f-9c6e15583808, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:33.035 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:33:33.414 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:33Z, iat=2026-01-14T03:33:33Z, jti=9cd9f07a-43f4-4af0-887a-4ee11b0d8097, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6b2e3ec7]
10:33:33.783 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:33:33.784 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:33:33.785 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:33:40.593 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:33:40.600 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:33Z, iat=2026-01-14T03:33:33Z, jti=9cd9f07a-43f4-4af0-887a-4ee11b0d8097, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:40.601 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:33:40.963 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:33:40.968 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:33Z, iat=2026-01-14T03:33:33Z, jti=9cd9f07a-43f4-4af0-887a-4ee11b0d8097, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:40.973 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:33:41.464 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:41Z, iat=2026-01-14T03:33:41Z, jti=2d2f6ac7-fa15-4fd3-8e77-205e7cc3a2b7, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7c2ed210]
10:33:41.829 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:33:41.836 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:41Z, iat=2026-01-14T03:33:41Z, jti=2d2f6ac7-fa15-4fd3-8e77-205e7cc3a2b7, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:33:41.837 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:33:42.220 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:42Z, iat=2026-01-14T03:33:42Z, jti=9e094134-bb79-4260-abc2-1ee43a502728, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6967a88d]
10:33:42.695 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:33:42.699 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:33:42.700 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:34:27.277 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:34:27.286 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:03:42Z, iat=2026-01-14T03:33:42Z, jti=9e094134-bb79-4260-abc2-1ee43a502728, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:34:27.286 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:34:27.676 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:27Z, iat=2026-01-14T03:34:27Z, jti=1b84f456-dfae-433e-bf14-27a8e8451a0b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@762a4db9]
10:34:28.125 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:34:28.134 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:27Z, iat=2026-01-14T03:34:27Z, jti=1b84f456-dfae-433e-bf14-27a8e8451a0b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:34:28.141 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:34:28.623 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:28Z, iat=2026-01-14T03:34:28Z, jti=58eae6a2-9fda-4cba-8ab8-5e62e6ddc5e0, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@199dd997]
10:34:38.692 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:34:38.709 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:28Z, iat=2026-01-14T03:34:28Z, jti=58eae6a2-9fda-4cba-8ab8-5e62e6ddc5e0, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:34:38.711 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:34:39.604 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:34:39.658 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:28Z, iat=2026-01-14T03:34:28Z, jti=58eae6a2-9fda-4cba-8ab8-5e62e6ddc5e0, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:34:39.757 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:34:40.725 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:40Z, iat=2026-01-14T03:34:40Z, jti=660e3b9a-f820-445a-a36f-2efa701d1e19, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4a5d4493]
10:34:41.322 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:34:41.328 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:40Z, iat=2026-01-14T03:34:40Z, jti=660e3b9a-f820-445a-a36f-2efa701d1e19, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:34:41.328 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:34:41.870 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:41Z, iat=2026-01-14T03:34:41Z, jti=df585b63-9911-42dc-9c82-e083f099a6ff, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@742136f]
10:34:42.459 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:34:42.462 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:34:42.462 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:35:06.832 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:35:06.846 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:04:41Z, iat=2026-01-14T03:34:41Z, jti=df585b63-9911-42dc-9c82-e083f099a6ff, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:35:06.846 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:35:07.481 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:07Z, iat=2026-01-14T03:35:07Z, jti=3fafbb44-c2c2-4089-af75-73825c9e8012, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4846d6fd]
10:35:08.939 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:35:08.956 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:07Z, iat=2026-01-14T03:35:07Z, jti=3fafbb44-c2c2-4089-af75-73825c9e8012, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:35:08.982 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:35:09.928 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:09Z, iat=2026-01-14T03:35:09Z, jti=b591173c-c722-462f-8ffd-b351247d48b7, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@69601d32]
10:35:32.893 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:35:32.907 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:09Z, iat=2026-01-14T03:35:09Z, jti=b591173c-c722-462f-8ffd-b351247d48b7, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:35:32.917 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:35:34.610 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:34Z, iat=2026-01-14T03:35:34Z, jti=f3e3bbf5-5050-4c3a-bd53-8a9267676d6f, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@20b9b2fa]
10:35:36.510 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:35:36.552 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:34Z, iat=2026-01-14T03:35:34Z, jti=f3e3bbf5-5050-4c3a-bd53-8a9267676d6f, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:35:36.564 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:35:37.478 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:37Z, iat=2026-01-14T03:35:37Z, jti=f20ae770-ff47-4ded-8c75-366a57e473c1, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@607f7b2b]
10:37:11.877 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:37:11.966 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:05:37Z, iat=2026-01-14T03:35:37Z, jti=f20ae770-ff47-4ded-8c75-366a57e473c1, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:37:11.972 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:37:13.157 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:07:12Z, iat=2026-01-14T03:37:12Z, jti=d88a7af1-ccc9-421a-b020-4c2c6a18624b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2b1ba397]
10:37:14.407 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:37:14.434 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:07:12Z, iat=2026-01-14T03:37:12Z, jti=d88a7af1-ccc9-421a-b020-4c2c6a18624b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:37:14.437 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:37:15.497 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:07:15Z, iat=2026-01-14T03:37:15Z, jti=bdf5bfad-53b1-49d1-8dbd-2c24e1a7802b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7c5973e8]
10:38:21.717 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:38:21.997 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:07:15Z, iat=2026-01-14T03:37:15Z, jti=bdf5bfad-53b1-49d1-8dbd-2c24e1a7802b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:38:22.001 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:38:24.158 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:08:23Z, iat=2026-01-14T03:38:23Z, jti=c8ee5208-b5fd-4568-8acb-c403d4dd5dc7, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5a3d8927]
10:38:26.374 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:38:26.427 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:08:23Z, iat=2026-01-14T03:38:23Z, jti=c8ee5208-b5fd-4568-8acb-c403d4dd5dc7, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:38:26.444 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:38:27.561 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:08:27Z, iat=2026-01-14T03:38:27Z, jti=349d003c-41d3-4727-8499-df36b7c9dc7a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4b5dbf07]
10:39:09.769 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:39:10.009 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:08:27Z, iat=2026-01-14T03:38:27Z, jti=349d003c-41d3-4727-8499-df36b7c9dc7a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:39:10.020 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:39:11.071 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:09:10Z, iat=2026-01-14T03:39:10Z, jti=4bf0cdf8-3a7b-43d7-bac0-64e875c53b6b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@416478ab]
10:39:12.276 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:39:12.302 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:09:10Z, iat=2026-01-14T03:39:10Z, jti=4bf0cdf8-3a7b-43d7-bac0-64e875c53b6b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:39:12.306 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:39:13.184 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:09:13Z, iat=2026-01-14T03:39:13Z, jti=b0d56090-fb48-4f0a-a2ac-f588f2fcba92, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4ddbbbf0]
10:39:55.135 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:39:55.570 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:09:13Z, iat=2026-01-14T03:39:13Z, jti=b0d56090-fb48-4f0a-a2ac-f588f2fcba92, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:39:55.588 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:39:58.199 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:09:57Z, iat=2026-01-14T03:39:57Z, jti=e0f92253-0460-4fa1-a592-e29921fd9252, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@35e3784b]
10:40:00.306 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:40:00.324 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:09:57Z, iat=2026-01-14T03:39:57Z, jti=e0f92253-0460-4fa1-a592-e29921fd9252, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:40:00.326 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:40:01.164 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:01Z, iat=2026-01-14T03:40:01Z, jti=046b2812-d96a-4c28-8ab6-b9e1c1e5ce9a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@19a7f058]
10:40:40.572 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:40:40.579 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:01Z, iat=2026-01-14T03:40:01Z, jti=046b2812-d96a-4c28-8ab6-b9e1c1e5ce9a, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:40:40.579 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:40:41.062 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:41Z, iat=2026-01-14T03:40:41Z, jti=b4fec00b-fb24-4b43-a673-7ff3c8b73bcd, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@49f6fe1]
10:40:41.527 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:40:41.532 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:41Z, iat=2026-01-14T03:40:41Z, jti=b4fec00b-fb24-4b43-a673-7ff3c8b73bcd, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:40:41.533 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:40:42.100 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:42Z, iat=2026-01-14T03:40:42Z, jti=a2fa9b45-d4ea-4b7c-81bd-f13c936631ee, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2cd934d4]
10:40:54.544 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:40:54.553 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:42Z, iat=2026-01-14T03:40:42Z, jti=a2fa9b45-d4ea-4b7c-81bd-f13c936631ee, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:40:54.554 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:40:54.981 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:54Z, iat=2026-01-14T03:40:54Z, jti=78cf9eee-be67-43f0-b62c-345f556e76a8, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5411ac8]
10:40:55.439 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:40:55.443 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:54Z, iat=2026-01-14T03:40:54Z, jti=78cf9eee-be67-43f0-b62c-345f556e76a8, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:40:55.443 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:40:55.875 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:55Z, iat=2026-01-14T03:40:55Z, jti=7e9b6277-554a-408e-b29a-37f7c80a4590, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@32514147]
10:41:17.290 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:41:17.296 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:10:55Z, iat=2026-01-14T03:40:55Z, jti=7e9b6277-554a-408e-b29a-37f7c80a4590, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:17.298 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:41:17.638 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:17Z, iat=2026-01-14T03:41:17Z, jti=ce808dd3-f55b-4a61-8754-0d616e552b40, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@889192f]
10:41:17.926 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:41:17.931 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:17Z, iat=2026-01-14T03:41:17Z, jti=ce808dd3-f55b-4a61-8754-0d616e552b40, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:17.931 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:41:18.250 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:18Z, iat=2026-01-14T03:41:18Z, jti=fb0fdec4-5026-4194-ae8b-86f7380266f9, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@58d576c1]
10:41:24.685 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:41:24.691 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:18Z, iat=2026-01-14T03:41:18Z, jti=fb0fdec4-5026-4194-ae8b-86f7380266f9, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:24.692 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:41:25.071 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:25Z, iat=2026-01-14T03:41:25Z, jti=f63698b3-89c4-44e3-9954-3ceec84b9f61, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@20c84bd4]
10:41:25.453 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:41:25.465 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:25Z, iat=2026-01-14T03:41:25Z, jti=f63698b3-89c4-44e3-9954-3ceec84b9f61, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:25.465 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:41:25.831 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:25Z, iat=2026-01-14T03:41:25Z, jti=11b11d09-edc7-4470-93a6-61ad2e57b64b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2ef114cc]
10:41:31.242 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:41:31.264 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:25Z, iat=2026-01-14T03:41:25Z, jti=11b11d09-edc7-4470-93a6-61ad2e57b64b, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:31.272 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:41:31.946 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:31Z, iat=2026-01-14T03:41:31Z, jti=dae0fca6-ced1-42f2-aaa9-571c74bc165c, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@10dd570]
10:41:32.646 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:41:32.656 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:31Z, iat=2026-01-14T03:41:31Z, jti=dae0fca6-ced1-42f2-aaa9-571c74bc165c, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:32.657 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:41:33.424 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:33Z, iat=2026-01-14T03:41:33Z, jti=46b70469-d7ef-497c-9e68-9a4683d3d9c6, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@670df7f]
10:41:38.074 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:41:38.086 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:33Z, iat=2026-01-14T03:41:33Z, jti=46b70469-d7ef-497c-9e68-9a4683d3d9c6, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:38.086 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:41:38.851 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:38Z, iat=2026-01-14T03:41:38Z, jti=22eeb041-fd81-4990-b71c-d1ae187632dc, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7f604fe6]
10:41:39.524 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:41:39.535 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:38Z, iat=2026-01-14T03:41:38Z, jti=22eeb041-fd81-4990-b71c-d1ae187632dc, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]]
10:41:39.541 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:41:40.206 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:31:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:11:40Z, iat=2026-01-14T03:41:40Z, jti=d34c8f36-68ed-40c2-a29c-bfe5d0c4dec3, authorities=[ROLE_CUSTOMER], sid=O53tVDc5s4Rq8UOiDh7_YFKLFTNAjdIuxktHRW6KFzo}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f59a7817-a2d3-446f-8446-20faeda25b3a], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7490df7b]
10:48:52.920 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
10:48:52.931 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:48:52.953 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
10:48:52.955 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
10:48:52.956 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
10:48:59.603 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
10:48:59.609 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=CwKvIQ5KDmynYoRfrT0mX798z36CISqsmbkpm6Wvb7o%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=O0ddxzmbSXkacVFwivBA9BxL00UBIdpPkxn_-3pS-UE
10:48:59.706 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=mfM3J7bbahf5ZshvBJhoRADkqjtl3-pq0DvQBbx-M_fgTN1ooPijWdJ8y6bCSkZ69AIovOefs6wD84dNMVVn3ejp_O4YU9xVi2DumwW4XWTSAdqAwVWRb15AMyiwuAWm&state=CwKvIQ5KDmynYoRfrT0mX798z36CISqsmbkpm6Wvb7o%3D
10:49:00.057 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 16de9824-f271-46e9-86d5-853f12ec534b
10:49:00.057 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
10:49:00.062 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:18:59Z, iat=2026-01-14T03:48:59Z, nonce=O0ddxzmbSXkacVFwivBA9BxL00UBIdpPkxn_-3pS-UE, jti=b2363ca5-8eff-4738-8eb7-23b769ed7733, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5d4f245]
10:49:00.062 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:18:59Z, iat=2026-01-14T03:48:59Z, nonce=O0ddxzmbSXkacVFwivBA9BxL00UBIdpPkxn_-3pS-UE, jti=b2363ca5-8eff-4738-8eb7-23b769ed7733, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]
10:49:00.677 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:49:00.688 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:18:59Z, iat=2026-01-14T03:48:59Z, nonce=O0ddxzmbSXkacVFwivBA9BxL00UBIdpPkxn_-3pS-UE, jti=b2363ca5-8eff-4738-8eb7-23b769ed7733, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:49:00.688 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:49:01.034 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:49:01.036 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.036 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:49:01.046 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:49:01.050 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.050 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:49:01.752 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:49:01.752 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.752 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:49:01.754 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:49:01.754 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.754 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:49:01.763 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:49:01.768 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.768 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:49:01.770 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:49:01.773 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.774 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:49:01.778 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:49:01.774 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:49:01.780 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.784 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:49:01.781 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.788 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:49:01.836 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:49:01.841 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.852 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:49:01.842 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:49:01.844 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:49:01.854 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:49:01.858 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.867 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:49:01.858 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.858 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.869 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:49:01.871 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:49:03.065 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:49:03.075 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:18:59Z, iat=2026-01-14T03:48:59Z, nonce=O0ddxzmbSXkacVFwivBA9BxL00UBIdpPkxn_-3pS-UE, jti=b2363ca5-8eff-4738-8eb7-23b769ed7733, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:49:03.076 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:49:03.496 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:03Z, iat=2026-01-14T03:49:03Z, jti=4ec5bed7-806a-4220-bd88-df4b8dd3aea1, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6ca048b6]
10:49:03.941 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:49:03.950 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:03Z, iat=2026-01-14T03:49:03Z, jti=4ec5bed7-806a-4220-bd88-df4b8dd3aea1, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:49:03.950 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:49:04.292 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:04Z, iat=2026-01-14T03:49:04Z, jti=db795ec6-8401-40ec-854a-3313a7637f9d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2805f6aa]
10:49:04.664 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:49:04.666 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:04.666 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:49:58.246 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:49:58.274 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:04Z, iat=2026-01-14T03:49:04Z, jti=db795ec6-8401-40ec-854a-3313a7637f9d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:49:58.275 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:49:58.720 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:58Z, iat=2026-01-14T03:49:58Z, jti=721a7162-45db-445d-8e7f-92d450d07788, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@62ff22f5]
10:49:59.172 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:49:59.182 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:58Z, iat=2026-01-14T03:49:58Z, jti=721a7162-45db-445d-8e7f-92d450d07788, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:49:59.183 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:49:59.734 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:59Z, iat=2026-01-14T03:49:59Z, jti=71f5818c-9e6f-4bc1-8174-125c46d03f1b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6c2e7685]
10:50:02.393 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:50:02.421 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:59Z, iat=2026-01-14T03:49:59Z, jti=71f5818c-9e6f-4bc1-8174-125c46d03f1b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:50:02.435 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:50:03.037 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:50:03.044 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:19:59Z, iat=2026-01-14T03:49:59Z, jti=71f5818c-9e6f-4bc1-8174-125c46d03f1b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:50:03.044 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:50:03.446 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:03Z, iat=2026-01-14T03:50:03Z, jti=8f0b8aec-e651-4975-acc7-cace50d06a27, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@39d17887]
10:50:03.846 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:50:03.851 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:03Z, iat=2026-01-14T03:50:03Z, jti=8f0b8aec-e651-4975-acc7-cace50d06a27, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:50:03.852 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:50:04.263 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:04Z, iat=2026-01-14T03:50:04Z, jti=4aa5dd94-4ad4-4745-922c-efe37c86aed7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@565e00e4]
10:50:04.710 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:50:04.712 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:50:04.712 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:50:31.960 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:50:31.975 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:04Z, iat=2026-01-14T03:50:04Z, jti=4aa5dd94-4ad4-4745-922c-efe37c86aed7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:50:31.976 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:50:32.303 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:50:32.306 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:04Z, iat=2026-01-14T03:50:04Z, jti=4aa5dd94-4ad4-4745-922c-efe37c86aed7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:50:32.306 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:50:32.697 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:32Z, iat=2026-01-14T03:50:32Z, jti=b9ec484e-5a60-4803-8563-ad42859f6cfb, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@32d58aae]
10:50:33.052 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:50:33.057 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:32Z, iat=2026-01-14T03:50:32Z, jti=b9ec484e-5a60-4803-8563-ad42859f6cfb, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:50:33.057 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:50:33.394 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:33Z, iat=2026-01-14T03:50:33Z, jti=5f6da7ce-6987-42e0-a093-63015d735348, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@49267c42]
10:50:33.780 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:50:33.781 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:50:33.781 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:51:05.757 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:51:05.767 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:33Z, iat=2026-01-14T03:50:33Z, jti=5f6da7ce-6987-42e0-a093-63015d735348, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:51:05.768 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:51:06.141 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:51:06.179 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:20:33Z, iat=2026-01-14T03:50:33Z, jti=5f6da7ce-6987-42e0-a093-63015d735348, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:51:06.180 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:51:06.552 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:21:06Z, iat=2026-01-14T03:51:06Z, jti=d4ba3a0f-6a75-4f04-8b33-b1a0a9e81a61, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3ebdcd02]
10:51:07.078 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:51:07.091 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:21:06Z, iat=2026-01-14T03:51:06Z, jti=d4ba3a0f-6a75-4f04-8b33-b1a0a9e81a61, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:51:07.091 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:51:07.499 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:21:07Z, iat=2026-01-14T03:51:07Z, jti=2f34b55b-dc6f-44c2-bdb3-8c33e33e0485, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@38cdb397]
10:51:08.035 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:51:08.037 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:51:08.038 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:52:06.752 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:52:06.782 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:21:07Z, iat=2026-01-14T03:51:07Z, jti=2f34b55b-dc6f-44c2-bdb3-8c33e33e0485, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:52:06.785 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:52:07.382 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:07Z, iat=2026-01-14T03:52:07Z, jti=1482a861-ba1e-46d1-80cc-b4ef2bbbdad2, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@302619f6]
10:52:07.987 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:52:08.022 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:07Z, iat=2026-01-14T03:52:07Z, jti=1482a861-ba1e-46d1-80cc-b4ef2bbbdad2, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:52:08.043 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:52:08.494 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:08Z, iat=2026-01-14T03:52:08Z, jti=0363f3a1-cb70-4e2b-9dc3-47a3407fe01b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@cb223f4]
10:52:10.822 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:52:10.832 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:08Z, iat=2026-01-14T03:52:08Z, jti=0363f3a1-cb70-4e2b-9dc3-47a3407fe01b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:52:10.833 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:52:11.289 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:52:11.302 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:08Z, iat=2026-01-14T03:52:08Z, jti=0363f3a1-cb70-4e2b-9dc3-47a3407fe01b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:52:11.304 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:52:11.707 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:11Z, iat=2026-01-14T03:52:11Z, jti=6dce427b-8fcb-44b7-9260-044ab87b3637, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@688da95c]
10:52:12.178 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:52:12.189 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:11Z, iat=2026-01-14T03:52:11Z, jti=6dce427b-8fcb-44b7-9260-044ab87b3637, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:52:12.190 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:52:12.647 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:12Z, iat=2026-01-14T03:52:12Z, jti=7dee8395-ab8e-4da2-8c1d-945595af0fe7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2e0af65f]
10:52:13.291 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:52:13.294 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:52:13.297 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:53:22.478 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:53:22.494 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:22:12Z, iat=2026-01-14T03:52:12Z, jti=7dee8395-ab8e-4da2-8c1d-945595af0fe7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:22.496 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:53:23.563 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:23Z, iat=2026-01-14T03:53:23Z, jti=575fe8ba-3ea6-432c-a030-5509d297b879, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@31d50fc4]
10:53:24.438 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:53:24.459 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:23Z, iat=2026-01-14T03:53:23Z, jti=575fe8ba-3ea6-432c-a030-5509d297b879, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:24.461 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:53:25.711 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:25Z, iat=2026-01-14T03:53:25Z, jti=5208639c-c342-4469-8134-4523f3a01103, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1f3a3d7c]
10:53:26.660 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:53:26.678 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:25Z, iat=2026-01-14T03:53:25Z, jti=5208639c-c342-4469-8134-4523f3a01103, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:26.679 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:53:27.359 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:53:27.369 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:25Z, iat=2026-01-14T03:53:25Z, jti=5208639c-c342-4469-8134-4523f3a01103, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:27.371 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:53:27.796 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:27Z, iat=2026-01-14T03:53:27Z, jti=67939cec-a56f-49ad-a99a-11ede9167817, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1585e6c7]
10:53:28.271 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:53:28.279 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:27Z, iat=2026-01-14T03:53:27Z, jti=67939cec-a56f-49ad-a99a-11ede9167817, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:28.280 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:53:28.690 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:28Z, iat=2026-01-14T03:53:28Z, jti=e920c796-454c-4df0-8b11-ff8c87810d7c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@b29fd96]
10:53:29.191 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:53:29.192 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:53:29.192 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:53:33.635 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:53:33.648 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:28Z, iat=2026-01-14T03:53:28Z, jti=e920c796-454c-4df0-8b11-ff8c87810d7c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:33.649 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:53:34.333 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:53:34.342 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:28Z, iat=2026-01-14T03:53:28Z, jti=e920c796-454c-4df0-8b11-ff8c87810d7c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:34.343 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:53:35.048 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:34Z, iat=2026-01-14T03:53:34Z, jti=fa89e1e2-54d7-4282-a008-d4925766af5e, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@144e8993]
10:53:35.662 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:53:35.681 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:34Z, iat=2026-01-14T03:53:34Z, jti=fa89e1e2-54d7-4282-a008-d4925766af5e, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:35.682 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:53:36.268 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:36Z, iat=2026-01-14T03:53:36Z, jti=cd141ec4-27a3-4bc6-afa6-b42853fc71c8, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@748eba88]
10:53:36.951 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:53:36.951 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:53:36.952 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:53:45.227 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:53:45.239 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:36Z, iat=2026-01-14T03:53:36Z, jti=cd141ec4-27a3-4bc6-afa6-b42853fc71c8, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:45.240 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:53:45.582 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:53:45.589 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:36Z, iat=2026-01-14T03:53:36Z, jti=cd141ec4-27a3-4bc6-afa6-b42853fc71c8, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:45.589 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:53:46.014 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:45Z, iat=2026-01-14T03:53:45Z, jti=f626aefc-5faf-456f-8645-7680e81302ad, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6c4bccd2]
10:53:46.519 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:53:46.533 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:45Z, iat=2026-01-14T03:53:45Z, jti=f626aefc-5faf-456f-8645-7680e81302ad, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:53:46.536 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:53:47.200 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:47Z, iat=2026-01-14T03:53:47Z, jti=fdb6f4cd-f7a7-484e-b0de-3649c5181bc3, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@658ac0dc]
10:53:47.922 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:53:47.924 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:53:47.924 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:54:07.156 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:54:07.211 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:23:47Z, iat=2026-01-14T03:53:47Z, jti=fdb6f4cd-f7a7-484e-b0de-3649c5181bc3, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:07.250 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:54:08.106 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:07Z, iat=2026-01-14T03:54:07Z, jti=99efd8ce-0182-4031-949b-996745b8e37a, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6d37fbf]
10:54:09.017 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:54:09.031 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:07Z, iat=2026-01-14T03:54:07Z, jti=99efd8ce-0182-4031-949b-996745b8e37a, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:09.034 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:54:09.803 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:09Z, iat=2026-01-14T03:54:09Z, jti=0d70a893-cea8-4d65-8daf-5d8ebef9ce35, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1f94e66e]
10:54:14.749 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:54:14.785 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:09Z, iat=2026-01-14T03:54:09Z, jti=0d70a893-cea8-4d65-8daf-5d8ebef9ce35, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:14.791 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:54:15.809 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:54:15.820 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:09Z, iat=2026-01-14T03:54:09Z, jti=0d70a893-cea8-4d65-8daf-5d8ebef9ce35, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:15.823 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:54:16.596 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:16Z, iat=2026-01-14T03:54:16Z, jti=09a91ca1-c48a-46bb-8e9b-738d824b5ccb, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@ba836d2]
10:54:17.438 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:54:17.443 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:16Z, iat=2026-01-14T03:54:16Z, jti=09a91ca1-c48a-46bb-8e9b-738d824b5ccb, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:17.457 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:54:18.426 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:18Z, iat=2026-01-14T03:54:18Z, jti=d08f5def-ed83-4e10-ba62-0acf7eed7d8e, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@50cf674e]
10:54:19.287 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:54:19.287 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:54:19.287 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:54:52.406 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:54:52.427 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:18Z, iat=2026-01-14T03:54:18Z, jti=d08f5def-ed83-4e10-ba62-0acf7eed7d8e, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:52.427 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:54:52.914 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:52Z, iat=2026-01-14T03:54:52Z, jti=27bef8f7-5586-46f0-999d-2a4a894bf247, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@624c1e2e]
10:54:53.525 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:54:53.530 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:52Z, iat=2026-01-14T03:54:52Z, jti=27bef8f7-5586-46f0-999d-2a4a894bf247, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:54:53.531 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:54:54.029 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:53Z, iat=2026-01-14T03:54:53Z, jti=fece23f7-027a-4d0a-b842-cbc01ab42ddb, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6fee93e2]
10:55:01.369 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:55:01.376 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:24:53Z, iat=2026-01-14T03:54:53Z, jti=fece23f7-027a-4d0a-b842-cbc01ab42ddb, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:01.377 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:55:01.749 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:01Z, iat=2026-01-14T03:55:01Z, jti=3895a1c5-7d39-4f49-8d4a-aaec676ae658, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2879e616]
10:55:02.238 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:55:02.246 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:01Z, iat=2026-01-14T03:55:01Z, jti=3895a1c5-7d39-4f49-8d4a-aaec676ae658, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:02.248 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:55:03.398 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:03Z, iat=2026-01-14T03:55:03Z, jti=d14b8f15-3ec4-46d4-9a43-4f65eb7d7831, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6334fa0f]
10:55:06.147 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:55:06.157 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:55:06.182 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:03Z, iat=2026-01-14T03:55:03Z, jti=d14b8f15-3ec4-46d4-9a43-4f65eb7d7831, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:06.183 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:55:06.656 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:06Z, iat=2026-01-14T03:55:06Z, jti=18d24f2e-bd3d-4e58-a492-3ae5471fd4b9, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2e454e8d]
10:55:07.648 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:55:07.656 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:06Z, iat=2026-01-14T03:55:06Z, jti=18d24f2e-bd3d-4e58-a492-3ae5471fd4b9, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:07.657 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:55:08.158 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:08Z, iat=2026-01-14T03:55:08Z, jti=844b5ad3-1dd2-4f06-a8c9-7e6cfdefed2d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5b7c20df]
10:55:08.700 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:55:08.709 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:08Z, iat=2026-01-14T03:55:08Z, jti=844b5ad3-1dd2-4f06-a8c9-7e6cfdefed2d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:08.710 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:55:09.277 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:09Z, iat=2026-01-14T03:55:09Z, jti=ff228a79-4cac-4aa5-8a96-9fea9b75fe56, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5ae74a85]
10:55:43.049 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:55:43.107 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:55:43.138 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:09Z, iat=2026-01-14T03:55:09Z, jti=ff228a79-4cac-4aa5-8a96-9fea9b75fe56, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:43.176 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:55:43.530 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:43Z, iat=2026-01-14T03:55:43Z, jti=227fa931-2a0f-42f9-84b9-49eb0ec1442d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@25bcf40]
10:55:43.910 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:55:43.916 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:43Z, iat=2026-01-14T03:55:43Z, jti=227fa931-2a0f-42f9-84b9-49eb0ec1442d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:43.916 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:55:44.300 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:44Z, iat=2026-01-14T03:55:44Z, jti=36316358-cd7a-4c98-bb6a-c7f86e4a5c44, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@31676a6b]
10:55:44.637 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:55:44.642 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:44Z, iat=2026-01-14T03:55:44Z, jti=36316358-cd7a-4c98-bb6a-c7f86e4a5c44, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:44.642 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:55:44.979 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:44Z, iat=2026-01-14T03:55:44Z, jti=91b14bd4-65d6-4dce-bd95-7394e85faaae, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3ea79803]
10:55:57.320 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:55:57.326 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:44Z, iat=2026-01-14T03:55:44Z, jti=91b14bd4-65d6-4dce-bd95-7394e85faaae, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:57.326 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:55:57.670 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:55:57.674 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:44Z, iat=2026-01-14T03:55:44Z, jti=91b14bd4-65d6-4dce-bd95-7394e85faaae, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:57.675 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:55:58.026 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:57Z, iat=2026-01-14T03:55:57Z, jti=62974fac-df08-4227-84c9-30d2a2b3f573, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@572577ba]
10:55:58.355 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:55:58.361 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:57Z, iat=2026-01-14T03:55:57Z, jti=62974fac-df08-4227-84c9-30d2a2b3f573, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:55:58.362 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:55:58.675 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:58Z, iat=2026-01-14T03:55:58Z, jti=a1c92522-fed8-4b8f-931d-b485c884e63c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@601d048c]
10:55:59.064 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:55:59.065 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:55:59.065 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:56:03.991 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:56:04.003 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:56:04.011 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:25:58Z, iat=2026-01-14T03:55:58Z, jti=a1c92522-fed8-4b8f-931d-b485c884e63c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:04.012 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:56:04.322 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:04Z, iat=2026-01-14T03:56:04Z, jti=8ce92f65-0684-4c4b-b63a-8c8d28495615, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7a8cf74c]
10:56:04.627 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:56:04.629 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:04Z, iat=2026-01-14T03:56:04Z, jti=8ce92f65-0684-4c4b-b63a-8c8d28495615, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:04.629 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:56:04.956 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:04Z, iat=2026-01-14T03:56:04Z, jti=947fc354-4fa9-44fa-86fe-b3f277548649, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2b7858e7]
10:56:05.285 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:56:05.290 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:04Z, iat=2026-01-14T03:56:04Z, jti=947fc354-4fa9-44fa-86fe-b3f277548649, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:05.290 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:56:05.624 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:05Z, iat=2026-01-14T03:56:05Z, jti=38286c9e-4182-4d4d-8eb4-7f57d81c737b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@e249b6]
10:56:10.821 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:56:10.826 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:56:10.834 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:05Z, iat=2026-01-14T03:56:05Z, jti=38286c9e-4182-4d4d-8eb4-7f57d81c737b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:10.835 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:56:11.197 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:11Z, iat=2026-01-14T03:56:11Z, jti=7e78972d-5988-46a0-97f0-261e3ffb0b3c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3cad8151]
10:56:11.499 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:56:11.504 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:11Z, iat=2026-01-14T03:56:11Z, jti=7e78972d-5988-46a0-97f0-261e3ffb0b3c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:11.504 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:56:11.841 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:11Z, iat=2026-01-14T03:56:11Z, jti=d5a9906a-4fe3-4379-aceb-c35765ce3b5f, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@576c080d]
10:56:12.190 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:56:12.196 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:11Z, iat=2026-01-14T03:56:11Z, jti=d5a9906a-4fe3-4379-aceb-c35765ce3b5f, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:12.196 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:56:12.503 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:12Z, iat=2026-01-14T03:56:12Z, jti=24fdc651-1f76-4f17-8145-ef7c5ac2e6c7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@47ceecb0]
10:56:14.292 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:56:14.296 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:12Z, iat=2026-01-14T03:56:12Z, jti=24fdc651-1f76-4f17-8145-ef7c5ac2e6c7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:14.297 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:56:14.621 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:56:14.624 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:12Z, iat=2026-01-14T03:56:12Z, jti=24fdc651-1f76-4f17-8145-ef7c5ac2e6c7, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:14.625 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:56:14.970 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:14Z, iat=2026-01-14T03:56:14Z, jti=db66c996-6b77-4f23-b46b-2cebbc4df53f, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@10ce058a]
10:56:15.330 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:56:15.335 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:14Z, iat=2026-01-14T03:56:14Z, jti=db66c996-6b77-4f23-b46b-2cebbc4df53f, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:15.335 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:56:15.704 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:15Z, iat=2026-01-14T03:56:15Z, jti=3519c605-e3b5-483b-b981-c695c0095c1a, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@622bea38]
10:56:16.118 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:56:16.119 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:56:16.119 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:56:17.885 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:56:17.895 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:15Z, iat=2026-01-14T03:56:15Z, jti=3519c605-e3b5-483b-b981-c695c0095c1a, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:17.896 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:56:18.512 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:56:18.518 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:15Z, iat=2026-01-14T03:56:15Z, jti=3519c605-e3b5-483b-b981-c695c0095c1a, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:18.519 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:56:19.155 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:19Z, iat=2026-01-14T03:56:19Z, jti=fa6d4ef5-a0d3-47dd-bdaf-09273cf72d77, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@68f93286]
10:56:19.848 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:56:19.854 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:19Z, iat=2026-01-14T03:56:19Z, jti=fa6d4ef5-a0d3-47dd-bdaf-09273cf72d77, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:19.856 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:56:20.383 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:20Z, iat=2026-01-14T03:56:20Z, jti=75d89aa8-5059-4bf1-b2b9-74d82ca96e93, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@62d84bd1]
10:56:21.011 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:56:21.012 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:56:21.012 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:56:49.301 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:56:49.314 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:56:49.321 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:20Z, iat=2026-01-14T03:56:20Z, jti=75d89aa8-5059-4bf1-b2b9-74d82ca96e93, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:49.322 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:56:49.637 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:49Z, iat=2026-01-14T03:56:49Z, jti=d3158f3d-b18b-4a07-ba8f-145079efabac, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1d91cf8a]
10:56:49.970 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:56:49.977 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:49Z, iat=2026-01-14T03:56:49Z, jti=d3158f3d-b18b-4a07-ba8f-145079efabac, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:49.977 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:56:50.314 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:50Z, iat=2026-01-14T03:56:50Z, jti=43411d1b-96db-4a32-a3ec-b73338fcd43d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@cb368da]
10:56:50.641 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:56:50.650 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:50Z, iat=2026-01-14T03:56:50Z, jti=43411d1b-96db-4a32-a3ec-b73338fcd43d, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:50.650 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:56:51.004 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:50Z, iat=2026-01-14T03:56:50Z, jti=67f40369-9eec-415c-b808-0b1c852ed929, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1d5379fb]
10:56:53.809 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
10:56:53.816 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:50Z, iat=2026-01-14T03:56:50Z, jti=67f40369-9eec-415c-b808-0b1c852ed929, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:53.816 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
10:56:54.147 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:56:54.151 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:50Z, iat=2026-01-14T03:56:50Z, jti=67f40369-9eec-415c-b808-0b1c852ed929, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:54.151 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:56:54.482 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:54Z, iat=2026-01-14T03:56:54Z, jti=9233cb0c-f3d4-4b47-96a7-b374e6123635, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2153e172]
10:56:54.814 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:56:54.818 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:54Z, iat=2026-01-14T03:56:54Z, jti=9233cb0c-f3d4-4b47-96a7-b374e6123635, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:56:54.818 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:56:55.198 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:55Z, iat=2026-01-14T03:56:55Z, jti=f47d7e3e-f1fa-4762-aadc-74a73f955baa, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@225f3216]
10:56:55.693 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:56:55.693 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:56:55.694 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:57:13.254 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:57:13.260 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:57:13.268 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:26:55Z, iat=2026-01-14T03:56:55Z, jti=f47d7e3e-f1fa-4762-aadc-74a73f955baa, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:57:13.271 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:57:13.630 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:13Z, iat=2026-01-14T03:57:13Z, jti=81124aed-b300-43bd-b4ef-5fd30c188a91, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@58345bf9]
10:57:13.946 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:57:13.950 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:13Z, iat=2026-01-14T03:57:13Z, jti=81124aed-b300-43bd-b4ef-5fd30c188a91, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:57:13.950 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:57:14.309 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:14Z, iat=2026-01-14T03:57:14Z, jti=057a5986-319a-41b4-ad5d-d95a5d33f43c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@53938cdc]
10:57:14.656 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:57:14.662 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:14Z, iat=2026-01-14T03:57:14Z, jti=057a5986-319a-41b4-ad5d-d95a5d33f43c, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:57:14.664 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:57:14.975 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:14Z, iat=2026-01-14T03:57:14Z, jti=c74f971f-4c0f-458b-bf3c-7184c725ac75, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2ffebbdb]
10:57:41.895 | DEBUG | FilterChainProxy: Securing OPTIONS /protected/api/me/profile
10:57:41.899 | DEBUG | FilterChainProxy: Securing PATCH /protected/api/me/profile
10:57:41.904 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:14Z, iat=2026-01-14T03:57:14Z, jti=c74f971f-4c0f-458b-bf3c-7184c725ac75, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:57:41.904 | DEBUG | FilterChainProxy: Secured PATCH /protected/api/me/profile
10:57:42.215 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:42Z, iat=2026-01-14T03:57:42Z, jti=0b69c913-50c3-499f-8fcd-aab2cabe3cad, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5f92a347]
10:57:42.558 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
10:57:42.564 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:42Z, iat=2026-01-14T03:57:42Z, jti=0b69c913-50c3-499f-8fcd-aab2cabe3cad, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:57:42.564 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
10:57:42.852 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:42Z, iat=2026-01-14T03:57:42Z, jti=42232785-8af1-4ad7-9168-6ffa0b8e5a8b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1b5c0d59]
10:57:43.143 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
10:57:43.147 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:42Z, iat=2026-01-14T03:57:42Z, jti=42232785-8af1-4ad7-9168-6ffa0b8e5a8b, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]]
10:57:43.147 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
10:57:43.537 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T03:48:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:27:43Z, iat=2026-01-14T03:57:43Z, jti=0f6ae87f-dedd-4012-84c0-18f15921d110, authorities=[ROLE_CUSTOMER], sid=tM7s81F2V-tm34DEvN9Zd8ZJ3oonuDKOTpozCulW4HU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=16de9824-f271-46e9-86d5-853f12ec534b], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3663236d]
11:04:16.036 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
11:04:16.326 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:16.402 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:04:16.403 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:04:16.403 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:04:24.455 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:04:24.509 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=c2cpY9UeDn91bIDG98vg3nH3CwjypfzIXgEodiJ8BGI%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=mcKAaNVObIwTjeVdarOe13hpiUFRDUMorpyssqDFdrM
11:04:24.852 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=S0W0n75rQF76HltSu-p0klTef2ImcxQLP7OSz_r9iDKXsS48g6l6kfVnTfFo3RFnCqVvA1npPL9pJh0jAmbnELlfhR9mAVQw4Ch0xHsDIF1cvLpFif84ari53K6rr32C&state=c2cpY9UeDn91bIDG98vg3nH3CwjypfzIXgEodiJ8BGI%3D
11:04:25.537 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02
11:04:25.541 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:04:25.542 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:25Z, iat=2026-01-14T04:04:25Z, nonce=mcKAaNVObIwTjeVdarOe13hpiUFRDUMorpyssqDFdrM, jti=6b79a4b8-4a57-4868-b8b2-1e431934b54e, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@28c96658]
11:04:25.543 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:25Z, iat=2026-01-14T04:04:25Z, nonce=mcKAaNVObIwTjeVdarOe13hpiUFRDUMorpyssqDFdrM, jti=6b79a4b8-4a57-4868-b8b2-1e431934b54e, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]
11:04:26.447 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:04:26.459 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:25Z, iat=2026-01-14T04:04:25Z, nonce=mcKAaNVObIwTjeVdarOe13hpiUFRDUMorpyssqDFdrM, jti=6b79a4b8-4a57-4868-b8b2-1e431934b54e, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]]
11:04:26.460 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:04:26.903 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:04:26.905 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:26.906 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:04:26.952 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:04:26.962 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:26.962 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:04:28.069 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:04:28.069 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.071 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:04:28.077 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:04:28.077 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.078 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:04:28.079 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:04:28.079 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.079 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:04:28.116 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:04:28.117 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.117 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:04:28.117 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:04:28.118 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.118 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:04:28.120 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:04:28.124 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.129 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:04:28.221 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:04:28.221 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:04:28.223 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.224 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.231 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:04:28.231 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:04:28.233 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:04:28.233 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:04:28.233 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.235 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:04:28.235 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.236 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:04:29.420 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:04:29.427 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:25Z, iat=2026-01-14T04:04:25Z, nonce=mcKAaNVObIwTjeVdarOe13hpiUFRDUMorpyssqDFdrM, jti=6b79a4b8-4a57-4868-b8b2-1e431934b54e, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]]
11:04:29.427 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:04:29.869 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:29Z, iat=2026-01-14T04:04:29Z, jti=15d99a25-d3d5-47d4-b1c0-02ebed26f8af, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@39d032a9]
11:04:30.398 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
11:04:30.404 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:29Z, iat=2026-01-14T04:04:29Z, jti=15d99a25-d3d5-47d4-b1c0-02ebed26f8af, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]]
11:04:30.404 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
11:04:30.828 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:04:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:34:30Z, iat=2026-01-14T04:04:30Z, jti=e50cd65a-a2c9-4c92-9ba5-507301204f3d, authorities=[ROLE_CUSTOMER], sid=kfU8Yur3bw7tNMRbgKnZHCNJrMlHCPuWiVcAM2Z6Zmk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2cb3b2df-2f7f-44cf-a0b2-a4bf9686cf02], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@33ea882f]
11:04:31.300 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
11:04:31.302 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:31.302 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
11:08:48.438 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:08:48.470 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:08:48.496 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:08:48.498 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:08:48.500 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:08:48.719 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:08:48.744 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Q21knB-yb4kSBln0u1EkMlsQpSvz_u4sWgfWZEzYLFE%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=8Zp1Pv9UBUDsdwzSzawEkBlkU12dVPg-eeR0LjBShuA
11:09:03.110 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:09:03.158 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=o-iBdJ4u7luqmxicPWuCaYzI4LGHYfBJVmoMwoGhI8M%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Rpk-X1wlMdiGFMNW17vCyHZuuiTe1mfuR7sz35j-xTs
11:09:03.311 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=C3PeLvWXUJZLowcqNOFeuGrUql7CCUPKGrp4EZP_ob4onzflPeXI4svs-_Wcsux26Ji_0H1Zt_TP3RpX0EaPs23jBZHAr5zfyYb9GyTFGPfcYY-Rn4YnFmy-FIEMthkL&state=o-iBdJ4u7luqmxicPWuCaYzI4LGHYfBJVmoMwoGhI8M%3D
11:09:03.814 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 443c7b56-8306-43f3-abad-ab55eb457873
11:09:03.816 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:09:03.818 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:03Z, iat=2026-01-14T04:09:03Z, nonce=Rpk-X1wlMdiGFMNW17vCyHZuuiTe1mfuR7sz35j-xTs, jti=c6bbf940-0644-4dfb-880d-9c0766aa914b, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@660126d]
11:09:03.819 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:03Z, iat=2026-01-14T04:09:03Z, nonce=Rpk-X1wlMdiGFMNW17vCyHZuuiTe1mfuR7sz35j-xTs, jti=c6bbf940-0644-4dfb-880d-9c0766aa914b, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]
11:09:04.600 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:09:04.619 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:03Z, iat=2026-01-14T04:09:03Z, nonce=Rpk-X1wlMdiGFMNW17vCyHZuuiTe1mfuR7sz35j-xTs, jti=c6bbf940-0644-4dfb-880d-9c0766aa914b, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:09:04.621 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:09:05.118 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:09:05.119 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:05.120 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:09:05.137 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:09:05.139 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:05.143 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:09:05.984 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:09:05.999 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:09:05.992 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:09:06.002 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.001 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.002 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.004 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:09:06.003 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:09:06.004 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:09:06.009 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:09:06.019 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:09:06.024 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.156 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:09:06.046 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:09:06.122 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:09:06.115 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:09:06.192 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.196 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:09:06.195 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.195 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.248 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:09:06.205 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.266 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:09:06.243 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:09:06.479 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:09:06.484 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.484 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:09:06.517 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:09:06.540 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.554 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:09:09.644 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:09:09.650 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:03Z, iat=2026-01-14T04:09:03Z, nonce=Rpk-X1wlMdiGFMNW17vCyHZuuiTe1mfuR7sz35j-xTs, jti=c6bbf940-0644-4dfb-880d-9c0766aa914b, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:09:09.650 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:09:10.171 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:10Z, iat=2026-01-14T04:09:10Z, jti=f1c62b0f-bf9a-4cec-94b2-8c7920a9acc7, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3a2007a8]
11:09:10.807 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile/avatar
11:09:10.816 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:10Z, iat=2026-01-14T04:09:10Z, jti=f1c62b0f-bf9a-4cec-94b2-8c7920a9acc7, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:09:10.817 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile/avatar
11:09:11.341 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:11Z, iat=2026-01-14T04:09:11Z, jti=af832f81-294a-4e36-bf2c-e018987fc66d, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@31e3c6e0]
11:09:11.873 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
11:09:11.873 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:11.873 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
11:10:57.727 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:10:57.738 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:39:11Z, iat=2026-01-14T04:09:11Z, jti=af832f81-294a-4e36-bf2c-e018987fc66d, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:10:57.738 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:10:58.166 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:40:58Z, iat=2026-01-14T04:10:58Z, jti=4eee14ea-4b72-4596-939d-8e291b9548f2, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2a1bbbfb]
11:11:09.712 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:11:09.757 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:40:58Z, iat=2026-01-14T04:10:58Z, jti=4eee14ea-4b72-4596-939d-8e291b9548f2, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:11:09.791 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:11:12.335 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:12Z, iat=2026-01-14T04:11:12Z, jti=f0530ecd-0040-45d4-bb07-4070896c3e47, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@c762615]
11:11:21.658 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:11:21.692 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:12Z, iat=2026-01-14T04:11:12Z, jti=f0530ecd-0040-45d4-bb07-4070896c3e47, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:11:21.696 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:11:22.278 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:11:22.287 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:12Z, iat=2026-01-14T04:11:12Z, jti=f0530ecd-0040-45d4-bb07-4070896c3e47, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:11:22.291 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:11:23.044 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:22Z, iat=2026-01-14T04:11:22Z, jti=29f86488-01ce-4760-9f04-941c92bc152c, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@274b5361]
11:11:32.139 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:11:32.153 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:22Z, iat=2026-01-14T04:11:22Z, jti=29f86488-01ce-4760-9f04-941c92bc152c, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:11:32.153 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:11:32.713 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:11:32.722 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:22Z, iat=2026-01-14T04:11:22Z, jti=29f86488-01ce-4760-9f04-941c92bc152c, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:11:32.724 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:11:33.534 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:33Z, iat=2026-01-14T04:11:33Z, jti=f8947b98-99d9-4105-b1f1-9c7b1413097a, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@68595a85]
11:11:54.339 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:11:54.421 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:33Z, iat=2026-01-14T04:11:33Z, jti=f8947b98-99d9-4105-b1f1-9c7b1413097a, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:11:54.425 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:11:55.331 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:55Z, iat=2026-01-14T04:11:55Z, jti=6931a928-93a4-4d4d-9b5a-a16f4ca79655, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@17ab8dc1]
11:12:02.758 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:12:02.796 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:55Z, iat=2026-01-14T04:11:55Z, jti=6931a928-93a4-4d4d-9b5a-a16f4ca79655, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:12:02.797 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:12:03.504 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:12:03.510 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:41:55Z, iat=2026-01-14T04:11:55Z, jti=6931a928-93a4-4d4d-9b5a-a16f4ca79655, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:12:03.511 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:12:04.286 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:42:04Z, iat=2026-01-14T04:12:04Z, jti=2f9f3a1f-3d42-4ca8-8f7a-493ad90a3e83, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6fc74733]
11:13:37.482 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:13:37.488 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:42:04Z, iat=2026-01-14T04:12:04Z, jti=2f9f3a1f-3d42-4ca8-8f7a-493ad90a3e83, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:13:37.489 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:13:37.868 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:43:37Z, iat=2026-01-14T04:13:37Z, jti=2e3278f1-0a49-4670-9456-3e7fa5e0a81a, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@22646db6]
11:13:38.437 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
11:13:38.438 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:13:38.439 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
11:14:12.893 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:14:12.915 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:43:37Z, iat=2026-01-14T04:13:37Z, jti=2e3278f1-0a49-4670-9456-3e7fa5e0a81a, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:14:12.915 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:14:13.348 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:14:13.351 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:43:37Z, iat=2026-01-14T04:13:37Z, jti=2e3278f1-0a49-4670-9456-3e7fa5e0a81a, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]]
11:14:13.353 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:14:13.825 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:09:03Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:44:13Z, iat=2026-01-14T04:14:13Z, jti=e2830e6e-8c1f-466b-a0c6-2722b3262e15, authorities=[ROLE_CUSTOMER], sid=pS1wcS_1SL2F4i0bfbDLoxOYaTF53qEQxI7X2BWnE5Q}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=443c7b56-8306-43f3-abad-ab55eb457873], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@34471111]
11:14:14.446 | DEBUG | FilterChainProxy: Securing GET /
11:14:14.450 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:14.866 | DEBUG | HttpSessionRequestCache: Saved request https://bff.bookommerce.com:8181/?continue to session
11:14:14.872 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:14:14.873 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@26ba9b23
11:14:14.875 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
11:14:28.395 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:14:28.407 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:28.409 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:14:28.410 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:14:28.410 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:14:28.549 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:14:28.561 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=CbYi6KL0Wc8RLVX6NGszuPz_kfEhKMM0wbJKxkF_CXA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=w192mSzidW1X-6gSG7cRz2Tw3S0VSCwHMdwmWcPuG14
11:14:35.592 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:14:35.607 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=ShOdWbDJ6BSJ4h-AYuW4XZUufB87hqAUsMPd39EvfHw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=m9cfi-r0kmb7B6-HeKCHTHm_A8thZXD2vTdl0tAnnmE
11:14:35.738 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=AdzAgt7ulFtog7fCVlJ6WHc3qtlGhq5Hr0LDoVfAIdD-jkpn33znQTyaY2VBAkc8d1LtLhH9Gw-v62_DJhzlHlTWRhXsUWf7glJKxpx26FastgbKMDuRWre5kVTxDoEc&state=ShOdWbDJ6BSJ4h-AYuW4XZUufB87hqAUsMPd39EvfHw%3D
11:14:36.294 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 2a666e90-be18-4c24-af77-13e3fa79a991
11:14:36.297 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:14:36.298 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:14:35Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:44:36Z, iat=2026-01-14T04:14:36Z, nonce=m9cfi-r0kmb7B6-HeKCHTHm_A8thZXD2vTdl0tAnnmE, jti=1448f97f-b5c1-4f4e-afac-48d4198b23b9, authorities=[ROLE_CUSTOMER], sid=N-JG_ebWHsP6LzPeOcAlxZDmC_J6k5R_X_0JlACC9Aw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2a666e90-be18-4c24-af77-13e3fa79a991], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@263cb531]
11:14:36.298 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:14:35Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:44:36Z, iat=2026-01-14T04:14:36Z, nonce=m9cfi-r0kmb7B6-HeKCHTHm_A8thZXD2vTdl0tAnnmE, jti=1448f97f-b5c1-4f4e-afac-48d4198b23b9, authorities=[ROLE_CUSTOMER], sid=N-JG_ebWHsP6LzPeOcAlxZDmC_J6k5R_X_0JlACC9Aw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2a666e90-be18-4c24-af77-13e3fa79a991], Granted Authorities=[ROLE_CUSTOMER]]
11:14:37.172 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:14:37.186 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:14:35Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:44:36Z, iat=2026-01-14T04:14:36Z, nonce=m9cfi-r0kmb7B6-HeKCHTHm_A8thZXD2vTdl0tAnnmE, jti=1448f97f-b5c1-4f4e-afac-48d4198b23b9, authorities=[ROLE_CUSTOMER], sid=N-JG_ebWHsP6LzPeOcAlxZDmC_J6k5R_X_0JlACC9Aw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2a666e90-be18-4c24-af77-13e3fa79a991], Granted Authorities=[ROLE_CUSTOMER]]]
11:14:37.186 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:14:37.712 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:14:37.713 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:37.713 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:14:37.719 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:14:37.719 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:37.720 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:14:38.503 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:14:38.504 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.504 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:14:38.504 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:14:38.505 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.505 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:14:38.513 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:14:38.514 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.516 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:14:38.526 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:14:38.532 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:14:38.532 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.533 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.533 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:14:38.533 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:14:38.533 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:14:38.558 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.560 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:14:38.583 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:14:38.585 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.586 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:14:38.587 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:14:38.588 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.589 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:14:38.676 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:14:38.689 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.689 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:14:38.733 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:14:38.745 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.749 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:14:47.033 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:14:47.037 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:14:35Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:44:36Z, iat=2026-01-14T04:14:36Z, nonce=m9cfi-r0kmb7B6-HeKCHTHm_A8thZXD2vTdl0tAnnmE, jti=1448f97f-b5c1-4f4e-afac-48d4198b23b9, authorities=[ROLE_CUSTOMER], sid=N-JG_ebWHsP6LzPeOcAlxZDmC_J6k5R_X_0JlACC9Aw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2a666e90-be18-4c24-af77-13e3fa79a991], Granted Authorities=[ROLE_CUSTOMER]]]
11:14:47.038 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:14:47.438 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:14:35Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:44:47Z, iat=2026-01-14T04:14:47Z, jti=7f76e7cc-73e6-42c8-b52b-ccdd4755d0eb, authorities=[ROLE_CUSTOMER], sid=N-JG_ebWHsP6LzPeOcAlxZDmC_J6k5R_X_0JlACC9Aw}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2a666e90-be18-4c24-af77-13e3fa79a991], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@369cb14e]
11:14:47.892 | DEBUG | FilterChainProxy: Securing GET /
11:14:47.892 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:47.895 | DEBUG | HttpSessionRequestCache: Saved request https://bff.bookommerce.com:8181/?continue to session
11:14:47.896 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:14:47.896 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@26ba9b23
11:14:47.896 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
11:15:16.821 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:15:16.832 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:16.834 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:15:16.835 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:15:16.835 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:15:16.912 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:15:16.915 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=2_7WvcSnyzFPSNH46CLmwtYlYwzxHY-Np6NOQgml84g%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Dgo6Yo6A60MOyMx3zjSVXDzJtnXV8FiE-soUA2qcBEM
11:15:36.842 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:15:36.846 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=fAPbza8_GTnmaGbfNWHhg_NsD2ReR88auumA_szuCIA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=kAj_Kq_LIildGHP2XLkvrrQgs1gYGqrSyoQ4iwxgy8c
11:15:36.917 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=BmAe49hi_zcSYlLx3APFCkecRdVMCztsWT3quSBSr0rWLvNoSCg9S1lTsFzoy3tyWVaZIWNBeSwwmpRShaBj5T_UZ1O_ZE-t2HeVuXQsLmQe69blsIpEl2mVkmyXuhA7&state=fAPbza8_GTnmaGbfNWHhg_NsD2ReR88auumA_szuCIA%3D
11:15:37.278 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 26c61a01-d1da-412d-aa6f-9862274770e3
11:15:37.278 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:15:37.279 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:15:36Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:45:37Z, iat=2026-01-14T04:15:37Z, nonce=kAj_Kq_LIildGHP2XLkvrrQgs1gYGqrSyoQ4iwxgy8c, jti=138b9d49-eee7-4874-b363-c7589057ec88, authorities=[ROLE_CUSTOMER], sid=yNmzmCqmXLWfFdjpc-fV864huObbU3YUHkuvVCGhO74}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=26c61a01-d1da-412d-aa6f-9862274770e3], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@305ffd8a]
11:15:37.279 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:15:36Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:45:37Z, iat=2026-01-14T04:15:37Z, nonce=kAj_Kq_LIildGHP2XLkvrrQgs1gYGqrSyoQ4iwxgy8c, jti=138b9d49-eee7-4874-b363-c7589057ec88, authorities=[ROLE_CUSTOMER], sid=yNmzmCqmXLWfFdjpc-fV864huObbU3YUHkuvVCGhO74}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=26c61a01-d1da-412d-aa6f-9862274770e3], Granted Authorities=[ROLE_CUSTOMER]]
11:15:37.997 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:15:38.008 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:15:36Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:45:37Z, iat=2026-01-14T04:15:37Z, nonce=kAj_Kq_LIildGHP2XLkvrrQgs1gYGqrSyoQ4iwxgy8c, jti=138b9d49-eee7-4874-b363-c7589057ec88, authorities=[ROLE_CUSTOMER], sid=yNmzmCqmXLWfFdjpc-fV864huObbU3YUHkuvVCGhO74}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=26c61a01-d1da-412d-aa6f-9862274770e3], Granted Authorities=[ROLE_CUSTOMER]]]
11:15:38.019 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:15:38.402 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:15:38.403 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.403 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:15:38.406 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:15:38.406 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.406 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:15:38.918 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:15:38.918 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:15:38.918 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.918 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.918 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:15:38.918 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:15:38.929 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:15:38.932 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.933 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:15:38.929 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:15:38.939 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:15:38.934 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:15:38.939 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.940 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.956 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:15:38.962 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:15:38.942 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.966 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:15:38.971 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:15:38.973 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:15:38.977 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.978 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.978 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:15:38.978 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:15:39.000 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:15:39.012 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.013 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:15:39.014 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:15:39.022 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.024 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:15:48.871 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:15:48.877 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:15:36Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:45:37Z, iat=2026-01-14T04:15:37Z, nonce=kAj_Kq_LIildGHP2XLkvrrQgs1gYGqrSyoQ4iwxgy8c, jti=138b9d49-eee7-4874-b363-c7589057ec88, authorities=[ROLE_CUSTOMER], sid=yNmzmCqmXLWfFdjpc-fV864huObbU3YUHkuvVCGhO74}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=26c61a01-d1da-412d-aa6f-9862274770e3], Granted Authorities=[ROLE_CUSTOMER]]]
11:15:48.877 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:15:49.198 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:15:36Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:45:49Z, iat=2026-01-14T04:15:49Z, jti=c1280e84-3d48-49b6-8111-7167573d211d, authorities=[ROLE_CUSTOMER], sid=yNmzmCqmXLWfFdjpc-fV864huObbU3YUHkuvVCGhO74}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=26c61a01-d1da-412d-aa6f-9862274770e3], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4a65bc7c]
11:15:49.668 | DEBUG | FilterChainProxy: Securing GET /
11:15:49.668 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:49.669 | DEBUG | HttpSessionRequestCache: Saved request https://bff.bookommerce.com:8181/?continue to session
11:15:49.670 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:15:49.670 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@26ba9b23
11:15:49.670 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
11:16:03.461 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:16:03.468 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:03.471 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:16:03.472 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:16:03.472 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:16:15.000 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:16:15.009 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=RS3zmd2hjVv8ZoZ67ZPCV_XLNVUyae9l-2Lz7HrfUHM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=WccDDYJdmXT4NXUqECYWkMh86Ij3-mwHNbaWg3GhyaY
11:16:15.154 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=3ai_DHaWz3dzKVAv93p-OyfYF56CNjiabwpPjmdqojvROgIvHhI6EEqF03XoMZmjpHw2l4cudArHgSLIzteejETItF7V2AFlkw3p0FvwTh3FUMyIco4Jhz_OOWWfg9XM&state=RS3zmd2hjVv8ZoZ67ZPCV_XLNVUyae9l-2Lz7HrfUHM%3D
11:16:15.802 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437
11:16:15.803 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:16:15.804 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:46:15Z, iat=2026-01-14T04:16:15Z, nonce=WccDDYJdmXT4NXUqECYWkMh86Ij3-mwHNbaWg3GhyaY, jti=0546325e-9aee-4a36-bdaf-1f525ef73b18, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7554c4be]
11:16:15.804 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:46:15Z, iat=2026-01-14T04:16:15Z, nonce=WccDDYJdmXT4NXUqECYWkMh86Ij3-mwHNbaWg3GhyaY, jti=0546325e-9aee-4a36-bdaf-1f525ef73b18, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]
11:16:16.841 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:16:16.850 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:46:15Z, iat=2026-01-14T04:16:15Z, nonce=WccDDYJdmXT4NXUqECYWkMh86Ij3-mwHNbaWg3GhyaY, jti=0546325e-9aee-4a36-bdaf-1f525ef73b18, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:16:16.851 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:16:17.415 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:16:17.416 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:17.416 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:16:17.421 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:16:17.422 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:17.422 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:16:18.321 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:16:18.322 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.322 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:16:18.322 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:16:18.324 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.325 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:16:18.336 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:16:18.337 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:16:18.341 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:16:18.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.345 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:16:18.347 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:16:18.347 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.354 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:16:18.347 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:16:18.348 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.389 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:16:18.391 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:16:18.403 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:16:18.418 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.423 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:16:18.411 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.435 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:16:18.441 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:16:18.452 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.453 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:16:18.507 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:16:18.536 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.551 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:16:22.577 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:16:22.588 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:46:15Z, iat=2026-01-14T04:16:15Z, nonce=WccDDYJdmXT4NXUqECYWkMh86Ij3-mwHNbaWg3GhyaY, jti=0546325e-9aee-4a36-bdaf-1f525ef73b18, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:16:22.589 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:16:23.218 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:46:23Z, iat=2026-01-14T04:16:23Z, jti=fba3711c-1995-4e29-b312-fe30d84cee1f, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@50aa49af]
11:17:17.466 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:17:17.475 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:46:23Z, iat=2026-01-14T04:16:23Z, jti=fba3711c-1995-4e29-b312-fe30d84cee1f, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:17:17.475 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:17:17.852 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:17Z, iat=2026-01-14T04:17:17Z, jti=0d4633d3-ffa8-49c7-adfa-6ef92c934d17, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@20dcd6bf]
11:17:24.753 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:17:24.786 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:17Z, iat=2026-01-14T04:17:17Z, jti=0d4633d3-ffa8-49c7-adfa-6ef92c934d17, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:17:24.788 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:17:25.786 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:25Z, iat=2026-01-14T04:17:25Z, jti=001bb451-92b3-480e-a9a6-c1277cb8e03c, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7865eb6f]
11:17:36.582 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:17:36.666 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:25Z, iat=2026-01-14T04:17:25Z, jti=001bb451-92b3-480e-a9a6-c1277cb8e03c, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:17:36.682 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:17:38.211 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:37Z, iat=2026-01-14T04:17:37Z, jti=cad7920a-251e-4a16-9d32-270e8993abe1, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@24b39ad3]
11:17:49.116 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:17:49.140 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:37Z, iat=2026-01-14T04:17:37Z, jti=cad7920a-251e-4a16-9d32-270e8993abe1, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:17:49.152 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:17:50.218 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:17:50.483 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:37Z, iat=2026-01-14T04:17:37Z, jti=cad7920a-251e-4a16-9d32-270e8993abe1, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]]
11:17:50.530 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:17:51.829 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:16:15Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:47:51Z, iat=2026-01-14T04:17:51Z, jti=61937ba0-af8d-481d-a55b-1aa6b44fe551, authorities=[ROLE_CUSTOMER], sid=eIoqFN_RHxCkKFdFw8ITgiTFjqxe8KABTHnbYEqgYGg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f8cf6f16-c6fc-48fc-a4fb-2cf09a0b1437], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5978ba77]
11:18:55.309 | DEBUG | FilterChainProxy: Securing GET /protected/api/carts
11:18:55.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:18:55.329 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:18:55.330 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:18:55.330 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:19:24.752 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:19:24.771 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=XpNvcFJJLwn6WiYaAIyKQGTYPQCK98KfRy2sdedw85I%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=pEX4wVbePr55ioZtaE21Bs417Pgf2k8INt-CmygUSOg
11:19:24.894 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=uYxhNRxooQdG3iXXjCKargPxcBi8YoNdURqvGzQNcl95KUo1OUS7PGd3gdu44eDws7nsoQQdbjc1zUz9SkbzwtjF4H4M2ICj8HSyv4AuFBecU0MTKRVD529cWHwtq6I8&state=XpNvcFJJLwn6WiYaAIyKQGTYPQCK98KfRy2sdedw85I%3D
11:19:25.407 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from 582a9d92-b480-48d6-a67e-00a9dca33dc8
11:19:25.409 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:19:25.411 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:19:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:49:25Z, iat=2026-01-14T04:19:25Z, nonce=pEX4wVbePr55ioZtaE21Bs417Pgf2k8INt-CmygUSOg, jti=ad7d6a4b-a314-467a-a7ec-2b6798e8c994, authorities=[ROLE_CUSTOMER], sid=N1M8waUcgPWh1fg6Vd7Wz21cCbX66Lm544geG0UA9gA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=582a9d92-b480-48d6-a67e-00a9dca33dc8], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@40a74b37]
11:19:25.411 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:19:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:49:25Z, iat=2026-01-14T04:19:25Z, nonce=pEX4wVbePr55ioZtaE21Bs417Pgf2k8INt-CmygUSOg, jti=ad7d6a4b-a314-467a-a7ec-2b6798e8c994, authorities=[ROLE_CUSTOMER], sid=N1M8waUcgPWh1fg6Vd7Wz21cCbX66Lm544geG0UA9gA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=582a9d92-b480-48d6-a67e-00a9dca33dc8], Granted Authorities=[ROLE_CUSTOMER]]
11:19:26.447 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:19:26.464 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:19:24Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:49:25Z, iat=2026-01-14T04:19:25Z, nonce=pEX4wVbePr55ioZtaE21Bs417Pgf2k8INt-CmygUSOg, jti=ad7d6a4b-a314-467a-a7ec-2b6798e8c994, authorities=[ROLE_CUSTOMER], sid=N1M8waUcgPWh1fg6Vd7Wz21cCbX66Lm544geG0UA9gA}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=582a9d92-b480-48d6-a67e-00a9dca33dc8], Granted Authorities=[ROLE_CUSTOMER]]]
11:19:26.464 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:19:26.935 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:19:26.937 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:26.938 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:19:26.944 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:19:26.944 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:26.944 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:19:28.344 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:19:28.344 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:19:28.353 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.354 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.356 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:19:28.356 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.356 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:19:28.356 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:19:28.356 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:19:28.376 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:19:28.379 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.388 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:19:28.389 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:19:28.395 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:19:28.404 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.411 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.423 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:19:28.423 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:19:28.517 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:19:28.521 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:19:28.553 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.553 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:19:28.529 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.542 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:19:28.556 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:19:28.564 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:19:28.568 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.597 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.685 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:19:28.701 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:04.022 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:21:04.055 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:04.103 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6c48a60e, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
11:21:04.105 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4e7e77e7, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
11:21:04.105 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@691c6b8c
11:21:04.500 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:21:04.503 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:04.503 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:21:04.518 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:04.526 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:04.527 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:05.182 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:21:05.183 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.183 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:21:05.185 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:21:05.188 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.188 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:21:05.195 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:21:05.197 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.197 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:21:05.197 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:05.198 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.198 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:05.198 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:21:05.199 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.200 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:21:05.212 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:05.214 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.214 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:05.240 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:05.246 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.253 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:21:05.253 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:05.255 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:21:05.255 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.256 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.256 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:21:05.256 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:21:05.266 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:05.275 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.287 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:32.583 | DEBUG | FilterChainProxy: Securing GET /protected/oauth2/authorization/bff
11:21:32.596 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=OtjwUQ9gwWp2VGzJscnFa3_T2gv6KTHciuZ2etGHF1I%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=ypsPYvQtWznY0DYymwKHth0h4F1DflwADfQkvZnlC-A
11:21:32.716 | DEBUG | FilterChainProxy: Securing GET /protected/login/oauth2/code/bff?code=WYN_xMstLyBo_ntMLvqxg9fLAkPQ4D8PserRN7TdgU62Pkvx7b1vLIbs2yGTUEDIVvBgfPDCFsdEnM20EsVixmrUWlHQzYFWwpO0ntFN1kUgDqvpkJ1_tmakNbcWZ3mP&state=OtjwUQ9gwWp2VGzJscnFa3_T2gv6KTHciuZ2etGHF1I%3D
11:21:33.182 | DEBUG | ChangeSessionIdAuthenticationStrategy: Changed session id from f1540a7c-913b-4bbc-98c2-495f67ed6a13
11:21:33.185 | DEBUG | CsrfAuthenticationStrategy: Replaced CSRF Token
11:21:33.185 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:21:32Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:51:33Z, iat=2026-01-14T04:21:33Z, nonce=ypsPYvQtWznY0DYymwKHth0h4F1DflwADfQkvZnlC-A, jti=e2f82c4c-33b5-4efb-984d-fda576a13614, authorities=[ROLE_CUSTOMER], sid=zWUfJy-ojGL6dxy2mgZFzOyvPS6T1voBONnjs366NLU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f1540a7c-913b-4bbc-98c2-495f67ed6a13], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@411b2184]
11:21:33.187 | DEBUG | OAuth2LoginAuthenticationFilter: Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:21:32Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:51:33Z, iat=2026-01-14T04:21:33Z, nonce=ypsPYvQtWznY0DYymwKHth0h4F1DflwADfQkvZnlC-A, jti=e2f82c4c-33b5-4efb-984d-fda576a13614, authorities=[ROLE_CUSTOMER], sid=zWUfJy-ojGL6dxy2mgZFzOyvPS6T1voBONnjs366NLU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f1540a7c-913b-4bbc-98c2-495f67ed6a13], Granted Authorities=[ROLE_CUSTOMER]]
11:21:33.713 | DEBUG | FilterChainProxy: Securing GET /protected/api/me
11:21:33.723 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:21:32Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:51:33Z, iat=2026-01-14T04:21:33Z, nonce=ypsPYvQtWznY0DYymwKHth0h4F1DflwADfQkvZnlC-A, jti=e2f82c4c-33b5-4efb-984d-fda576a13614, authorities=[ROLE_CUSTOMER], sid=zWUfJy-ojGL6dxy2mgZFzOyvPS6T1voBONnjs366NLU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f1540a7c-913b-4bbc-98c2-495f67ed6a13], Granted Authorities=[ROLE_CUSTOMER]]]
11:21:33.725 | DEBUG | FilterChainProxy: Secured GET /protected/api/me
11:21:34.131 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:34.133 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.133 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:34.141 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:21:34.145 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.148 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:21:34.651 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:21:34.651 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:34.651 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.651 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.652 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:21:34.652 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:34.659 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:21:34.663 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.662 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:21:34.667 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.667 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:21:34.665 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:21:34.667 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:21:34.669 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.674 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:21:34.674 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:21:34.675 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:21:34.676 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.677 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:34.679 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:21:34.679 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.680 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:21:34.679 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.682 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:34.696 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:34.697 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:34.698 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.698 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.698 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:34.698 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:44.460 | DEBUG | FilterChainProxy: Securing GET /protected/api/me/profile
11:21:44.466 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:21:32Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:51:33Z, iat=2026-01-14T04:21:33Z, nonce=ypsPYvQtWznY0DYymwKHth0h4F1DflwADfQkvZnlC-A, jti=e2f82c4c-33b5-4efb-984d-fda576a13614, authorities=[ROLE_CUSTOMER], sid=zWUfJy-ojGL6dxy2mgZFzOyvPS6T1voBONnjs366NLU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f1540a7c-913b-4bbc-98c2-495f67ed6a13], Granted Authorities=[ROLE_CUSTOMER]]]
11:21:44.467 | DEBUG | FilterChainProxy: Secured GET /protected/api/me/profile
11:21:44.848 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [nguyenvietanh.personal@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=nguyenvietanh.personal@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-14T04:21:32Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-14T04:51:44Z, iat=2026-01-14T04:21:44Z, jti=e5373b05-7f37-4749-9f9e-9aa70bb949c6, authorities=[ROLE_CUSTOMER], sid=zWUfJy-ojGL6dxy2mgZFzOyvPS6T1voBONnjs366NLU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=f1540a7c-913b-4bbc-98c2-495f67ed6a13], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4346f4e5]
