2026-01-02T18:34:43.460+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T18:34:43.464+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T18:34:43.551+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-02T18:34:43.552+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-02T18:34:47.981+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T18:34:48.067+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 0 JPA repository interfaces.
2026-01-02T18:34:49.029+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T18:34:49.958+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T18:34:49.982+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T18:34:49.983+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T18:34:50.053+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T18:34:50.054+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6152 ms
2026-01-02T18:34:50.288+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-02T18:34:50.774+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@572baa87
2026-01-02T18:34:50.776+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-02T18:34:51.780+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T18:34:52.186+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.36.Final
2026-01-02T18:34:52.478+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T18:34:53.627+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T18:34:53.804+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T18:34:54.258+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T18:34:54.269+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T18:34:54.530+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T18:34:54.889+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T18:34:55.102+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T18:34:55.130+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T18:34:55.679+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T18:34:56.037+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [null]
2026-01-02T18:34:56.052+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T18:34:56.094+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 13.392 seconds (process running for 14.666)
2026-01-02T18:34:56.103+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T18:55:34.674+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T18:55:34.685+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T18:55:34.746+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 59 ms
2026-01-02T18:55:34.827+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T18:55:34.890+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T18:55:36.346+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T18:55:36.558+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T18:55:36.560+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T18:55:36.602+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T18:59:59.403+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T18:59:59.419+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T19:00:00.327+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T19:00:00.477+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T19:00:00.478+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T19:00:00.531+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T19:47:40.798+07:00  WARN 13880 --- [be-for-fe] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=43m25s639ms326Âµs700ns).
2026-01-02T19:48:17.799+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T19:48:17.824+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T19:48:18.349+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T19:48:18.603+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T19:48:18.605+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T19:48:18.658+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T19:53:16.318+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T19:53:16.336+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T19:53:16.619+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T19:53:16.764+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T19:53:16.764+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T19:53:16.796+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-02T19:57:25.591+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T19:57:25.791+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=VVXzf1CmhY_A9wiRPdsK7Dr_SmZ4dyADl7yDGvfE1-o%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=9fjgbC1_Jqlx91UJ2tOy6TswSx-52xAFwRLUTxuoZvQ
2026-01-02T19:57:36.694+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T19:57:36.951+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=I1f4YHWvQ2aQiKhETXGzEqgABKw8u9FLgPEDAV7xU6g%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8
2026-01-02T19:57:37.046+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=lwmRviRa2gpOW7ZsQaX1AzlYy1QbUwWdEorqz9qS76X1XD-pf0BOSsQerP-p-b0OdzVqwEIKaXH5U_DG3cNB2LPTxQXpAEDHEMZ6LX09f9tHqN2Qgo5dBboBAvI8pRmh&state=I1f4YHWvQ2aQiKhETXGzEqgABKw8u9FLgPEDAV7xU6g%3D
2026-01-02T19:57:38.525+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from d9ce2ec8-78e8-42af-84d7-be412a8bec8f
2026-01-02T19:57:38.527+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@571cdced]
2026-01-02T19:57:38.527+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-02T19:57:43.047+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T19:57:43.051+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T19:57:43.771+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T19:57:53.246+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T19:57:53.254+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T19:57:53.254+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T19:57:53.292+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T19:57:53.310+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /error
2026-01-02T19:57:53.310+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /error
2026-01-02T19:57:53.463+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T19:58:39.796+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-02T19:58:39.802+07:00  INFO 13880 --- [be-for-fe] [Thread-1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T19:58:39.812+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T19:58:39.826+07:00  INFO 13880 --- [be-for-fe] [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T19:58:39.834+07:00  INFO 13880 --- [be-for-fe] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-02T19:58:39.842+07:00  INFO 13880 --- [be-for-fe] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-02T19:58:40.023+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T19:58:40.024+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T19:58:40.917+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T19:58:40.926+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2026-01-02T19:58:41.073+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T19:58:41.180+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T19:58:41.183+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T19:58:41.183+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T19:58:41.209+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T19:58:41.209+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1014 ms
2026-01-02T19:58:41.255+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-02T19:58:41.318+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55558bde
2026-01-02T19:58:41.319+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-02T19:58:41.371+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T19:58:41.375+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T19:58:41.391+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T19:58:41.396+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T19:58:41.422+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T19:58:41.422+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T19:58:41.469+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T19:58:41.543+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T19:58:41.577+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T19:58:41.583+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T19:58:41.765+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T19:58:41.883+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T19:58:41.890+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T19:58:41.915+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 1.97 seconds (process running for 5046.935)
2026-01-02T19:58:41.919+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T19:58:41.923+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T19:58:50.322+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T19:58:50.323+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T19:58:50.332+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2026-01-02T19:58:50.342+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T19:58:50.374+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T19:58:50.379+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T19:58:50.402+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T19:58:50.418+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=DZa6nWrSzzZMDJ0_ExZsbo9Jq13nwsl4OUNuI85iNeA%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=THMt6ybkuhxVPHMjNzz9PAnIwFkP8Mka5T1BVDkW1N8
2026-01-02T19:59:59.396+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T19:59:59.409+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T19:59:59.409+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T19:59:59.421+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T19:59:59.428+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=zm3IO650Xr5mMfkBi4t0NgpvxIRVkiYqnv0ozjP9PbI%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=3_VaSvlc0I4MIvlZfSJ39Vjn4DX5GeTqritxngqnI2w
2026-01-02T20:01:52.758+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:01:52.783+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:01:52.788+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:01:52.803+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:01:52.817+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=fKVPzg7T8KPOaqjgqj-AO2n6rKx9y7TTPhr6B3O4_Ws%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=kQU2O4lgWH5MapWTSE6ZPeina3NT6w9oMqIVp3D4nPI
2026-01-02T20:03:45.614+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:03:45.666+07:00  INFO 13880 --- [be-for-fe] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:03:45.682+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:03:45.708+07:00  INFO 13880 --- [be-for-fe] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:03:45.739+07:00  INFO 13880 --- [be-for-fe] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-02T20:03:45.759+07:00  INFO 13880 --- [be-for-fe] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-02T20:03:46.332+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:03:46.332+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:03:46.874+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:03:46.881+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2026-01-02T20:03:46.996+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:03:47.080+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:03:47.083+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:03:47.083+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:03:47.138+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:03:47.138+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 673 ms
2026-01-02T20:03:47.206+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-02T20:03:47.277+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28566efa
2026-01-02T20:03:47.278+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-02T20:03:47.359+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:03:47.367+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:03:47.404+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:03:47.423+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:03:47.495+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:03:47.497+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:03:47.629+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:03:47.752+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:03:47.802+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:03:47.815+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:03:47.916+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:03:47.975+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:03:47.978+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:03:47.990+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 1.744 seconds (process running for 5353.009)
2026-01-02T20:03:47.991+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:03:47.991+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:04:43.125+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:04:43.128+07:00  INFO 13880 --- [be-for-fe] [Thread-13] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:04:43.132+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:04:43.135+07:00  INFO 13880 --- [be-for-fe] [Thread-13] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:04:43.136+07:00  INFO 13880 --- [be-for-fe] [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2026-01-02T20:04:43.142+07:00  INFO 13880 --- [be-for-fe] [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2026-01-02T20:04:43.240+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:04:43.241+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:04:43.772+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:04:43.781+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2026-01-02T20:04:43.933+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:04:44.015+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:04:44.016+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:04:44.016+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:04:44.041+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:04:44.041+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 740 ms
2026-01-02T20:04:44.077+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2026-01-02T20:04:44.095+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57909c8f
2026-01-02T20:04:44.095+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2026-01-02T20:04:44.127+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:04:44.131+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:04:44.142+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:04:44.145+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:04:44.167+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:04:44.168+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:04:44.215+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:04:44.275+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:04:44.303+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:04:44.313+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:04:44.369+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:04:44.423+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:04:44.427+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:04:44.434+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 1.229 seconds (process running for 5409.454)
2026-01-02T20:04:44.437+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:04:44.438+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:04:53.513+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:04:53.513+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:04:53.516+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2026-01-02T20:04:53.522+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:04:53.602+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:04:53.604+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:04:53.646+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:04:53.658+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=nuOUEYVRUqZA69dHvU2ptUy-vZQB8n1Pz28a7t1TEbc%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=gu0Huh5PWhQaFEzjlWh1oIdypBCS4Cb0IBC5WXhsmsg
2026-01-02T20:05:13.269+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:05:13.271+07:00  INFO 13880 --- [be-for-fe] [Thread-19] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:05:13.275+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:05:13.278+07:00  INFO 13880 --- [be-for-fe] [Thread-19] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:05:13.279+07:00  INFO 13880 --- [be-for-fe] [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2026-01-02T20:05:13.285+07:00  INFO 13880 --- [be-for-fe] [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2026-01-02T20:05:13.382+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:05:13.384+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:05:13.728+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:05:13.735+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2026-01-02T20:05:13.866+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:05:13.941+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:05:13.944+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:05:13.947+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:05:13.975+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:05:13.975+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 533 ms
2026-01-02T20:05:13.994+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2026-01-02T20:05:14.007+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6cf8ec69
2026-01-02T20:05:14.008+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2026-01-02T20:05:14.036+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:05:14.037+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:05:14.044+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:05:14.045+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:05:14.060+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:05:14.060+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:05:14.091+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:05:14.144+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:05:14.171+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:05:14.175+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:05:14.247+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:05:14.290+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:05:14.293+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:05:14.302+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 0.96 seconds (process running for 5439.322)
2026-01-02T20:05:14.303+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:05:14.304+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:06:06.426+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:06:06.431+07:00  INFO 13880 --- [be-for-fe] [Thread-25] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:06:06.439+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:06:06.444+07:00  INFO 13880 --- [be-for-fe] [Thread-25] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:06:06.446+07:00  INFO 13880 --- [be-for-fe] [Thread-25] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2026-01-02T20:06:06.456+07:00  INFO 13880 --- [be-for-fe] [Thread-25] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2026-01-02T20:06:06.595+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:06:06.595+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:06:06.859+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:06:06.863+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2026-01-02T20:06:06.941+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:06:06.998+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:06:06.999+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:06:07.000+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:06:07.025+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:06:07.026+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 380 ms
2026-01-02T20:06:07.045+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2026-01-02T20:06:07.060+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3fcfc318
2026-01-02T20:06:07.060+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2026-01-02T20:06:07.088+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:06:07.089+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:06:07.097+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:06:07.101+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:06:07.114+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:06:07.114+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:06:07.143+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:06:07.197+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:06:07.226+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:06:07.229+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:06:07.294+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:06:07.347+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:06:07.354+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:06:07.363+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 0.807 seconds (process running for 5492.383)
2026-01-02T20:06:07.365+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:06:07.367+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:06:13.954+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:06:13.959+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:06:13.963+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-02T20:06:13.981+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:06:14.032+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:06:14.045+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:06:14.069+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:06:14.080+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=nEvfKr4fSM-PZfvuX5R2wCzC8hiLVQg_pUz2GDKbs1w%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=BTdKic47eNTlBHlBuYhhYDpo6SI0zp1bu7v5QE-aFWU
2026-01-02T20:07:31.874+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:07:31.875+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:07:32.421+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:32.881+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:07:32.882+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:07:32.912+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:34.292+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /logout
2026-01-02T20:07:34.303+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:34.303+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T12:57:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:27:37Z, iat=2026-01-02T12:57:37Z, nonce=YQzHCrIumfIFKO_24L47q1BteNaqEjocw2VgLtP-sq8, jti=ced20ef7-8c6b-43d1-8d4c-a944473ae2c2, authorities=[ROLE_PRODUCT_MANAGER], sid=mSStICOdxQNJFK1lvKYw-AcUQim2BiUUdAuW9m9CPF4}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=d9ce2ec8-78e8-42af-84d7-be412a8bec8f], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:34.315+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 1369146b-bd04-4939-a598-bac173306a72
2026-01-02T20:07:34.325+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzM1ODY1NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3MzYwNDU3LCJpYXQiOjE3NjczNTg2NTcsIm5vbmNlIjoiWVF6SENySXVtZklGS09fMjRMNDdxMUJ0ZU5hcUVqb2N3MlZnTHRQLXNxOCIsImp0aSI6ImNlZDIwZWY3LThjNmItNDNkMS04ZDRjLWE5NDQ0NzNhZTJjMiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6Im1TU3RJQ09keFFOSkZLMWx2S1l3LUFjVVFpbTJCaVVVZEF1VzltOUNQRjQifQ.q4L6fD4UeSx8cg7v5il3_Uu2m_3lUXqIzZANzKMUABK6SiH9IYHGjPJYjKMutyGv4OLd5OX2jRXjSTVDNgAZ0HGlsvMQw2lUUNyPBfPk2ADETe4aV5GkIhsvBaXs8E6hTMosAfw7f2c1XlzG2NcG1yerjjIUhbeaz1qPo_svWk262GQrV6k7W-A4pfsVhmDb9VVwT6Vj61n4GkKUcdYHzEwT6sSnKP6BT5Ixwx-ZRsnS8dsONKJ1w_fnhpXPv_qIkt9QdZQ5XYdLIfUtygznFz5epQXd_BMxBKwEzB0R8QCbxsqTDLpkoPan48IHoacCbLNCLvSYfPN5Ukb8HiOu2Q&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-02T20:07:37.921+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T20:07:37.922+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=te6ix75HrfgdTLnTCGjkzmFHoHLf-a9imsuBtGzPMdg%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30
2026-01-02T20:07:37.973+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=dYkV0xEOi5Vc0gaItQaFUm8H1uaBSDpVkGH528TG0tNHEzoLEo_35L5Pmp6wxn0azpV79Sq7g1sujdIy_O0zRQIZUbLOncfcLROSlQKvPUv9igPKruiuRLsl7tN6DWZS&state=te6ix75HrfgdTLnTCGjkzmFHoHLf-a9imsuBtGzPMdg%3D
2026-01-02T20:07:38.439+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9808a276-d10b-4e96-9ea6-fa4614403eeb
2026-01-02T20:07:38.439+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6a3dd786]
2026-01-02T20:07:38.441+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-02T20:07:43.138+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:07:43.141+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:07:43.460+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:46.874+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:07:46.878+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:07:46.879+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:07:46.894+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:47.096+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:07:47.099+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:07:47.150+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:57.789+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:07:57.796+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:07:57.797+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:07:57.853+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:07:57.858+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing PATCH /error
2026-01-02T20:07:57.860+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured PATCH /error
2026-01-02T20:07:57.879+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:08:16.979+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:08:16.983+07:00  INFO 13880 --- [be-for-fe] [Thread-31] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:08:17.018+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:08:17.029+07:00  INFO 13880 --- [be-for-fe] [Thread-31] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:08:17.034+07:00  INFO 13880 --- [be-for-fe] [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2026-01-02T20:08:17.052+07:00  INFO 13880 --- [be-for-fe] [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2026-01-02T20:08:17.241+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:08:17.241+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:08:17.573+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:08:17.580+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2026-01-02T20:08:17.687+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:08:17.782+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:08:17.784+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:08:17.784+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:08:17.811+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:08:17.811+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 503 ms
2026-01-02T20:08:17.860+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2026-01-02T20:08:17.885+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62279b95
2026-01-02T20:08:17.886+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2026-01-02T20:08:17.921+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:08:17.924+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:08:17.936+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:08:17.940+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:08:17.998+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:08:18.069+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:08:18.180+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:08:18.228+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:08:18.264+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:08:18.269+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:08:18.384+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:08:18.491+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:08:18.497+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:08:18.526+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 1.348 seconds (process running for 5623.546)
2026-01-02T20:08:18.535+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:08:18.542+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:08:31.282+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:08:31.282+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:08:31.282+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-01-02T20:08:31.282+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:08:31.322+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:08:31.324+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:08:31.353+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:08:31.356+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing PATCH /error
2026-01-02T20:08:31.356+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured PATCH /error
2026-01-02T20:08:31.372+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:08:50.843+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/reject
2026-01-02T20:08:50.853+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/reject
2026-01-02T20:08:50.853+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/reject
2026-01-02T20:08:50.884+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:08:50.888+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /error
2026-01-02T20:08:50.889+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /error
2026-01-02T20:08:50.902+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:09:10.740+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-02T20:09:10.742+07:00  INFO 13880 --- [be-for-fe] [Thread-37] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:09:10.750+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:09:10.755+07:00  INFO 13880 --- [be-for-fe] [Thread-37] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:09:10.756+07:00  INFO 13880 --- [be-for-fe] [Thread-37] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2026-01-02T20:09:10.769+07:00  INFO 13880 --- [be-for-fe] [Thread-37] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2026-01-02T20:09:10.883+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:09:10.883+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:09:11.072+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:09:11.077+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2026-01-02T20:09:11.166+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:09:11.229+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:09:11.231+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:09:11.232+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:09:11.254+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:09:11.254+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 323 ms
2026-01-02T20:09:11.269+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2026-01-02T20:09:11.280+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b93c8a5
2026-01-02T20:09:11.280+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2026-01-02T20:09:11.297+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:09:11.299+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:09:11.303+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:09:11.305+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:09:11.319+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:09:11.319+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:09:11.347+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:09:11.385+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:09:11.413+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:09:11.416+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:09:11.481+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:09:11.540+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:09:11.550+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:09:11.558+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 0.72 seconds (process running for 5676.578)
2026-01-02T20:09:11.560+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:09:11.561+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:09:15.280+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:09:15.282+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:09:15.282+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-01-02T20:09:15.290+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:09:15.310+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:09:15.311+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:09:15.330+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:09:15.332+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=KV1oLLulUsXAuvpwyIWspFnvd7gUkqqpmvJNcJeOaG8%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=jzgeaXVHAC2b4FXQH3SJURfD7M1AQHhqDxIcdr7s9ZA
2026-01-02T20:09:22.651+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/reject
2026-01-02T20:09:22.658+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/reject
2026-01-02T20:09:22.664+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/reject
2026-01-02T20:09:22.677+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:09:22.684+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=KFg3lyxr5gvhYdG9QSOHqxrgi_B6Wh20Iaeq6riGckE%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=9ZUnQBspipwoasoRA8zGRBFRHtMWOMupGjHNV4pKEhE
2026-01-02T20:09:48.523+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:09:48.525+07:00  INFO 13880 --- [be-for-fe] [Thread-43] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:09:48.530+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:09:48.534+07:00  INFO 13880 --- [be-for-fe] [Thread-43] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:09:48.535+07:00  INFO 13880 --- [be-for-fe] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2026-01-02T20:09:48.543+07:00  INFO 13880 --- [be-for-fe] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2026-01-02T20:09:48.665+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:09:48.667+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:09:48.947+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:09:48.951+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2026-01-02T20:09:49.010+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:09:49.068+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:09:49.069+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:09:49.069+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:09:49.094+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:09:49.094+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 358 ms
2026-01-02T20:09:49.117+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2026-01-02T20:09:49.132+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@16d9c56f
2026-01-02T20:09:49.133+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2026-01-02T20:09:49.165+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:09:49.167+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:09:49.176+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:09:49.179+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:09:49.199+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:09:49.199+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:09:49.233+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:09:49.283+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:09:49.303+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:09:49.306+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:09:49.355+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:09:49.397+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:09:49.404+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:09:49.411+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 0.794 seconds (process running for 5714.431)
2026-01-02T20:09:49.413+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:09:49.413+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:10:06.283+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:10:06.284+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:10:06.285+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-02T20:10:06.291+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:10:06.308+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:10:06.312+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:10:06.327+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:06.333+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=hO5whNRi3yC2gGI3tY6lDbvGF_GFI5diHCSg_dkxr5U%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=ZE56gYYcVPrJItJD1SGUF2Mv7SfGtiq2oYUMkK1WesQ
2026-01-02T20:10:13.071+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:10:13.072+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:10:13.150+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:13.437+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:10:13.438+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:10:13.472+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:14.806+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /logout
2026-01-02T20:10:14.815+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:14.819+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.w.a.logout.LogoutFilter            : Logging out [OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:07:37Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:37:38Z, iat=2026-01-02T13:07:38Z, nonce=N_2xSSP5B4PWepzoDQAVzscsv-qCYWe7XvCQ7a0Li30, jti=95bd3336-4473-472c-afb9-f55540840576, authorities=[ROLE_PRODUCT_MANAGER], sid=K1gtoC_g8WBpUleg_86RcpYEpMRRxy9SIbnFZ-N_5Cg}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9808a276-d10b-4e96-9ea6-fa4614403eeb], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:14.835+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session c2722ec7-3409-401c-b4e3-a98fc190078c
2026-01-02T20:10:14.839+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzM1OTI1NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3MzYxMDU4LCJpYXQiOjE3NjczNTkyNTgsIm5vbmNlIjoiTl8yeFNTUDVCNFBXZXB6b0RRQVZ6c2Nzdi1xQ1lXZTdYdkNRN2EwTGkzMCIsImp0aSI6Ijk1YmQzMzM2LTQ0NzMtNDcyYy1hZmI5LWY1NTU0MDg0MDU3NiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IksxZ3RvQ19nOFdCcFVsZWdfODZSY3BZRXBNUlJ4eTlTSWJuRlotTl81Q2cifQ.d2SyVCcGEz0e0AJij6TZL6MaAZyx13IqUZopqTLhLtRUCBhizKDW0kYMoWTy6180eNs1Xkj5R-8oBGMBOQYvNcKqOtVUscXbApXMrE4PNcSDyinND-0G7KG3GOeV3yJOd3cOS7baid7iEDmYkGkJYwMSVkEL0IeP8v9yJp0Jo1UTRAcxjo4XTx6ci0TO_kkKdYWJyFdF9fz3YH6vkBLAX1Ptlj2ml9-Hy730w-l5DQiZ1i60oXSa8Ztw4t7q3C8SGdGuecwJ3ZLsssZN2uhYwVKFXZMd6qUl0yBNYlTl_0fkIeQ4_225zKP9kXivPCp2x-INNZ7UE_8hMLC3k7TRNw&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-02T20:10:17.637+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T20:10:17.639+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=ACBcybB9Jdb_bmI8ExXtmvHI7wxpFmRXxc_IBewqC8E%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4
2026-01-02T20:10:17.681+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=-tnPxcEXCnDxGNXqMKA_3pJqdci2OetSljUtu4ff-nWD8kyzpRxngY9TBmj6b6u7jfneVXlfoF_FTnPzLRgCtGT7oyEpFQh7xw2Zve8QCHBkVG5EDS3Cc0DFeT-7gqL7&state=ACBcybB9Jdb_bmI8ExXtmvHI7wxpFmRXxc_IBewqC8E%3D
2026-01-02T20:10:18.113+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 109ed304-9851-414d-bb45-fd54cdbb1327
2026-01-02T20:10:18.115+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@260d7e6d]
2026-01-02T20:10:18.115+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-02T20:10:22.323+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:22.325+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:22.482+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:24.013+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:10:24.016+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:10:24.016+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:10:24.025+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:24.097+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:24.098+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:24.144+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:25.537+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:10:25.542+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:10:25.543+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:10:25.547+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:25.611+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:25.612+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:25.651+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:26.811+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:10:26.818+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:10:26.821+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:10:26.830+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:26.909+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:26.911+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:26.970+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:28.644+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:10:28.649+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:10:28.650+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:10:28.654+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:28.749+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:28.754+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:28.801+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:30.645+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/reject
2026-01-02T20:10:30.651+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/reject
2026-01-02T20:10:30.653+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/reject
2026-01-02T20:10:30.658+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:30.744+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:30.752+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:30.795+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:31.957+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/approve
2026-01-02T20:10:31.962+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/approve
2026-01-02T20:10:31.963+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/approve
2026-01-02T20:10:31.966+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:32.023+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:32.024+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:10:32.060+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:10:56.917+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-02T20:10:56.921+07:00  INFO 13880 --- [be-for-fe] [Thread-49] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:10:56.930+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:10:56.937+07:00  INFO 13880 --- [be-for-fe] [Thread-49] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:10:56.939+07:00  INFO 13880 --- [be-for-fe] [Thread-49] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2026-01-02T20:10:56.952+07:00  INFO 13880 --- [be-for-fe] [Thread-49] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2026-01-02T20:10:57.099+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:10:57.100+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:10:57.338+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:10:57.343+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2026-01-02T20:10:57.406+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:10:57.482+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:10:57.483+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:10:57.484+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:10:57.509+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:10:57.509+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 356 ms
2026-01-02T20:10:57.532+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2026-01-02T20:10:57.555+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f3f221a
2026-01-02T20:10:57.555+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2026-01-02T20:10:57.581+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:10:57.583+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:10:57.592+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:10:57.595+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:10:57.615+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:10:57.615+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:10:57.645+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:10:57.691+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:10:57.724+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:10:57.727+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:10:57.809+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:10:57.886+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:10:57.890+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:10:57.901+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 0.843 seconds (process running for 5782.921)
2026-01-02T20:10:57.902+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:10:57.903+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:11:02.811+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:11:02.828+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:11:02.829+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-02T20:11:02.833+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:11:02.839+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:11:02.888+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:03.126+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:11:03.129+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:11:03.161+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:04.706+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /logout
2026-01-02T20:11:04.711+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:04.712+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.w.a.logout.LogoutFilter            : Logging out [OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:10:17Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:40:18Z, iat=2026-01-02T13:10:18Z, nonce=akHISxbjPPiwXIbwm37JT3YPyq9YOI4DAg2OjemT-c4, jti=35322dd0-b894-40d6-8b6e-da755214c34f, authorities=[ROLE_PRODUCT_MANAGER], sid=_YGKOM3M9obTo7LZl8cbmcRzFnR-bzfIpLqvBa4m5eU}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=109ed304-9851-414d-bb45-fd54cdbb1327], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:04.725+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session e024e846-eaaf-488c-83bd-58a08dd1f47f
2026-01-02T20:11:04.729+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzM1OTQxNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3MzYxMjE4LCJpYXQiOjE3NjczNTk0MTgsIm5vbmNlIjoiYWtISVN4YmpQUGl3WElid20zN0pUM1lQeXE5WU9JNERBZzJPamVtVC1jNCIsImp0aSI6IjM1MzIyZGQwLWI4OTQtNDBkNi04YjZlLWRhNzU1MjE0YzM0ZiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6Il9ZR0tPTTNNOW9iVG83TFpsOGNibWNSekZuUi1iemZJcExxdkJhNG01ZVUifQ.r0vkUfI-bey7PhfE7CA-FAV7TcJooc6diyNYZOc1MMiYjmMySsCHFlWw4HL5W9Xa1vkAz7EdSmyUmLnfoxrCU007p5g3CCQ3_D1pCo_XMPsgsJwT5r46-ArMu4UIvREYaJrw6EXDPzjDaddX_IAnaQ1dlJbQPPsE1iaNl41VidXsyK_94oxnA_FkNx_e4DlTdIALvYVzw3jzHKEGM3aNYyGpkJ-deGBYCHqpkYStOjVwIx-do26_3ayoDjJgsWLlJSlP9_BgtQSGGl3B0cnWjp2LzqRLGgRWvLA1Ho64b88q_im_uHW2fRewQwP9QAM0zhjYBS7YwSoKflKXnjfgRw&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-02T20:11:07.521+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T20:11:07.523+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=F2fEb8HjJhOd3X3uLlAeqzPyBI15BL1pxVEMD79rwhk%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q
2026-01-02T20:11:07.585+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=FQacNUnJOFkaRSOBIsWbUziiYqkInbulqLu6tk1wxoh4LS217znikQTA164jANn7PSmjiaLz8d1JDo3OBpX3qqTJzpfk-FJog44hEmJ_g7_5dXUaspWCdyz4n7Bo2812&state=F2fEb8HjJhOd3X3uLlAeqzPyBI15BL1pxVEMD79rwhk%3D
2026-01-02T20:11:08.007+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from b34398dc-329c-4831-b4ce-e74b058d3151
2026-01-02T20:11:08.007+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2829b735]
2026-01-02T20:11:08.008+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-02T20:11:12.522+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:12.523+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:12.645+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:14.365+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:11:14.371+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:11:14.372+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:11:14.379+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:14.448+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:14.449+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:14.489+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:15.839+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:11:15.843+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:11:15.844+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:11:15.849+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:15.925+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:15.926+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:15.962+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:17.194+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:11:17.197+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:11:17.198+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:11:17.206+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:17.266+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:17.267+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:17.310+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:18.902+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/reject
2026-01-02T20:11:18.914+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/reject
2026-01-02T20:11:18.917+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/reject
2026-01-02T20:11:18.926+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:18.999+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:19.000+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:19.046+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:20.012+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/approve
2026-01-02T20:11:20.016+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/approve
2026-01-02T20:11:20.017+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/approve
2026-01-02T20:11:20.023+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:20.085+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:20.094+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:20.177+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:21.908+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:11:21.914+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:11:21.915+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:11:21.920+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:21.980+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:21.981+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:22.019+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:25.311+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/reject
2026-01-02T20:11:25.315+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/reject
2026-01-02T20:11:25.315+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/reject
2026-01-02T20:11:25.321+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:25.395+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:25.396+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:25.455+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:28.069+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1/approve
2026-01-02T20:11:28.075+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/1/approve
2026-01-02T20:11:28.076+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/1/approve
2026-01-02T20:11:28.087+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:28.177+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:28.182+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:28.257+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:31.956+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/reject
2026-01-02T20:11:31.961+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/reject
2026-01-02T20:11:31.962+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/reject
2026-01-02T20:11:31.967+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:32.072+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:32.073+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:32.117+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:35.109+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2/approve
2026-01-02T20:11:35.113+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/2/approve
2026-01-02T20:11:35.114+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/2/approve
2026-01-02T20:11:35.123+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:35.235+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:35.237+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:11:35.297+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:44.553+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1
2026-01-02T20:11:44.558+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/1
2026-01-02T20:11:44.559+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/1
2026-01-02T20:11:44.616+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:11:44.622+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing DELETE /error
2026-01-02T20:11:44.623+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured DELETE /error
2026-01-02T20:11:44.643+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:12:20.664+07:00  INFO 13880 --- [be-for-fe] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-02T20:12:20.666+07:00  INFO 13880 --- [be-for-fe] [Thread-55] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-02T20:12:20.671+07:00  INFO 13880 --- [be-for-fe] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-02T20:12:20.674+07:00  INFO 13880 --- [be-for-fe] [Thread-55] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:12:20.675+07:00  INFO 13880 --- [be-for-fe] [Thread-55] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2026-01-02T20:12:20.677+07:00  INFO 13880 --- [be-for-fe] [Thread-55] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2026-01-02T20:12:20.782+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Starting BeForFeApplication using Java 21.0.3 with PID 13880 (C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce)
2026-01-02T20:12:20.782+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : No active profile set, falling back to 1 default profile: "default"
2026-01-02T20:12:21.000+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-02T20:12:21.005+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2026-01-02T20:12:21.071+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=1f348301-a6bb-3173-bdf3-b10ebfe2bd55
2026-01-02T20:12:21.125+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8181 (https)
2026-01-02T20:12:21.125+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-02T20:12:21.127+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-02T20:12:21.155+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-02T20:12:21.156+07:00  INFO 13880 --- [be-for-fe] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 326 ms
2026-01-02T20:12:21.187+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2026-01-02T20:12:21.205+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46fdd5af
2026-01-02T20:12:21.206+07:00  INFO 13880 --- [be-for-fe] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2026-01-02T20:12:21.229+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-02T20:12:21.230+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-02T20:12:21.236+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-02T20:12:21.239+07:00  INFO 13880 --- [be-for-fe] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-02T20:12:21.255+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-02T20:12:21.256+07:00  INFO 13880 --- [be-for-fe] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-02T20:12:21.280+07:00  WARN 13880 --- [be-for-fe] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-02T20:12:21.335+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2026-01-02T20:12:21.367+07:00 DEBUG 13880 --- [be-for-fe] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-02T20:12:21.375+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.b.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-02T20:12:21.441+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-02T20:12:21.491+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8181], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\PC\.keystore] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\be-for-fe\target\classes\bookommerce-ssl.p12]
2026-01-02T20:12:21.494+07:00  INFO 13880 --- [be-for-fe] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8181 (https) with context path '/'
2026-01-02T20:12:21.501+07:00  INFO 13880 --- [be-for-fe] [restartedMain] c.b.be_for_fe.BeForFeApplication         : Started BeForFeApplication in 0.755 seconds (process running for 5866.522)
2026-01-02T20:12:21.505+07:00  WARN 13880 --- [be-for-fe] [restartedMain] o.s.b.c.p.m.PropertiesMigrationListener  : 
The use of configuration keys that have been renamed was found in the environment:

Property source 'Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/'':
	Key: logging.file.max-size
		Line: 46
		Replacement: logging.logback.rollingpolicy.max-file-size


Each configuration key has been temporarily mapped to its replacement for your convenience. To silence this warning, please update your configuration to use the new keys.

2026-01-02T20:12:21.507+07:00  INFO 13880 --- [be-for-fe] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-02T20:21:52.031+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-02T20:21:52.057+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-02T20:21:52.177+07:00  INFO 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 118 ms
2026-01-02T20:21:52.228+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1
2026-01-02T20:21:52.301+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/1
2026-01-02T20:21:52.321+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/1
2026-01-02T20:21:52.478+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:21:52.517+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=d-u2Jmxjjv9Pwx3CxqaqJIObuvYjEIMKfkBeYL49vNY%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=tEAISozWrsZ94xAWoGU1_Bwz0FrzRP1pdHU7aZIR6jw
2026-01-02T20:22:11.632+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:22:11.671+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:22:12.027+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:12.509+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:22:12.511+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:22:12.565+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:13.909+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /logout
2026-01-02T20:22:13.927+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:13.927+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:11:07Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:41:07Z, iat=2026-01-02T13:11:07Z, nonce=CxC2QrsJwV7TW2xUfMzclP7dftA-deSibS2lcpSWZ6Q, jti=35454809-9394-4e86-9240-f595f19a2992, authorities=[ROLE_PRODUCT_MANAGER], sid=FcwWG9fmpoGnFUASSCPcRYwcjotJAsDq02qgtMyiKSk}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b34398dc-329c-4831-b4ce-e74b058d3151], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:13.947+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 3ec2e5b3-ccfe-4b56-a6db-938ea1accb74
2026-01-02T20:22:13.962+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzM1OTQ2NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3MzYxMjY3LCJpYXQiOjE3NjczNTk0NjcsIm5vbmNlIjoiQ3hDMlFyc0p3VjdUVzJ4VWZNemNsUDdkZnRBLWRlU2liUzJsY3BTV1o2USIsImp0aSI6IjM1NDU0ODA5LTkzOTQtNGU4Ni05MjQwLWY1OTVmMTlhMjk5MiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IkZjd1dHOWZtcG9HbkZVQVNTQ1BjUll3Y2pvdEpBc0RxMDJxZ3RNeWlLU2sifQ.Yxz3-NcVRJm7mLqAoxbfISwhTWUxULxr3_u4Nwm8T-elA-KXAMM9lqNTUM_13sl89lMATPBnrCmQdbF6_CBlKiQlsENdm1v6Trn7XZ6VdPV4ZBJVnq0TAAI7ybI3cFSDiBIUKloqsrCsCvTQRmgEftuYLs9yh2KdP39YYOE8zj9dwxvUI4KIcst2se6rl2yNtBIcLwFzkyvMRc-ZD1CsL_M_TKzaJuE8WXsl1DYQexkEdYHgjaTDG-TJhBOxRfGnLjHUXXReErGyD-RJeQwR31RGg9nnVLKAkXQV4NDaY3fWDjxyiadba0-slOv-aD5LdVvMg5KEVZsW2dI7IE8Jkw&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-02T20:22:17.942+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T20:22:17.946+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=kzJdbHdvfNRN8oNAv-aZ7pXkAip9ZWjQg8hctGCrGfI%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg
2026-01-02T20:22:18.054+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=f5FnUDEhzB3yw59K-HwCGe0GSl4NUG4JqMFKYZzP80mJtO0_4oOow7TC44VYFELgO0lBO5rdxcixfQwLYmeKhsdvNkVUR-2inhUMFy8XXQjJetydyNVHzv3dFHmAVuHe&state=kzJdbHdvfNRN8oNAv-aZ7pXkAip9ZWjQg8hctGCrGfI%3D
2026-01-02T20:22:19.391+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 1003c28c-7ac5-4525-9c81-17d641d5ace1
2026-01-02T20:22:19.392+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@34ef7a9a]
2026-01-02T20:22:19.392+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-02T20:22:25.282+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:22:25.287+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:22:27.123+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:30.677+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/1
2026-01-02T20:22:30.681+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/1
2026-01-02T20:22:30.681+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/1
2026-01-02T20:22:30.695+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:31.058+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:22:31.060+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:22:31.159+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:39.494+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/2
2026-01-02T20:22:39.501+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/2
2026-01-02T20:22:39.509+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/2
2026-01-02T20:22:39.534+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:39.680+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:22:39.682+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:22:39.755+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:48.141+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:22:48.142+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:22:48.194+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:48.530+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /confirm-logout
2026-01-02T20:22:48.530+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /confirm-logout
2026-01-02T20:22:48.580+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:49.496+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /logout
2026-01-02T20:22:49.510+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:49.510+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.s.w.a.logout.LogoutFilter            : Logging out [OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:18Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:52:19Z, iat=2026-01-02T13:22:19Z, nonce=cbNhEsf-J3CWuv4ix0jpsdVvp_rRGaRzUE3e1Rvw8Jg, jti=a927e9b0-689d-4689-a593-b298a7a5b165, authorities=[ROLE_PRODUCT_MANAGER], sid=eO0yezZ9z7YyaOFU5QSvl3kUa69xkTGOTWrCXo-PQrM}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=1003c28c-7ac5-4525-9c81-17d641d5ace1], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:22:49.527+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 05f3ed12-c603-436e-976a-6788695ac97d
2026-01-02T20:22:49.533+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzM2MDEzOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3MzYxOTM5LCJpYXQiOjE3NjczNjAxMzksIm5vbmNlIjoiY2JOaEVzZi1KM0NXdXY0aXgwanBzZFZ2cF9yUkdhUnpVRTNlMVJ2dzhKZyIsImp0aSI6ImE5MjdlOWIwLTY4OWQtNDY4OS1hNTkzLWIyOThhN2E1YjE2NSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6ImVPMHllelo5ejdZeWFPRlU1UVN2bDNrVWE2OXhrVEdPVFdyQ1hvLVBRck0ifQ.qo19sb_HvulAb4QwdswuRiC4e6P1I7_r5-08hirMoJx52eUy7lPwjDcUUHvYUT9-wjy4BUBM6ZzTTBLTVj8phV--_x5RVMlvaQudJzbaF8BcqZ0JZRHXlduyoZ6HZjj_UBV-QUFoA81EjbnRzdQlNlY4OCOovf8RgEz25kwjdmP27hd8MwGFkNcFlFkr0kVrhKHyyOKa_mbP7phswmt7BSq8sWWXe9tfWRwxGl75ToMgaOcdGBXjT7hnw_qp2g7zF0ElGtv1oWrNL4eDtTTl9tMJg4WAVVIaEio5Hpc6qq89gll9Zegh7YyORCSVUZscfaLqSceBrkkCM4c8rTp0AQ&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-02T20:22:59.511+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T20:22:59.516+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=6QbtXNSCQWicAs7YpB3Pn1ZbMKhVJ2eG06UXU70jl8Q%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U
2026-01-02T20:22:59.584+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=XStZuztafYuyrEVHp_BIzHa05JbAop3rpjqXiSUKHftQ2oe2oZ7ho7hHdpvqbou_zsR67ojZr3Rzszy56Bs7o7WRUlYvrgjEytZC3chK41seg8O9JCt7pALPUgzdUQQp&state=6QbtXNSCQWicAs7YpB3Pn1ZbMKhVJ2eG06UXU70jl8Q%3D
2026-01-02T20:23:00.606+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8ea0db40-e5bb-463d-8c17-d6617cf9a6ca
2026-01-02T20:23:00.609+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2801ec2]
2026-01-02T20:23:00.609+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]
2026-01-02T20:23:02.461+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
2026-01-02T20:23:02.461+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/genres
2026-01-02T20:23:02.461+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
2026-01-02T20:23:02.461+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/genres
2026-01-02T20:23:02.680+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:02.828+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.315+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8936213491361.jpg
2026-01-02T20:23:03.318+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8936213491361.jpg
2026-01-02T20:23:03.331+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:23:03.334+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8935212368209.jpg
2026-01-02T20:23:03.340+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8935212349208.jpg
2026-01-02T20:23:03.341+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:23:03.347+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8935212349208.jpg
2026-01-02T20:23:03.347+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8935212368209.jpg
2026-01-02T20:23:03.391+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /images/books/image_195509_1_30127_1.jpg
2026-01-02T20:23:03.403+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8936213491866.jpg
2026-01-02T20:23:03.406+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /images/books/image_195509_1_30127_1.jpg
2026-01-02T20:23:03.412+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8936213491866.jpg
2026-01-02T20:23:03.541+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.571+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/books/image_217968.jpg
2026-01-02T20:23:03.581+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/books/image_217968.jpg
2026-01-02T20:23:03.627+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.653+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
2026-01-02T20:23:03.673+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
2026-01-02T20:23:03.697+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.718+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
2026-01-02T20:23:03.734+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
2026-01-02T20:23:03.838+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.863+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.884+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.887+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.914+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
2026-01-02T20:23:03.914+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:03.916+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
2026-01-02T20:23:03.940+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:04.017+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:05.392+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:23:05.396+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:23:06.773+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:23:06.819+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:23:06.821+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:23:06.882+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:24:28.260+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings
2026-01-02T20:24:28.298+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/ratings
2026-01-02T20:24:28.347+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:24:28.348+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/ratings
2026-01-02T20:24:29.507+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:24:29.517+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:24:29.538+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:24:29.538+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:24:29.674+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:24:29.722+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:24:53.621+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/bff
2026-01-02T20:24:53.623+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=JhoruKQEmYOtiwlqxG9LoHmNm0cxUJx_ARnTFdqhSeE%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY
2026-01-02T20:24:53.691+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/bff?code=cA2lWHUr5_O8zju9S7Om6pcUFBdCq3nrVGczJYBJWLuNXbgOxNn9Ybun4OpJwW8eTtUpsJBFVlyFwW8QQmA_YJppnQ2lAKktb7Sgq__AIXgjSU8uQCnQfoUlPCNDdD3V&state=JhoruKQEmYOtiwlqxG9LoHmNm0cxUJx_ARnTFdqhSeE%3D
2026-01-02T20:24:54.649+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from b947a7a6-4c3d-47e8-ba75-d74629f3230a
2026-01-02T20:24:54.649+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:24:53Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:54:54Z, iat=2026-01-02T13:24:54Z, nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY, jti=ba120e2b-a0e2-4a23-ab58-1d0366fe733d, authorities=[ROLE_PRODUCT_MANAGER], sid=lWVKJz78LB61EvxTwNZcuoSCyX42EqgpEiJaoVsV0g8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b947a7a6-4c3d-47e8-ba75-d74629f3230a], Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@47db3164]
2026-01-02T20:24:54.650+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:24:53Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:54:54Z, iat=2026-01-02T13:24:54Z, nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY, jti=ba120e2b-a0e2-4a23-ab58-1d0366fe733d, authorities=[ROLE_PRODUCT_MANAGER], sid=lWVKJz78LB61EvxTwNZcuoSCyX42EqgpEiJaoVsV0g8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b947a7a6-4c3d-47e8-ba75-d74629f3230a], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-02T20:25:03.034+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:25:03.036+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:25:03.194+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:24:53Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:54:54Z, iat=2026-01-02T13:24:54Z, nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY, jti=ba120e2b-a0e2-4a23-ab58-1d0366fe733d, authorities=[ROLE_PRODUCT_MANAGER], sid=lWVKJz78LB61EvxTwNZcuoSCyX42EqgpEiJaoVsV0g8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b947a7a6-4c3d-47e8-ba75-d74629f3230a], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:25:06.574+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/3/approve
2026-01-02T20:25:06.583+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing PATCH /api/ratings/3/approve
2026-01-02T20:25:06.584+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured PATCH /api/ratings/3/approve
2026-01-02T20:25:06.596+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:24:53Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:54:54Z, iat=2026-01-02T13:24:54Z, nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY, jti=ba120e2b-a0e2-4a23-ab58-1d0366fe733d, authorities=[ROLE_PRODUCT_MANAGER], sid=lWVKJz78LB61EvxTwNZcuoSCyX42EqgpEiJaoVsV0g8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b947a7a6-4c3d-47e8-ba75-d74629f3230a], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:25:06.696+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:25:06.701+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:25:06.771+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:24:53Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:54:54Z, iat=2026-01-02T13:24:54Z, nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY, jti=ba120e2b-a0e2-4a23-ab58-1d0366fe733d, authorities=[ROLE_PRODUCT_MANAGER], sid=lWVKJz78LB61EvxTwNZcuoSCyX42EqgpEiJaoVsV0g8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b947a7a6-4c3d-47e8-ba75-d74629f3230a], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:25:16.143+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:25:16.146+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:25:16.305+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:25:16.733+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:25:16.734+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:25:16.792+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:03.009+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/carts
2026-01-02T20:26:03.021+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:03.021+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/carts
2026-01-02T20:26:05.290+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/genres
2026-01-02T20:26:05.290+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
2026-01-02T20:26:05.292+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/genres
2026-01-02T20:26:05.292+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
2026-01-02T20:26:05.434+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:05.558+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:05.982+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:26:05.982+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:26:05.993+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8936213491361.jpg
2026-01-02T20:26:06.003+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8936213491361.jpg
2026-01-02T20:26:06.025+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8935212349208.jpg
2026-01-02T20:26:06.032+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /images/books/image_195509_1_30127_1.jpg
2026-01-02T20:26:06.037+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8935212368209.jpg
2026-01-02T20:26:06.058+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /images/books/image_195509_1_30127_1.jpg
2026-01-02T20:26:06.069+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8935212368209.jpg
2026-01-02T20:26:06.049+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8935212349208.jpg
2026-01-02T20:26:06.067+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /images/books/8936213491866.jpg
2026-01-02T20:26:06.074+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /images/books/8936213491866.jpg
2026-01-02T20:26:06.147+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.274+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/books/image_217968.jpg
2026-01-02T20:26:06.286+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/books/image_217968.jpg
2026-01-02T20:26:06.291+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.327+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
2026-01-02T20:26:06.340+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
2026-01-02T20:26:06.415+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.432+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.446+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.454+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.483+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
2026-01-02T20:26:06.485+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
2026-01-02T20:26:06.506+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
2026-01-02T20:26:06.509+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
2026-01-02T20:26:06.524+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.526+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.634+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:06.646+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:07.587+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:26:07.591+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:26:07.687+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:26:07.709+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:26:07.711+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:26:07.757+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:27:03.111+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=10&sort=CREATED_AT&order=DESC
2026-01-02T20:27:03.112+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=10&sort=CREATED_AT&order=DESC
2026-01-02T20:27:03.258+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:27:06.263+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:27:06.265+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:27:06.344+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:27:09.281+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC&point=5
2026-01-02T20:27:09.284+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC&point=5
2026-01-02T20:27:09.375+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:27:10.318+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC&point=4
2026-01-02T20:27:10.321+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC&point=4
2026-01-02T20:27:10.398+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:27:11.762+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:27:11.766+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:27:11.856+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:29:25.862+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:29:25.872+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:29:26.168+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:29:26.233+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:29:26.236+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:29:26.287+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:29:48.291+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:29:48.299+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:29:48.497+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:29:48.538+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:29:48.541+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:29:48.594+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:30:16.258+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/0
2026-01-02T20:30:16.321+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/0
2026-01-02T20:30:16.327+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/0
2026-01-02T20:30:16.414+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:30:29.744+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/0
2026-01-02T20:30:29.775+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/0
2026-01-02T20:30:29.780+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/0
2026-01-02T20:30:29.799+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:32:42.587+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:32:42.607+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:32:43.038+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:32:44.504+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:32:44.509+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:32:44.597+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:32:45.701+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:32:45.704+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:32:45.778+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:32:45.918+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:32:45.924+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:32:45.993+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:34:18.067+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/ratings/3
2026-01-02T20:34:18.135+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing DELETE /api/ratings/3
2026-01-02T20:34:18.135+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured DELETE /api/ratings/3
2026-01-02T20:34:18.188+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:34:19.316+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:34:19.326+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:34:19.329+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:34:19.331+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:34:19.500+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:34:19.659+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:34:53.966+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:34:53.968+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/ratings?page=0&size=5&sort=CREATED_AT&order=DESC
2026-01-02T20:34:54.192+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [prodman@bookommerce.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=prodman@bookommerce.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:24:53Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:54:54Z, iat=2026-01-02T13:24:54Z, nonce=rX3AqR97PuCFS7I2lCaw16_iS-6RY6Z5uPSkIaGXuqY, jti=ba120e2b-a0e2-4a23-ab58-1d0366fe733d, authorities=[ROLE_PRODUCT_MANAGER], sid=lWVKJz78LB61EvxTwNZcuoSCyX42EqgpEiJaoVsV0g8}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=b947a7a6-4c3d-47e8-ba75-d74629f3230a], Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-02T20:38:16.154+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:38:16.165+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:38:16.481+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:38:16.558+07:00 ERROR 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://api.bookommerce.com:8383/api/books/45": null] with root cause

java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:202) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:786) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:874) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:210) ~[java.net.http:na]
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:212) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:280) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$2(PlainHttpConnection.java:238) ~[java.net.http:na]
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2026-01-02T20:38:17.089+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-02T20:38:17.098+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2026-01-02T20:38:17.425+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:38:17.588+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:38:17.591+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
2026-01-02T20:38:17.631+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:38:17.643+07:00 ERROR 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://api.bookommerce.com:8383/images/books/4658760b-7502-4022-b337-9926fee60006.jpg": null] with root cause

java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:202) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:786) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:874) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:210) ~[java.net.http:na]
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:212) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:280) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$2(PlainHttpConnection.java:238) ~[java.net.http:na]
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2026-01-02T20:38:17.650+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-02T20:38:17.650+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2026-01-02T20:38:17.669+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:39:00.646+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:39:00.652+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:39:00.733+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:39:00.755+07:00 ERROR 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://api.bookommerce.com:8383/api/books/45": null] with root cause

java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:202) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:786) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:874) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:210) ~[java.net.http:na]
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:212) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:280) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$2(PlainHttpConnection.java:238) ~[java.net.http:na]
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2026-01-02T20:39:00.761+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-02T20:39:00.764+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2026-01-02T20:39:00.783+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:39:18.091+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/books/45
2026-01-02T20:39:18.097+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/books/45
2026-01-02T20:39:18.130+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-02T20:39:18.163+07:00 ERROR 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on GET request for "https://api.bookommerce.com:8383/api/books/45": null] with root cause

java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:202) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:786) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:874) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:210) ~[java.net.http:na]
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571) ~[na:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:212) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:280) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$2(PlainHttpConnection.java:238) ~[java.net.http:na]
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2026-01-02T20:39:18.171+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-02T20:39:18.171+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2026-01-02T20:39:18.256+07:00 DEBUG 13880 --- [be-for-fe] [https-jsse-nio-8181-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [vanh2k3@gmail.com], Granted Authorities: [[OIDC_USER, SCOPE_openid, SCOPE_profile]], User Attributes: [{sub=vanh2k3@gmail.com, aud=[bff], azp=bff, auth_time=2026-01-02T13:22:59Z, iss=https://auth.bookommerce.com:8282, exp=2026-01-02T13:53:00Z, iat=2026-01-02T13:23:00Z, nonce=qThtu851B2FaHBZ0kDpox10AW1mlJppm37OFE0brm0U, jti=1ba485a3-23f7-41d6-840d-f06ca456eef5, authorities=[ROLE_CUSTOMER], sid=ruMy70z8PPL7__F-tzrJCtOjo0GbjWruQ2yjkpWVT4o}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8ea0db40-e5bb-463d-8c17-d6617cf9a6ca], Granted Authorities=[ROLE_CUSTOMER]]]
