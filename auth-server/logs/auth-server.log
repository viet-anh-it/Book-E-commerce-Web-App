2026-01-07T00:01:32.426+07:00 DEBUG 2196 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T00:02:46.760+07:00 DEBUG 2196 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T08:22:05.708+07:00  INFO 17116 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 17116 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T08:22:05.711+07:00  INFO 17116 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T08:22:05.798+07:00  INFO 17116 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T08:22:05.798+07:00  INFO 17116 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T08:22:09.045+07:00  INFO 17116 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T08:22:09.049+07:00  INFO 17116 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T08:22:09.240+07:00  INFO 17116 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 177 ms. Found 6 JPA repository interfaces.
2026-01-07T08:22:09.268+07:00  INFO 17116 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T08:22:09.270+07:00  INFO 17116 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T08:22:09.308+07:00  INFO 17116 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:22:09.309+07:00  INFO 17116 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:22:09.310+07:00  INFO 17116 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:22:09.312+07:00  INFO 17116 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:22:09.313+07:00  INFO 17116 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:22:09.314+07:00  INFO 17116 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:22:09.316+07:00  INFO 17116 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2026-01-07T08:22:11.642+07:00  INFO 17116 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T08:22:11.708+07:00  INFO 17116 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T08:22:11.710+07:00  INFO 17116 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T08:22:11.838+07:00  INFO 17116 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T08:22:11.842+07:00  INFO 17116 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6042 ms
2026-01-07T08:22:12.823+07:00  INFO 17116 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T08:22:13.089+07:00  INFO 17116 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T08:22:13.417+07:00  INFO 17116 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T08:22:14.735+07:00  INFO 17116 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T08:22:14.862+07:00  INFO 17116 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T08:22:15.771+07:00  INFO 17116 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4b62dced
2026-01-07T08:22:15.777+07:00  INFO 17116 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T08:22:15.895+07:00  WARN 17116 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T08:22:15.966+07:00  INFO 17116 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T08:22:18.187+07:00  INFO 17116 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T08:22:18.483+07:00  INFO 17116 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T08:22:19.433+07:00  INFO 17116 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T08:22:20.424+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T08:22:20.427+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T08:22:20.430+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T08:22:20.432+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T08:22:20.435+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T08:22:20.444+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T08:22:20.899+07:00  INFO 17116 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T08:22:21.976+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T08:22:21.991+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T08:22:21.993+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T08:22:21.997+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T08:22:22.006+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T08:22:22.009+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T08:22:22.511+07:00  WARN 17116 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T08:22:24.983+07:00  INFO 17116 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T08:22:25.623+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001e5e0da5088@197d83ea with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T08:22:25.736+07:00 DEBUG 17116 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T08:22:25.763+07:00  INFO 17116 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T08:22:26.494+07:00  WARN 17116 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T08:22:26.708+07:00  INFO 17116 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T08:22:26.739+07:00  INFO 17116 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T08:22:26.776+07:00  INFO 17116 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 22.053 seconds (process running for 23.409)
2026-01-07T08:22:26.922+07:00  INFO 17116 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T08:22:26.923+07:00  INFO 17116 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T08:22:26.927+07:00  INFO 17116 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-07T08:33:51.412+07:00  INFO 8212 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8212 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T08:33:51.414+07:00  INFO 8212 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T08:33:51.480+07:00  INFO 8212 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T08:33:51.480+07:00  INFO 8212 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T08:33:53.615+07:00  INFO 8212 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T08:33:53.647+07:00  INFO 8212 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T08:33:53.863+07:00  INFO 8212 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 195 ms. Found 6 JPA repository interfaces.
2026-01-07T08:33:53.884+07:00  INFO 8212 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T08:33:53.887+07:00  INFO 8212 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T08:33:53.909+07:00  INFO 8212 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:33:53.910+07:00  INFO 8212 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:33:53.911+07:00  INFO 8212 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:33:53.913+07:00  INFO 8212 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:33:53.913+07:00  INFO 8212 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:33:53.914+07:00  INFO 8212 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T08:33:53.914+07:00  INFO 8212 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2026-01-07T08:33:55.446+07:00  INFO 8212 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T08:33:55.499+07:00  INFO 8212 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T08:33:55.509+07:00  INFO 8212 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T08:33:55.607+07:00  INFO 8212 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T08:33:55.609+07:00  INFO 8212 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4128 ms
2026-01-07T08:33:56.763+07:00  INFO 8212 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T08:33:57.063+07:00  INFO 8212 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T08:33:57.209+07:00  INFO 8212 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T08:33:58.200+07:00  INFO 8212 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T08:33:58.352+07:00  INFO 8212 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T08:33:59.055+07:00  INFO 8212 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74e1c1a4
2026-01-07T08:33:59.064+07:00  INFO 8212 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T08:33:59.203+07:00  WARN 8212 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T08:33:59.236+07:00  INFO 8212 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T08:34:01.492+07:00  INFO 8212 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T08:34:01.703+07:00  INFO 8212 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T08:34:02.432+07:00  INFO 8212 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T08:34:03.097+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T08:34:03.101+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T08:34:03.108+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T08:34:03.119+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T08:34:03.125+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T08:34:03.126+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T08:34:03.808+07:00  INFO 8212 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T08:34:04.566+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T08:34:04.567+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T08:34:04.567+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T08:34:04.567+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T08:34:04.567+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T08:34:04.568+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T08:34:04.732+07:00  WARN 8212 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T08:34:06.371+07:00  INFO 8212 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T08:34:07.018+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000014748da3408@6b7d2d28 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T08:34:07.169+07:00 DEBUG 8212 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T08:34:07.202+07:00  INFO 8212 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T08:34:07.940+07:00  INFO 8212 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T08:34:08.116+07:00  INFO 8212 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T08:34:08.149+07:00  INFO 8212 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T08:34:08.201+07:00  INFO 8212 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 17.46 seconds (process running for 18.173)
2026-01-07T08:34:09.553+07:00  INFO 8212 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T08:34:09.554+07:00  INFO 8212 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T08:34:09.556+07:00  INFO 8212 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-07T08:34:44.401+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T08:34:44.429+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-8] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T08:34:44.445+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T08:34:44.446+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 9a9950e0-b32d-4abe-9013-75ba8e296679
2026-01-07T08:34:44.455+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T08:34:44.648+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-01-07T08:34:44.660+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T08:34:44.662+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-01-07T08:35:53.273+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T08:35:53.300+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T08:35:53.304+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T08:35:53.424+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-01-07T08:35:53.461+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T08:35:53.484+07:00 DEBUG 8212 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-01-07T13:32:05.376+07:00  WARN 8212 --- [auth-server] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h25m42s333ms150Âµs300ns).
2026-01-07T13:34:58.851+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19216 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T13:34:58.859+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T13:34:59.045+07:00  INFO 19216 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T13:34:59.051+07:00  INFO 19216 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T13:35:06.973+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T13:35:06.979+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T13:35:07.606+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 582 ms. Found 6 JPA repository interfaces.
2026-01-07T13:35:07.766+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T13:35:07.769+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T13:35:07.901+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:35:07.903+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:35:07.909+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:35:07.914+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:35:07.917+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:35:07.919+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:35:07.920+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 0 Redis repository interfaces.
2026-01-07T13:35:13.842+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T13:35:13.995+07:00  INFO 19216 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T13:35:14.107+07:00  INFO 19216 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T13:35:15.253+07:00  INFO 19216 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T13:35:15.262+07:00  INFO 19216 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 16200 ms
2026-01-07T13:35:17.351+07:00  INFO 19216 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T13:35:17.654+07:00  INFO 19216 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T13:35:17.825+07:00  INFO 19216 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T13:35:19.653+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T13:35:19.905+07:00  INFO 19216 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T13:35:22.312+07:00  INFO 19216 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3cdbb7dc
2026-01-07T13:35:22.321+07:00  INFO 19216 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T13:35:22.721+07:00  WARN 19216 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T13:35:22.831+07:00  INFO 19216 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T13:35:27.083+07:00  INFO 19216 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T13:35:27.471+07:00  INFO 19216 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T13:35:29.006+07:00  INFO 19216 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T13:35:30.499+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T13:35:30.505+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T13:35:30.510+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T13:35:30.513+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T13:35:30.519+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T13:35:30.522+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T13:35:31.622+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T13:35:33.752+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T13:35:33.753+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T13:35:33.754+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T13:35:33.755+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T13:35:33.756+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T13:35:33.758+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T13:35:34.155+07:00  WARN 19216 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T13:35:37.969+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T13:35:39.201+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001b092dadde0@338d6ae7 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T13:35:39.548+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T13:35:39.639+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T13:35:41.096+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T13:35:41.589+07:00  INFO 19216 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T13:35:41.656+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T13:35:41.735+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 44.002 seconds (process running for 45.549)
2026-01-07T13:36:45.110+07:00  INFO 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T13:36:45.110+07:00  INFO 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T13:36:45.123+07:00  INFO 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2026-01-07T13:36:45.225+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T13:36:45.266+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T13:36:45.290+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:36:45.291+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 24e9a6b2-e841-476c-95c8-d2ed9f61745d
2026-01-07T13:36:45.309+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T13:36:45.593+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-07T13:36:45.610+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:36:45.638+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@9ef9b8, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T13:36:45.642+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4da68d66
2026-01-07T13:36:45.645+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T13:36:45.692+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T13:36:45.712+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:36:45.715+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T13:40:09.101+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T13:40:09.127+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:09.131+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T13:40:09.219+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-07T13:40:09.238+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:09.243+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@9ef9b8, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T13:40:09.243+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4da68d66
2026-01-07T13:40:09.246+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T13:40:09.291+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T13:40:09.299+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:09.299+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T13:40:13.368+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T13:40:13.383+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:13.385+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T13:40:13.483+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-07T13:40:13.491+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:13.500+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@9ef9b8, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T13:40:13.504+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4da68d66
2026-01-07T13:40:13.504+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T13:40:13.545+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T13:40:13.558+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:13.564+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T13:40:53.520+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T13:40:53.535+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:53.535+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T13:40:53.632+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-07T13:40:53.644+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:53.649+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@9ef9b8, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T13:40:53.649+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-8] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4da68d66
2026-01-07T13:40:53.649+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T13:40:53.688+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T13:40:53.701+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:40:53.706+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T13:42:16.960+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T13:42:16.995+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:42:17.000+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T13:42:17.116+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T13:42:17.137+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T13:42:17.141+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T13:42:19.092+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T13:42:19.105+07:00 DEBUG 19216 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4352b5c0]
2026-01-07T13:46:15.551+07:00  INFO 19216 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T13:46:15.622+07:00  INFO 19216 --- [auth-server] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T13:46:15.650+07:00  INFO 19216 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T13:46:15.878+07:00  INFO 19216 --- [auth-server] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T13:46:15.934+07:00  INFO 19216 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-07T13:46:15.963+07:00  INFO 19216 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-07T13:46:16.681+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19216 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T13:46:16.682+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T13:46:17.808+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T13:46:17.808+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T13:46:17.863+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 6 JPA repository interfaces.
2026-01-07T13:46:17.868+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T13:46:17.869+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T13:46:17.880+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:46:17.881+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:46:17.882+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:46:17.882+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:46:17.883+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:46:17.883+07:00  INFO 19216 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T13:46:17.883+07:00  INFO 19216 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-01-07T13:46:18.100+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T13:46:18.102+07:00  INFO 19216 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T13:46:18.103+07:00  INFO 19216 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T13:46:18.131+07:00  INFO 19216 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T13:46:18.131+07:00  INFO 19216 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1435 ms
2026-01-07T13:46:18.229+07:00  INFO 19216 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T13:46:18.232+07:00  INFO 19216 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T13:46:18.259+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T13:46:18.262+07:00  INFO 19216 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-07T13:46:18.403+07:00  INFO 19216 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e4d9cc0
2026-01-07T13:46:18.403+07:00  INFO 19216 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-07T13:46:18.407+07:00  WARN 19216 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T13:46:18.407+07:00  INFO 19216 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T13:46:18.709+07:00  INFO 19216 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T13:46:18.873+07:00  INFO 19216 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T13:46:19.053+07:00  INFO 19216 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T13:46:19.134+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T13:46:19.134+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T13:46:19.135+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T13:46:19.135+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T13:46:19.136+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T13:46:19.136+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T13:46:19.212+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T13:46:19.213+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T13:46:19.213+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T13:46:19.213+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T13:46:19.213+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T13:46:19.213+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T13:46:19.243+07:00  WARN 19216 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T13:46:19.474+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T13:46:19.579+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001b092dadde0@6018993f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T13:46:19.616+07:00 DEBUG 19216 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T13:46:19.623+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T13:46:19.883+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T13:46:19.982+07:00  INFO 19216 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T13:46:19.987+07:00  INFO 19216 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T13:46:20.032+07:00  INFO 19216 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 3.44 seconds (process running for 683.847)
2026-01-07T13:46:20.036+07:00  INFO 19216 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T14:07:05.001+07:00  INFO 14516 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 14516 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T14:07:05.008+07:00  INFO 14516 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T14:07:05.107+07:00  INFO 14516 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T14:07:05.109+07:00  INFO 14516 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T14:07:08.539+07:00  INFO 14516 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:07:08.547+07:00  INFO 14516 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T14:07:08.985+07:00  INFO 14516 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 336 ms. Found 6 JPA repository interfaces.
2026-01-07T14:07:09.010+07:00  INFO 14516 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:07:09.013+07:00  INFO 14516 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T14:07:09.058+07:00  INFO 14516 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:07:09.060+07:00  INFO 14516 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:07:09.061+07:00  INFO 14516 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:07:09.064+07:00  INFO 14516 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:07:09.065+07:00  INFO 14516 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:07:09.066+07:00  INFO 14516 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:07:09.068+07:00  INFO 14516 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2026-01-07T14:07:10.463+07:00  INFO 14516 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T14:07:10.498+07:00  INFO 14516 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T14:07:10.499+07:00  INFO 14516 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T14:07:10.597+07:00  INFO 14516 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T14:07:10.598+07:00  INFO 14516 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5488 ms
2026-01-07T14:07:11.865+07:00  INFO 14516 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T14:07:12.129+07:00  INFO 14516 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T14:07:12.301+07:00  INFO 14516 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T14:07:13.098+07:00  INFO 14516 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T14:07:13.158+07:00  INFO 14516 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T14:07:14.017+07:00  INFO 14516 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@634a4772
2026-01-07T14:07:14.020+07:00  INFO 14516 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T14:07:14.190+07:00  WARN 14516 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T14:07:14.246+07:00  INFO 14516 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T14:07:15.895+07:00  INFO 14516 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T14:07:16.172+07:00  INFO 14516 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T14:07:16.899+07:00  INFO 14516 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T14:07:17.573+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:07:17.575+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:07:17.576+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:07:17.577+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:07:17.579+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:07:17.582+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:07:17.973+07:00  INFO 14516 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T14:07:18.595+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:07:18.596+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:07:18.597+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:07:18.597+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:07:18.597+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:07:18.598+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:07:18.840+07:00  WARN 14516 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T14:07:20.504+07:00  INFO 14516 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T14:07:21.072+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027299da7d70@fc63767 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T14:07:21.180+07:00 DEBUG 14516 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T14:07:21.205+07:00  INFO 14516 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T14:07:21.927+07:00  INFO 14516 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T14:07:21.941+07:00  INFO 14516 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T14:07:21.942+07:00  INFO 14516 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T14:07:21.949+07:00  INFO 14516 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2026-01-07T14:07:22.224+07:00  INFO 14516 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T14:07:22.290+07:00  INFO 14516 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T14:07:22.307+07:00  INFO 14516 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 18.154 seconds (process running for 20.07)
2026-01-07T14:29:06.970+07:00  INFO 19160 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19160 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T14:29:06.974+07:00  INFO 19160 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T14:29:07.054+07:00  INFO 19160 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T14:29:07.055+07:00  INFO 19160 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T14:29:10.972+07:00  INFO 19160 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:29:10.976+07:00  INFO 19160 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T14:29:11.319+07:00  INFO 19160 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 323 ms. Found 6 JPA repository interfaces.
2026-01-07T14:29:11.374+07:00  INFO 19160 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:29:11.378+07:00  INFO 19160 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T14:29:11.429+07:00  INFO 19160 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:29:11.434+07:00  INFO 19160 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:29:11.435+07:00  INFO 19160 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:29:11.437+07:00  INFO 19160 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:29:11.437+07:00  INFO 19160 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:29:11.438+07:00  INFO 19160 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:29:11.439+07:00  INFO 19160 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2026-01-07T14:29:14.736+07:00  INFO 19160 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T14:29:14.759+07:00  INFO 19160 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T14:29:14.763+07:00  INFO 19160 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T14:29:14.876+07:00  INFO 19160 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T14:29:14.879+07:00  INFO 19160 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7823 ms
2026-01-07T14:29:15.652+07:00  INFO 19160 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T14:29:15.769+07:00  INFO 19160 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T14:29:15.853+07:00  INFO 19160 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T14:29:17.131+07:00  INFO 19160 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T14:29:17.269+07:00  INFO 19160 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T14:29:18.449+07:00  INFO 19160 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c4a51df
2026-01-07T14:29:18.455+07:00  INFO 19160 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T14:29:18.670+07:00  WARN 19160 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T14:29:18.762+07:00  INFO 19160 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T14:29:20.415+07:00  INFO 19160 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T14:29:20.728+07:00  INFO 19160 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T14:29:21.342+07:00  INFO 19160 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T14:29:21.936+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:29:21.938+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:29:21.941+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:29:21.942+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:29:21.943+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:29:21.944+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:29:22.405+07:00  INFO 19160 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T14:29:23.113+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:29:23.114+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:29:23.114+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:29:23.114+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:29:23.115+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:29:23.115+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:29:23.826+07:00  WARN 19160 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T14:29:28.572+07:00  INFO 19160 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T14:29:30.110+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000261d9db1e48@6ab0cde0 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T14:29:30.377+07:00 DEBUG 19160 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T14:29:30.442+07:00  INFO 19160 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T14:29:31.287+07:00  INFO 19160 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T14:29:31.506+07:00  INFO 19160 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T14:29:31.553+07:00  INFO 19160 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T14:29:31.565+07:00  INFO 19160 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 26.694 seconds (process running for 30.362)
2026-01-07T14:29:31.624+07:00  INFO 19160 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T14:29:31.625+07:00  INFO 19160 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T14:29:31.628+07:00  INFO 19160 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-07T14:30:24.509+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T14:30:24.567+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T14:30:24.599+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T14:30:24.604+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5cdbe1f5-cb13-4f48-8621-257714a2da3a
2026-01-07T14:30:24.627+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T14:30:24.959+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T14:30:24.973+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T14:30:24.983+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T14:30:26.112+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T14:30:26.122+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3e5e59c5]
2026-01-07T14:34:58.240+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T14:34:58.264+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T14:34:58.289+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:34:58.336+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T14:34:58.344+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T14:34:58.499+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T14:34:58.501+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@22666c80]
2026-01-07T14:36:47.333+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=F42_HjHQyNdQuY8mUhsCMksNzYFtu5w8hR8e5V_o7Zg%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=j7tCpXXuZNh8vLNUnR8cJRdGujYDT_GV0wzurse2eWY
2026-01-07T14:36:47.439+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:36:47.915+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 63ef2b73-db21-47c2-817a-8c1acc2a64a8, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T14:36:47.918+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=Ia-f8byXJuK_qGxJMEj6M79yjlqN1_AocrjOAH5Gdr5db7wI2sbhMVeynXDyUlOEyOHrAgEY-THcMuETEIn4N5aLNpHBFHRO3nf0quKFxh6jbDVlFjSYuW24uvqeL9m3&state=F42_HjHQyNdQuY8mUhsCMksNzYFtu5w8hR8e5V_o7Zg%3D
2026-01-07T14:36:48.098+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:36:48.741+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTQwOCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc0MDgsImlhdCI6MTc2Nzc3MTQwOCwianRpIjoiNGNlNmYwOGEtZjU2Ny00ZmNhLWExMzgtNTQ2MWUyN2I0YzQ4IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.JMQTF4lERTquq8q7MLYcIEENRJ_8ELii4TxfyU2X2mswJoVsVZuRprCsu2ojX7oFOzWQndYio3AW5NFjzB_dJMXQKh22vlqqnwAplxBsL-RRreOCWCjqiM2p6QQzC_UZ6SVIWWYJMmI5jD5d_7hvLAdgdv6Pk1UuCL8Tw7MtOhgp-17rwsXfOhcq39BT_wH5HmtAuKXp68jZ9ssLGbxeTZ2GyZZ-NOJYyhetas-cSXdyi22yW2hLZA0TPMavDzSr9owOtoCmOmx8GNVWznz-9AbvJ5WZ08I18ZleujW9EY6ONW3N4PU9lMgP-IpX3kenEtwS3EkvUExkH-yHs5KLQw
2026-01-07T14:36:48.742+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTQwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczMjA4LCJpYXQiOjE3Njc3NzE0MDgsIm5vbmNlIjoiajd0Q3BYWHVaTmg4dkxOVW5SOGNKUmRHdWpZRFRfR1Ywd3p1cnNlMmVXWSIsImp0aSI6ImRlOTg5ZTA2LTRhM2EtNDA3ZS05ZWRhLWQ4YWEyOTAwNDhlMCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibW9mOFoxMlZOQVNPTGp1SDBHZlJpOFNySS1xVDdmaGxvNkxOaGpnSkxuYyJ9.mbIbAUio69YzM3c1RDNmF4sei9HS1AQUc_exbfPKcmUwN8R4z0aBXHNi8BAE9QIDv8aQ6xNu5ghPYdkKfnxP3f2tbyI2avJW09D5CxWjMkgZt-5jxMQ2yrVa-eJr4-On_2HsIwfVhTqG--9WWvcH6rKEmVLp2lqLBgsYw6gFuHfiqnJnKa_RCIDHvYxJIqYZ-STs1Jri0b7j8dz26Sv-hk4VZMPgd1TKaO8-NqebZwrnczlewZ3_HgUk9OmP54EtY4bl8nHdGRzk5-OOIWCVOqkTE-C-YmLpsssa-ABPuCVzZSW_o-6hiHu4sZe9m9QBNjXVwvrz_ROODWMEwezvGg
2026-01-07T14:36:48.743+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: hzQCmaCDWQdJAxjBikr2R4tkH550RoYwLSuroPwr3vhnfpF19Lssy93AlORiHEdXJMOoiynkt0IQSllJRzSAyuG0OzLo_qkxgcbNrZA4xSoTBtxwxSEl3gc132CqMd6G
2026-01-07T14:36:48.944+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T14:36:48.984+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:36:49.013+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:36:49.015+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@bb9196ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:37:06.546+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=5Nk0h6bwx2n08-4J99WS3NqOI2i_HO-WlYuS3XWmF_o%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=epNLDJACySfhdXrTSyMbihx14S6L08oDtj3USqtaxyg
2026-01-07T14:37:06.555+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:37:06.587+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=pHcuJNYOzCYLWLYTM51wbG-BINgy1uO1IMTyRm6oNGmny9aU9o60ndIYyFV4JvpGH31URcKiDyHGCniL6HoILvPFAsEhVGwCijyrtrlF7R9DUhxnsDRz1SsOO2OdX5pE&state=5Nk0h6bwx2n08-4J99WS3NqOI2i_HO-WlYuS3XWmF_o%3D
2026-01-07T14:37:06.626+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:37:07.016+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTQyNiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc0MjYsImlhdCI6MTc2Nzc3MTQyNiwianRpIjoiNzdhMjY1NTUtMTQzYS00NzFjLTg0OTEtMTNlZjBiOTI1YzU3IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.QpWNlKXm5r5rCq1BpGosBOWEBI_sbuJkniCrvYsctUmJi_lAa0J2fadHIICUHvYv8aUMdI4k5xz4k3Kw1yD-o1s1r43U0KvPj1ao-Yo4gUliB7Ro3QVjzqXiglkMgmZlJtI7ULcV8I8hcWICmDcsfTky6MgowTDTWN222jdI62WVPfiomAfCEa_TGdii-zudIp-nU7i3jGiGJ-JM0IdMxqz-fEFD2Df8m-pgNTwSdmu37MvsKoud2Zp3GS5VTrrejXrcgsCmSijjAxd_ufnPgifuHn3pD31qBLfq56lkJgRhaA7O7_cS0Wfv9C64bO-D7WipJGqT0IHMrNh9fOrIAA
2026-01-07T14:37:07.018+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTQwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczMjI2LCJpYXQiOjE3Njc3NzE0MjYsIm5vbmNlIjoiZXBOTERKQUN5U2ZoZFhyVFN5TWJpaHgxNFM2TDA4b0R0ajNVU3F0YXh5ZyIsImp0aSI6Ijc1NWQ1YTVhLWEyYTQtNDI2ZC1iOWZmLWRmMzI5NjBlYjc1OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibW9mOFoxMlZOQVNPTGp1SDBHZlJpOFNySS1xVDdmaGxvNkxOaGpnSkxuYyJ9.EpsugW0nyeZllFmpvHLcPG6Gi0pL7QTXgWDuAKh2gKhESuAxpxg9igyFnF5cpYqhLCI75n1cMJpWBmo0JhElQ1VGU6_ZUUiGLTGx6D_TDMeNSvK5Vo1MIqNFVULcjo-0nzWFPiPTbQi3U_Fe4cynzduid7spnQG14-lEN_aHsC7GHqi8wC0un4RE4jAev4lggbOJfZkIFnAEhrxRM4P33Ysh02y2yh-H_XtuEZM8q6by7mHpkBYFqxaUqvdmZXH1q5roqX7KuA7eGqUfLA1dBBtF2o1pIJTzCUEHbmBNT6_cGJc5HkwIiV9IkyeopWdTkNh1lTLemKzQTik6kIu1Tg
2026-01-07T14:37:07.018+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: rv1RaZIsRoMo6u60HOerVShAXSHaQCvrDUNqAaT4pDSOBTInFygB04yJghi2Lx_90ss0nxrZ9rfICM2LnHtRvbmcPFO84R23OghLlfQM6KZnvThMVNtv2FTSuLU1t_zk
2026-01-07T14:37:07.027+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:37:07.033+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:37:07.036+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9380ded0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:37:14.507+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=qTE0v52k88pEgimfbWMQKH6x2tpmi_aOTItKKMVbTUY%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=cIgFpI3_79te0WdPaGxCMGq9cX_-AMacoSC2JcRDKHw
2026-01-07T14:37:14.514+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:37:14.540+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=s2GvbiL_GbCKvz1MldFh4guAHSC9wr7AErsWPSz-AzDDbpN0fEDoFrDO-t0E9v9B94cgHPWtxwsRFAhp_gBqPDON2TfGjQM8R9QtvYK4s7FfapjrZkPefMrmZxD2zU1X&state=qTE0v52k88pEgimfbWMQKH6x2tpmi_aOTItKKMVbTUY%3D
2026-01-07T14:37:14.582+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:37:15.092+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTQzNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc0MzUsImlhdCI6MTc2Nzc3MTQzNSwianRpIjoiMzU2YTIzODYtMzA5ZC00OTMzLTk2YTUtZTJiZWQyZDQxYWVlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.JR3WWQwAbup2NCg_8mpGXGcdnB1S_lXjDwQE9JJbW0S0HtFdwQ09qIvyV9jrzKUOQfPlTloZzYn8AL-mRMH-RPaTzmgl3ekuUuv6nqWCMpRWvnD7jcjVtpotFqxPnTGodFYOlsuXeIz45nDDEC9gQfc3lrrelegMkTjm9KjZp2HcmZK7o7eR3YbuOaFY0PATF3LeHMKKxFoEWUpTXGnHUvjUVTfkiOf66b1vw1eJZT07QCxAh17X9RlgQ8f99iLqH-KTV6cIn3hrGXPmfqfZaIwG_pJLyDmpqquUagIhPE1wQFyYm88_Jv4LRaMQxCvzwe2lQYW3hZ54pB8bU6r4hw
2026-01-07T14:37:15.093+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTQwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczMjM1LCJpYXQiOjE3Njc3NzE0MzUsIm5vbmNlIjoiY0lnRnBJM183OXRlMFdkUGFHeENNR3E5Y1hfLUFNYWNvU0MySmNSREtIdyIsImp0aSI6ImI4YTI2YmQzLTE5ZGItNDU2Zi04MDNiLTA5Zjk4MWM3OWQ3YyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibW9mOFoxMlZOQVNPTGp1SDBHZlJpOFNySS1xVDdmaGxvNkxOaGpnSkxuYyJ9.WhutDU_lUSYFO9SKN9m3hK8LKjVu8a1hnXXvlRsLGCj0QwNgsOQuXEJV4lQtqBK1z00qZnLXj7G9shw9t0rK4BlfSnPKZfweU4hPZrR6izN8MPM3WJZQBTCEpog5qjtzw4a4NCnXQxVLYJ4pAjHGcrkdhHE8THuB3ztFPTlt3gRnkpt7Y3ohb8YQ44BSr0_NtyHYDMifxeGz0-uuzCup7doC9L3A7WqEEivdM0kYmIIX6XXz4_RTgnx91aQuaDrrxmlzlXDQ0ZhZZbfE2h4P7iTlsU5s4-dMjJGqazi9ogWci8ydn_AvKuDNYp8iLtjm9SIS6OZhhpx0CUx3t82IFw
2026-01-07T14:37:15.094+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: bepek5914bJcHC42oJ0nEBNcVH4luhcnxmy-hMArHwHR4hlC5yAcEw1qweHUmDSwPCtfsyaesnP_PIjIq-RadACYRzdJSYbXnzzkCC-wIzdg8AYl6I_y1wQ9PvtTNQn1
2026-01-07T14:37:15.105+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:37:15.110+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:37:15.111+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f4bcb0cd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:38:17.213+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=m6sIQqktqNzgWz9jhn0lP-7qfTjC-PbXv_7QgVsSfow%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=ONZoz_G3nv7OzXXyR42H9eQs5NjCpZmRGIhsTabtnZs
2026-01-07T14:38:17.218+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:38:17.249+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=DphTirJ2dgpuhhFbvXKP15AZggDngc47E5qDY0P4mwXxrJDgc4929WAReegxUhc3ZuXvaJ_Hp3hnkILj6RQINn_rXJjgMSpl_WBRyWDLwdHfk7mpxLekj1_sLaI-bEdY&state=m6sIQqktqNzgWz9jhn0lP-7qfTjC-PbXv_7QgVsSfow%3D
2026-01-07T14:38:17.300+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:38:17.779+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTQ5Nywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc0OTcsImlhdCI6MTc2Nzc3MTQ5NywianRpIjoiNzZkN2Y1ODktYTQzZi00ZmVlLWI1OGItYTNjYjdkYTM3NTY5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.onBvhqOIfNuIPQOH-JfJ3KME8C9665ef6oJBi6Le18x7mOxrfh7QV2kbwn8pNNvJUi_aK5jZiAsCEk2hd2mKtzKr2MPmlKSRG58957Vl-hKI_2-29xUdLHmn2hx4zhvSwMWzRkBz60R-IQoRd0cBxIWcZt4vONyPvpl2QA2WUWuU6oZhT94GTHBFe5ILYuTVUVyZdNQKq88Yjw-naTfOi1epFmdi7lTN4Oy7WxEq7X5bgN02x-DsOEOebtHA0K7BB48TJ-203wORQrCTxElshyRosfSrdRmw1wy8z3eXSajjfVb57DIc8m4WkdHfQ3hd3N8KvM6rRC2FtTcDrEESMg
2026-01-07T14:38:17.780+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTQwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczMjk3LCJpYXQiOjE3Njc3NzE0OTcsIm5vbmNlIjoiT05ab3pfRzNudjdPelhYeVI0Mkg5ZVFzNU5qQ3BabVJHSWhzVGFidG5acyIsImp0aSI6IjQ2OGE5Y2VmLTRmMmEtNGY3YS1iYjI0LTEzNGI1MzYwYWJkMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibW9mOFoxMlZOQVNPTGp1SDBHZlJpOFNySS1xVDdmaGxvNkxOaGpnSkxuYyJ9.agT78Z5cxeHHUuzroJ1nDjE5nIqkRpftJA3VmE1yZ5O-7s50lypPOSqEu8YZIRYjtwHLypY7IJBo5Uibxf3fLrmr-Lyt4cYbXArYhBLvV1Yi1gMKtLLSZxe0V3ffTF1q9fyWIupJcHpK-jBh3Wsx41vTa9z6iUJH4V9om1BMuhS_8vYAAVili8O80npoNdmgSUhmtGknj8RmddJY20Bgp_E18jorND4AyXWxYG_vGuvMR4chQW6gk64VngazmJS-xevre-nwgFNSQj1JeA_JJ3l-M4q22DwvkM2fnJAsW-EBVhQyHMV0GDoNIkQfdaf9xgb0m1oikx5zahp6DvpU6g
2026-01-07T14:38:17.780+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: svipH_wh3Z6LwV-u1eeu88c_LsWQ4cwQbuEW9RhISX3xCRTV-Gl3yRn4q5PtKWqhGs44PgABfe0qN5xyVFLkk37z7_VOSWEngb-P6-aCEY7y77TyVb9RWLFwV8NTR-l-
2026-01-07T14:38:17.792+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:38:17.797+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:38:17.797+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@15e36c28, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:38:40.075+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=BAPA70R_xvrq57M7QpdQeBDXMddo4Otf1jJL_T8_aHc%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=R_Yp0bWjD2JONux5mZ_jb3Bh0i-1P4PuzqwuMZWl3gg
2026-01-07T14:38:40.081+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:38:40.108+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=zUiTBspCpQ0AUZSx7_Pq1l1SL3y0e6cDT0f3ynyM1-FZVxW-ky3xi0y-iAVCTTtrOssGpIZuIHpttXWUNDGSQfNdrWFOVWXEOxZOvBlARgBY2YyedZ6Q89lYmKJk1Pij&state=BAPA70R_xvrq57M7QpdQeBDXMddo4Otf1jJL_T8_aHc%3D
2026-01-07T14:38:40.139+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:38:40.618+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTUyMCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc1MjAsImlhdCI6MTc2Nzc3MTUyMCwianRpIjoiNTEwYzY0YTQtMTc4ZC00ODkyLThhNmUtOTExYmNmZWQ4NDVlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.J2gcqa-Zc452Jnt7MV8N7WpObQ5lCWk36yyYhBXgl_Tej5o-4x3R_oMoSM29AYNW_EKvUEmHT4Wkaf3yB7wm1divntVUc9U2nqVWaqFeC2ITWUUC9Gz0I7d67OP6q6k6ZdGLKZpoA1CFxrxc2Vin3pU8ZWNHB_b0bsYby5Q697N6uItks6Q_CaAegJ0syvs1CZp4Pi9NLr56TjKkIRJgb934orZS2QKKVMgPXIhdbVamXK8XhN--5K_BwVVwoPFFSGhz1x6T3DzpKqMdIqYCEWXY_3uzwFQ28bB_RhNoBOj6dIijyvYUrczbjfausO3yAdRA8T_4SS2C2ObHA2tZow
2026-01-07T14:38:40.619+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTQwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczMzIwLCJpYXQiOjE3Njc3NzE1MjAsIm5vbmNlIjoiUl9ZcDBiV2pEMkpPTnV4NW1aX2piM0JoMGktMVA0UHV6cXd1TVpXbDNnZyIsImp0aSI6IjAyZmI2NTBlLWJjZTItNDk5Zi1iMTdhLTBkNDIxNjdlYjYzMiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibW9mOFoxMlZOQVNPTGp1SDBHZlJpOFNySS1xVDdmaGxvNkxOaGpnSkxuYyJ9.dhup9FDKm7dW2nEkJ-rFxrAPuT82rGHp1U1D8fsNpdiIJqMxloYDMZoycfBBJOQqDnDZ-rVnxaIamjy-cbWThQu9a3ZIOY3YflpcotgstHvrsf7W6AQJcxVVGYcACzpLccreL84GbE7na_V92LoAmCYgpp8QwQ-JS8mxoLo_3iUBuizov9kvpoIjEYUX5FvRAlpReleV3lUgBltr8CCPOMzLUrMv2Gv8vjO2hHl41DaOvd5onv1kDFb6-p6t4oXpE04odFy0aCZqeQy-UylmAbShjGSxqbG0gyl5oAtzif69PrcBb5dWC9lEPPMLomD2Jyyalw4_HuGr5ipQRZTafw
2026-01-07T14:38:40.619+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: -2OIACITjjUIbWthaNtB7T0LY5xmzqanpTFHRqpzqoo4DbNLW9UpEuQhGbO5tfmttPxNRX8NdgEvjrVSovffJvDR_sn9O-0yeA9L5ftRb98mVgpMOlyRxPpGySHbDGi0
2026-01-07T14:38:40.627+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:38:40.631+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:38:40.632+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@ef8f781f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:38:42.243+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=hrQYVr6KdgNVQ-MsgSPy0sha0s04ZDI63UqbsFUeMNM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=RAqugqWF7WpIkioIEBPbjzBT1tyeZljaH1DIENBIVuQ
2026-01-07T14:38:42.249+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:38:42.282+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=TchkkUlXUxHHEQ5bipUfCXsrGTVRjKnLmmv0HDB7Rg9kcOJco35YrHQIzwn0KYCC2NqMDqCWesujsNTrNGdVjP5pvbWkRJAR37hxRb0KsFJNrk6Tnmc8bxC94rtqTRmU&state=hrQYVr6KdgNVQ-MsgSPy0sha0s04ZDI63UqbsFUeMNM%3D
2026-01-07T14:38:42.315+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:38:42.756+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTUyMiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc1MjIsImlhdCI6MTc2Nzc3MTUyMiwianRpIjoiMWY4MzUzYTgtOGNiYi00YWYzLWE4MDktZGFmMzYwNTc0YzQzIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.COemJzkmtMWUyDywFbtWohlGlZoBKMl6pdcKwe-ursmmu9OAOW7rJXzkQ_sU6UOHgYeeoIFd82eCLuhy_eImf4yxFxpHmljvEqcBYQhWCgWEsKf3qiqi1iTCPYBhliWqcqCyHaFr45m4ytn-E5a3HuAfRusd-nlr9RJFhheswyS0RoncUw1uKIEZscRvOkhLYvJGRcE44UoN25hPOhbJI7_HiZseHjUdV5K6w5WFFEftft7lNWHmHrerSgHpvxXRWu_nxyqGKcUCyeyM4H4fyG086mUsHpgxD68Ri4LaVYJuuP-9r3IImUoQY8AqN65hOvpTR0WOMxQhEf9q_jY9-A
2026-01-07T14:38:42.756+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTQwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczMzIyLCJpYXQiOjE3Njc3NzE1MjIsIm5vbmNlIjoiUkFxdWdxV0Y3V3BJa2lvSUVCUGJqekJUMXR5ZVpsamFIMURJRU5CSVZ1USIsImp0aSI6IjI5NmM1NWE2LTczMzEtNDJiNS04ZDYwLTgwZGJiNjdjN2ExZiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibW9mOFoxMlZOQVNPTGp1SDBHZlJpOFNySS1xVDdmaGxvNkxOaGpnSkxuYyJ9.HAAvRwWgMQBXcUMMlu41EJkJg_IDkOlVjOpfx-8R8LrQu6lmvrENvOlwAJdqnFlWpjukTEEhntf55xvODitoNNmp8R1dclM4KG_cI3M-NpA9lU4yh8IYim6rnFU6J_VuCCGs_dLyL9fu06P-5AKR_lcI3U_OfCKdn49aQsPca3iJczhjF3KG3mV8N2jnU_XzeLa42AiVDabpvCLakiMBfjH5STj6dbBAfPZZmd_Mj2NWW0CMl9iXbA-Ive9QIWnLiuwz4n-CQPbhBsRKonEocxB9MMmTBIbAF5K0BUFT64p9YPEY07fpCXyCVk0y7h-szGxS4Ensq5Ydk3C46kZpTw
2026-01-07T14:38:42.756+07:00  INFO 19160 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: aijgIKcyj6J4xB2g_ZCCgvKiSgGLcAwHMJNe15AHb2jAKnx0v8EBYtNHdphrshnzPmsOH8jRhrRZWXCgk1xPkui57wWfPRDBVWySI__hdtGCp0tiRwzrvuZ2xuCRJVLB
2026-01-07T14:38:42.764+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:38:42.766+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:38:42.767+07:00 DEBUG 19160 --- [auth-server] [https-jsse-nio-8282-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d121b70d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:41:55.378+07:00  INFO 20952 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 20952 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T14:41:55.382+07:00  INFO 20952 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T14:41:55.458+07:00  INFO 20952 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T14:41:55.458+07:00  INFO 20952 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T14:41:58.711+07:00  INFO 20952 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:41:58.715+07:00  INFO 20952 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T14:41:58.972+07:00  INFO 20952 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 244 ms. Found 6 JPA repository interfaces.
2026-01-07T14:41:58.998+07:00  INFO 20952 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:41:59.001+07:00  INFO 20952 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T14:41:59.034+07:00  INFO 20952 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:41:59.034+07:00  INFO 20952 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:41:59.035+07:00  INFO 20952 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:41:59.037+07:00  INFO 20952 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:41:59.038+07:00  INFO 20952 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:41:59.040+07:00  INFO 20952 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:41:59.040+07:00  INFO 20952 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2026-01-07T14:42:01.196+07:00  INFO 20952 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T14:42:01.259+07:00  INFO 20952 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T14:42:01.280+07:00  INFO 20952 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T14:42:01.407+07:00  INFO 20952 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T14:42:01.414+07:00  INFO 20952 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5956 ms
2026-01-07T14:42:02.318+07:00  INFO 20952 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T14:42:02.469+07:00  INFO 20952 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T14:42:02.577+07:00  INFO 20952 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T14:42:03.086+07:00  INFO 20952 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T14:42:03.160+07:00  INFO 20952 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T14:42:03.574+07:00  INFO 20952 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@341f41b5
2026-01-07T14:42:03.579+07:00  INFO 20952 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T14:42:03.661+07:00  WARN 20952 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T14:42:03.772+07:00  INFO 20952 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T14:42:05.776+07:00  INFO 20952 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T14:42:05.940+07:00  INFO 20952 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T14:42:06.608+07:00  INFO 20952 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T14:42:07.599+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:42:07.601+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:42:07.606+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:42:07.609+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:42:07.613+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:42:07.617+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:42:08.214+07:00  INFO 20952 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T14:42:09.042+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:42:09.043+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:42:09.043+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:42:09.045+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:42:09.047+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:42:09.048+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:42:09.176+07:00  WARN 20952 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T14:42:10.234+07:00  INFO 20952 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T14:42:10.544+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a0dbda59b8@69004e83 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T14:42:10.614+07:00 DEBUG 20952 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T14:42:10.641+07:00  INFO 20952 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T14:42:11.115+07:00  WARN 20952 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T14:42:11.254+07:00  INFO 20952 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T14:42:11.271+07:00  INFO 20952 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T14:42:11.287+07:00  INFO 20952 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 16.809 seconds (process running for 17.799)
2026-01-07T14:42:13.087+07:00  INFO 20952 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T14:42:13.087+07:00  INFO 20952 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T14:42:13.089+07:00  INFO 20952 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-07T14:42:41.825+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T14:42:41.833+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-2] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T14:42:41.850+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T14:42:41.861+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T14:42:42.006+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T14:42:42.019+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T14:42:42.026+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T14:42:42.485+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T14:42:42.489+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6a0273d9]
2026-01-07T14:42:55.852+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=pLFgoCsSn7818fI0lDjEzQjQ3AdXbtfaA6Br1wTbRWM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=tYfPJvqCqAJJwtz8K4vPTHp761D-nNK-OKfcdljoSAQ
2026-01-07T14:42:55.874+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:42:56.053+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.core.session.SessionRegistryImpl   : Registering session aafde409-f820-40a7-b254-ea95ce227089, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T14:42:56.054+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=teMpDXMdQxDO5YkvDHSbw4ZlVmGZ9TFGcZorJcAtYr-gJfrrlQuX78vtJqkmggOU55GchGTImdkvDSRMRk5b-SvqusB38qSefoCbEaVKwZfdkKUsYVj8KLBEx8thoxsB&state=pLFgoCsSn7818fI0lDjEzQjQ3AdXbtfaA6Br1wTbRWM%3D
2026-01-07T14:42:56.264+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:42:56.760+07:00  INFO 20952 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MTc3Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDc3NzYsImlhdCI6MTc2Nzc3MTc3NiwianRpIjoiOGI3NjE0NDktZjM1ZS00NjE2LWI2MWQtMzI4MGQ5YjU0NDFlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.wAfxVn7XJZ7Ce8ut8laIvDiHHoUjODWgTe5r2THWHSHTf1ZsKBG5qxeu2w2yCpt0buAlq8MbwBrCPrWJMET-nKm57J8T2xnoOnAh5FFfneIXW9OHi24zcstEgm8jIvz6GDvl8YGOMNkmZOf4OmkpuAlFMZFRlQR3VOnXi1sXiGx5Z72EJo2UFjv-OM7TAelb7WvMBfdSb-NmjmoSwLpwsU_l1AT-VIhtrMhSwwD1xdA86_QensHLDc1R-YAR_QD2Z2j-91hsvBAKYvU9KquvwFUgtHoU34FMt_yxghs6Hx2F9MxY69-gSvDcM-aOjWDSfGRn-V5qDQX5CDZcDRUERg
2026-01-07T14:42:56.760+07:00  INFO 20952 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MTc3NiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzczNTc2LCJpYXQiOjE3Njc3NzE3NzYsIm5vbmNlIjoidFlmUEp2cUNxQUpKd3R6OEs0dlBUSHA3NjFELW5OSy1PS2ZjZGxqb1NBUSIsImp0aSI6IjI5OWYzNzFkLWI2M2YtNGEwMi1hYjJjLTc2Yjk5ZGU4NDY1NCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoibGFIMjRTcEF4VFdzanpXZ0pGc0xoVUt5ek9OVFRkZGtpSjJadkMxQWZscyJ9.IZwUluMCBGzdo6S3QxTWrNZMKJAjVLahYOjbxvlEtUyYykj2RHnSqkQP0BTYqRWRxkXgarsICMEa04Ful12PwoLhs1YJn_bEMaS_63gID5lxslpII_qZ-VcE0Mk5e2xzsnrjMZlzQ1E8zVIJICCTA_mUQ0N1h6hwubedQfXS3cokE3AceoAZNQXy2C6h5i8tFMA8IO_LIGb5eGyEjm7oFpMlI8AIMd4_mO4E4NoNmGPSPDa47L-W_hr8vEFRgqMkViT9JJez7jwIJYPzIwNAzeya_EMGcEHS1OlfDny_Gcor-x0OxbylNldynkaI0zaxfGYCtOsrQLNsMSeka4SOxQ
2026-01-07T14:42:56.761+07:00  INFO 20952 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: XxxHR6C0Bu-WjKYi4b9e9ukMl8ZutkPek3xRuC0JLhWwqyUKQ7mzGYcXPsX8mIm9nKYetZMz-trDkDkSonfw0Z95o0aRs7PDIKjNeGXcVYCcSwTf5pTO8YDYisJGp7ER
2026-01-07T14:42:56.904+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T14:42:56.933+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:42:56.954+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:42:56.956+07:00 DEBUG 20952 --- [auth-server] [https-jsse-nio-8282-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3a4a2ee8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T14:43:41.593+07:00  INFO 22188 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 22188 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T14:43:41.597+07:00  INFO 22188 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T14:43:41.794+07:00  INFO 22188 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T14:43:41.795+07:00  INFO 22188 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T14:43:45.447+07:00  INFO 22188 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:43:45.455+07:00  INFO 22188 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T14:43:45.792+07:00  INFO 22188 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 315 ms. Found 6 JPA repository interfaces.
2026-01-07T14:43:45.825+07:00  INFO 22188 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T14:43:45.827+07:00  INFO 22188 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T14:43:45.863+07:00  INFO 22188 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:43:45.865+07:00  INFO 22188 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:43:45.866+07:00  INFO 22188 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:43:45.867+07:00  INFO 22188 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:43:45.868+07:00  INFO 22188 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:43:45.869+07:00  INFO 22188 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T14:43:45.871+07:00  INFO 22188 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2026-01-07T14:43:48.397+07:00  INFO 22188 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T14:43:48.462+07:00  INFO 22188 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T14:43:48.469+07:00  INFO 22188 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T14:43:48.628+07:00  INFO 22188 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T14:43:48.629+07:00  INFO 22188 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6832 ms
2026-01-07T14:43:50.133+07:00  INFO 22188 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T14:43:50.325+07:00  INFO 22188 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T14:43:50.426+07:00  INFO 22188 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T14:43:51.033+07:00  INFO 22188 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T14:43:51.136+07:00  INFO 22188 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T14:43:52.822+07:00  INFO 22188 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@437b8413
2026-01-07T14:43:52.828+07:00  INFO 22188 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T14:43:52.980+07:00  WARN 22188 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T14:43:53.026+07:00  INFO 22188 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T14:43:55.419+07:00  INFO 22188 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T14:43:55.657+07:00  INFO 22188 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T14:43:56.271+07:00  INFO 22188 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T14:43:57.596+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:43:57.603+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:43:57.617+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:43:57.627+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:43:57.635+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:43:57.688+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:43:58.629+07:00  INFO 22188 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T14:44:00.210+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T14:44:00.216+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T14:44:00.220+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T14:44:00.268+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T14:44:00.278+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T14:44:00.293+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T14:44:01.263+07:00  WARN 22188 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T14:44:03.882+07:00  INFO 22188 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T14:44:04.641+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002a41fda3628@331e4e31 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T14:44:04.764+07:00 DEBUG 22188 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T14:44:04.796+07:00  INFO 22188 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T14:44:05.519+07:00  WARN 22188 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T14:44:05.686+07:00  INFO 22188 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T14:44:05.709+07:00  INFO 22188 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T14:44:05.752+07:00  INFO 22188 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 24.839 seconds (process running for 25.76)
2026-01-07T14:44:06.174+07:00  INFO 22188 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T14:44:06.174+07:00  INFO 22188 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T14:44:06.181+07:00  INFO 22188 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2026-01-07T14:56:46.244+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T14:56:46.256+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-6] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T14:56:46.268+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T14:56:46.278+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T14:56:46.421+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T14:56:46.436+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T14:56:46.437+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T14:56:46.990+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T14:56:46.994+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7cb450ae]
2026-01-07T14:56:54.363+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=EIXxrzzIOoICjjrdDCKXFsjRSfQUp4AwxxcCoR-zP9g%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=jZJajRyd4vmu6CJ2NwOUQumjHHq3pSLOzUTuPV_q1qA
2026-01-07T14:56:54.385+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T14:56:54.595+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session d02cdb8e-cf47-4dea-bd5e-c4c371600d4a, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T14:56:54.596+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=jycO9D1f10lsiaM9OzT_oYWvUJg_DwLo6GySiiF5ckc-azbEu4w7B9llWgPtRCv679NddKNFcvMuD-Na7YusdCSsmlue0lTgdHXp0ot-C1vwR22TW45pCKMgn5FM04vy&state=EIXxrzzIOoICjjrdDCKXFsjRSfQUp4AwxxcCoR-zP9g%3D
2026-01-07T14:56:54.852+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T14:56:55.428+07:00  INFO 22188 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MjYxNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDg2MTUsImlhdCI6MTc2Nzc3MjYxNSwianRpIjoiZmJkYWU2NGUtZGNhOC00ODQ4LWJiOWEtOGE4ZjdjODI4MzAzIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.QOyOmAPJtQNyiKfw1IQGv57iAKEAuosXVXeeTzztyg9XhRL4OJ-El7d8I4MYIZeo1BQgOGm0qFCS0nr8tpZs_hSa3z4J5q9RDQdSrUPlkN_a37-vu1yD2Kd8fdnPVkoxGNbADxz3YITC1lP7kzaWPbytMlCZM6EvOc7ZNwi7jlA0XgfelClcYw_Q4iIXN_51SNHw9eGZo6Yo1ArMXbD36mvbyHSZk3R66SlesqDYEZ8C7NOx212cwfUK-iQA1y3jviRxVbDtendPe4tWPV-ITBOel4NsGFW0wfAVxrUMSApycPt9CnjwdxP5tUl0m4Ph0DqHTlGVImdgy1I8UDpO9A
2026-01-07T14:56:55.429+07:00  INFO 22188 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MjYxNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzc0NDE1LCJpYXQiOjE3Njc3NzI2MTUsIm5vbmNlIjoialpKYWpSeWQ0dm11NkNKMk53T1VRdW1qSEhxM3BTTE96VVR1UFZfcTFxQSIsImp0aSI6Ijg5NmYwNDk0LTBjZDQtNDM3ZS04NzI1LTRhYzM5MjY4ZDYwMCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoicDY4UFFaT3UzMmtSRzc3cTg1TmtTUmpOU1FVRXd5M0Nfd2x2alZ6ZzQzdyJ9.rl-LzS7AnTqueQsVX3zYXFRa-hSdiJnH5e6KB8WU-hPx86iSeeALxRBPgoVCzKYkWF3O8BR4o_jL2FJcGKgV4n_LCuOFHk2paJ1Sl4IlfcW7L_Qhbg99pMo7qumU_ibeL5TC9jBnE8RIxdgGOWmFkag2_9duBuMQe51aXOFj7QtmYrvtWe5vPVydhU3yfqaFXUxZaQEAMLQYzFrXoDY6McIaYi1QwnFBpNi0wFts6I0TCtH3-y1LTmREorTSeX-TfE5gQGFMdPtIqBgADXwKwd0IxHebOkBtTICEp_StZbYQt28Az7uc97PiYeDFscLdPESDc-oS3BbpO_JCsM4flg
2026-01-07T14:56:55.429+07:00  INFO 22188 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: kFUtjq5M_yS6frF_6lEK6tgdw49vi2-Q8FflCejxz4GoMDHnK8n7F4Qwu8kbts40Cy9q1tvgSaPTnfEAnS3Bu8EODfU9scYFSd0ZUB5SYFg3RGiyR9jyRdaqxgH8z8Jy
2026-01-07T14:56:55.682+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T14:56:55.717+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T14:56:55.739+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T14:56:55.741+07:00 DEBUG 22188 --- [auth-server] [https-jsse-nio-8282-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f9bdb744, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T15:13:21.316+07:00  INFO 12568 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 12568 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T15:13:21.320+07:00  INFO 12568 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T15:13:21.418+07:00  INFO 12568 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T15:13:21.419+07:00  INFO 12568 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T15:13:27.839+07:00  INFO 12568 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:13:27.846+07:00  INFO 12568 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T15:13:28.340+07:00  INFO 12568 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 471 ms. Found 6 JPA repository interfaces.
2026-01-07T15:13:28.382+07:00  INFO 12568 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:13:28.385+07:00  INFO 12568 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T15:13:28.445+07:00  INFO 12568 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:13:28.447+07:00  INFO 12568 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:13:28.454+07:00  INFO 12568 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:13:28.464+07:00  INFO 12568 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:13:28.468+07:00  INFO 12568 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:13:28.469+07:00  INFO 12568 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:13:28.472+07:00  INFO 12568 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 0 Redis repository interfaces.
2026-01-07T15:13:31.318+07:00  INFO 12568 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T15:13:31.382+07:00  INFO 12568 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T15:13:31.398+07:00  INFO 12568 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T15:13:31.644+07:00  INFO 12568 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T15:13:31.645+07:00  INFO 12568 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10225 ms
2026-01-07T15:13:32.323+07:00  INFO 12568 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T15:13:32.444+07:00  INFO 12568 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T15:13:32.522+07:00  INFO 12568 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T15:13:33.096+07:00  INFO 12568 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T15:13:33.167+07:00  INFO 12568 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T15:13:33.936+07:00  INFO 12568 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3ca733ca
2026-01-07T15:13:33.957+07:00  INFO 12568 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T15:13:34.192+07:00  WARN 12568 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T15:13:34.241+07:00  INFO 12568 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T15:13:37.430+07:00  INFO 12568 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T15:13:37.626+07:00  INFO 12568 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T15:13:39.694+07:00  INFO 12568 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T15:13:41.476+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:13:41.498+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:13:41.523+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:13:41.543+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:13:41.581+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:13:41.612+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:13:42.788+07:00  INFO 12568 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T15:13:43.939+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:13:43.940+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:13:43.941+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:13:43.943+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:13:43.943+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:13:43.944+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:13:44.089+07:00  WARN 12568 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T15:13:45.884+07:00  INFO 12568 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T15:13:46.567+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ce01da3628@3fdd7a8b with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T15:13:46.679+07:00 DEBUG 12568 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T15:13:46.713+07:00  INFO 12568 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T15:13:47.424+07:00  WARN 12568 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T15:13:47.609+07:00  INFO 12568 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T15:13:47.631+07:00  INFO 12568 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T15:13:47.669+07:00  INFO 12568 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 27.36 seconds (process running for 28.859)
2026-01-07T15:13:48.687+07:00  INFO 12568 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T15:13:48.689+07:00  INFO 12568 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T15:13:48.692+07:00  INFO 12568 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-07T15:14:12.892+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T15:14:12.904+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T15:14:12.919+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:14:12.929+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T15:14:13.065+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T15:14:13.077+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:14:13.079+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T15:14:13.193+07:00  WARN 12568 --- [auth-server] [https-jsse-nio-8282-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public java.lang.String com.bookommerce.auth_server.controller.AuthController.login(com.bookommerce.auth_server.dto.request.LoginRequestDto,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse) with 2 errors: [Field error in object 'loginRequestDto' on field 'password': rejected value [null]; codes [NotBlank.loginRequestDto.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.password,password]; arguments []; default message [password]]; default message [1:Password must not be blank]] [Field error in object 'loginRequestDto' on field 'email': rejected value [null]; codes [NotBlank.loginRequestDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.email,email]; arguments []; default message [email]]; default message [1:Email must not be blank]] ]
2026-01-07T15:15:01.626+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T15:15:01.633+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:15:01.634+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T15:15:01.688+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T15:15:01.698+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:15:01.699+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T15:15:02.054+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T15:15:02.056+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@68647186]
2026-01-07T15:15:02.335+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=QOK2Y8AfzzFP2TtWtW3KiEIAgS7RUnxf1K-oGCAm6Ik%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=tLGJf58k3NXCGsm5A2B3f6sc0S1GJLfs3Wij3T5sUHc
2026-01-07T15:15:02.363+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T15:15:02.579+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session b4e7b4c0-52f4-4857-907a-aaa299182602, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T15:15:02.581+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=Fmg1WuDBmdc18VQ5cW_grV4f-QS0DHUxC7WYJ-h1FFbKWrBZX-Z30DmFtu-bqh8BnqzcdhZA_XfZ6YkVj3uEGK9PAA-f-_7Udn_0pVFN9CBDHMtHvdN9MTXnEArMuWlf&state=QOK2Y8AfzzFP2TtWtW3KiEIAgS7RUnxf1K-oGCAm6Ik%3D
2026-01-07T15:15:02.748+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T15:15:03.251+07:00  INFO 12568 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3MzcwMywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMDk3MDMsImlhdCI6MTc2Nzc3MzcwMywianRpIjoiOTc1Njc5NGYtNTkyZS00YjA3LTg5ZTktNGJkZjA4ZWMyMzA3IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.QchwPg9VDxfWfJEH9awVX3w5PTlkoB9jk2CXD4sRsyHrygx9oaTS6rDgoXTDxmOmd5QLdWY-GpsxO7XSiVEwp3QGhM20-abj9FcU7zyKy_GwwALlmDcc9etg7Yit7AAT1pG3ZU9kITIqb78phib6627nW_IYbWFPHQ9H2IAEQaDpvLKus5YJvtT6ZZxsN-jrGnGwceSjHhmJZi4PcGV086nf5Qzp9soeP5jc-gethFtb-qs-MN6uC8J7a6tn6m0B5QDML_azdY8ZZZCiTL6pLxyIdKixaZDu-Zs9UeLf1OwxWtMXeHSZAK_FdFYNiArjnsZyyx6P4zgzjOW83W-YYw
2026-01-07T15:15:03.252+07:00  INFO 12568 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3MzcwMiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzc1NTAzLCJpYXQiOjE3Njc3NzM3MDMsIm5vbmNlIjoidExHSmY1OGszTlhDR3NtNUEyQjNmNnNjMFMxR0pMZnMzV2lqM1Q1c1VIYyIsImp0aSI6IjFkNmUwMGQwLTlmYjUtNDJlOC1iZmExLTUyZjk2YjZhMjljMiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoienh3dEF6aTM1X0RYR2N5RTVFenpGbkpUZzZkTEd2cXVHd2pmRmF4TEhtRSJ9.j0FU4_q4WHGkc1IzNtNHLRix7FJ8wZmgbqHOLaw1FGdGEn1mk65hcx3Yg09ObRhnCw2gwiUMrDYfo0ThEwjjujNgPfYP97mRlCduCxaiFXtWgutKWu4fozkMnjprM1W3kVTyqGsaAfJvEDWY1yWklYpFJB57uDZ_ywdfZD0WNyWVm2bLOqWA5Uaot7VEc2pgWoD45AePKo5Fekxxn97-B-DpTnxAvWc8ndcIp4ufCmLUXgRG9kaFrzrQ7ndMihIzh1Rwjv7_W1yJEYrXt9XFgT5d4dITOMI_Cnqj35rx2VQB8X0VgqFhbBqeZwfzZJvNLVvnvHNxKZRJ13FenlTgLg
2026-01-07T15:15:03.252+07:00  INFO 12568 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: LXs3pa3AwJeiac_isp27fnv9elNZddgDFWywR8Do_DGtSNDzOFkjOseteXolh-qvA8XuF3XEc_2XkkVewZ19Uyn2QY3p2wsp2a6pCLs5-kF6b8P7Y2gBzr9Z3IEoq5Mn
2026-01-07T15:15:03.397+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T15:15:03.433+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T15:15:03.456+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T15:15:03.457+07:00 DEBUG 12568 --- [auth-server] [https-jsse-nio-8282-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6c355366, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T15:31:22.119+07:00  INFO 19020 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19020 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T15:31:22.125+07:00  INFO 19020 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T15:31:22.209+07:00  INFO 19020 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T15:31:22.209+07:00  INFO 19020 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T15:31:24.201+07:00  INFO 19020 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:31:24.203+07:00  INFO 19020 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T15:31:24.371+07:00  INFO 19020 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 155 ms. Found 6 JPA repository interfaces.
2026-01-07T15:31:24.390+07:00  INFO 19020 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:31:24.392+07:00  INFO 19020 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T15:31:24.412+07:00  INFO 19020 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:31:24.412+07:00  INFO 19020 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:31:24.413+07:00  INFO 19020 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:31:24.414+07:00  INFO 19020 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:31:24.415+07:00  INFO 19020 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:31:24.415+07:00  INFO 19020 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:31:24.415+07:00  INFO 19020 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2026-01-07T15:31:25.505+07:00  INFO 19020 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T15:31:25.528+07:00  INFO 19020 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T15:31:25.529+07:00  INFO 19020 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T15:31:25.607+07:00  INFO 19020 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T15:31:25.608+07:00  INFO 19020 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3398 ms
2026-01-07T15:31:25.986+07:00  INFO 19020 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T15:31:26.069+07:00  INFO 19020 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T15:31:26.139+07:00  INFO 19020 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T15:31:26.521+07:00  INFO 19020 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T15:31:26.574+07:00  INFO 19020 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T15:31:27.304+07:00  INFO 19020 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3d585e78
2026-01-07T15:31:27.307+07:00  INFO 19020 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T15:31:27.408+07:00  WARN 19020 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T15:31:27.432+07:00  INFO 19020 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T15:31:28.612+07:00  INFO 19020 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T15:31:28.740+07:00  INFO 19020 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T15:31:29.191+07:00  INFO 19020 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T15:31:29.645+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:31:29.647+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:31:29.648+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:31:29.649+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:31:29.649+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:31:29.650+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:31:29.964+07:00  INFO 19020 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T15:31:30.489+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:31:30.489+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:31:30.489+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:31:30.489+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:31:30.490+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:31:30.490+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:31:30.584+07:00  WARN 19020 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T15:31:31.801+07:00  INFO 19020 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T15:31:32.156+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000189dfda1e48@6ebfa30 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T15:31:32.242+07:00 DEBUG 19020 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T15:31:32.265+07:00  INFO 19020 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T15:31:32.721+07:00  INFO 19020 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T15:31:32.844+07:00  INFO 19020 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T15:31:32.868+07:00  INFO 19020 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T15:31:32.891+07:00  INFO 19020 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 11.49 seconds (process running for 12.289)
2026-01-07T15:31:34.010+07:00  INFO 19020 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T15:31:34.010+07:00  INFO 19020 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T15:31:34.010+07:00  INFO 19020 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-01-07T15:31:38.323+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/openid-configuration
2026-01-07T15:31:38.610+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2026-01-07T15:31:38.644+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T15:31:38.652+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:31:38.653+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 4798e613-96e6-4d5f-a30b-8e8714f97fba
2026-01-07T15:31:38.696+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@7614c9cd, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T15:31:38.709+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@26211fb6
2026-01-07T15:31:38.717+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T15:31:38.793+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T15:31:38.800+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:31:38.806+07:00 DEBUG 19020 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T15:36:04.209+07:00  INFO 19408 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19408 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T15:36:04.211+07:00  INFO 19408 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T15:36:04.274+07:00  INFO 19408 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T15:36:04.275+07:00  INFO 19408 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T15:36:06.048+07:00  INFO 19408 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:36:06.052+07:00  INFO 19408 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T15:36:06.222+07:00  INFO 19408 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 6 JPA repository interfaces.
2026-01-07T15:36:06.244+07:00  INFO 19408 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:36:06.246+07:00  INFO 19408 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T15:36:06.268+07:00  INFO 19408 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:36:06.269+07:00  INFO 19408 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:36:06.269+07:00  INFO 19408 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:36:06.271+07:00  INFO 19408 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:36:06.272+07:00  INFO 19408 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:36:06.272+07:00  INFO 19408 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:36:06.273+07:00  INFO 19408 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2026-01-07T15:36:07.321+07:00  INFO 19408 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T15:36:07.350+07:00  INFO 19408 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T15:36:07.350+07:00  INFO 19408 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T15:36:07.415+07:00  INFO 19408 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T15:36:07.416+07:00  INFO 19408 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3140 ms
2026-01-07T15:36:07.764+07:00  INFO 19408 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T15:36:07.835+07:00  INFO 19408 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T15:36:07.891+07:00  INFO 19408 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T15:36:08.229+07:00  INFO 19408 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T15:36:08.268+07:00  INFO 19408 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T15:36:08.758+07:00  INFO 19408 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fbe3de9
2026-01-07T15:36:08.761+07:00  INFO 19408 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T15:36:08.846+07:00  WARN 19408 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T15:36:08.890+07:00  INFO 19408 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T15:36:10.372+07:00  INFO 19408 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T15:36:10.481+07:00  INFO 19408 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T15:36:10.922+07:00  INFO 19408 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T15:36:11.435+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:36:11.436+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:36:11.437+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:36:11.438+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:36:11.439+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:36:11.440+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:36:11.720+07:00  INFO 19408 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T15:36:12.306+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:36:12.307+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:36:12.308+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:36:12.308+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:36:12.309+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:36:12.309+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:36:12.421+07:00  WARN 19408 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T15:36:13.431+07:00  INFO 19408 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T15:36:13.908+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000023cc4da8000@2a6c0cb with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T15:36:13.992+07:00 DEBUG 19408 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T15:36:14.023+07:00  INFO 19408 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T15:36:14.437+07:00  INFO 19408 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T15:36:14.567+07:00  INFO 19408 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T15:36:14.584+07:00  INFO 19408 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T15:36:14.604+07:00  INFO 19408 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 10.973 seconds (process running for 11.748)
2026-01-07T15:36:15.950+07:00  INFO 19408 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T15:36:15.951+07:00  INFO 19408 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T15:36:15.953+07:00  INFO 19408 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-07T15:36:35.760+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client&scope=openid%20profile&redirect_uri=%2F
2026-01-07T15:36:35.985+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2AuthorizationCodeRequestAuthenticationProvider since OAuth 2.0 Parameter: client_id
2026-01-07T15:36:35.989+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2026-01-07T15:36:35.990+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T15:36:36.014+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=client&scope=openid%20profile&redirect_uri=%2F
2026-01-07T15:36:36.025+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:36:36.043+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=client&scope=openid%20profile&redirect_uri=%2F
2026-01-07T15:37:03.535+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T15:37:03.567+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T15:37:03.621+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T15:37:03.661+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T15:37:03.668+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T15:37:04.165+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T15:37:04.170+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@53461d40]
2026-01-07T15:37:20.277+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=%2F
2026-01-07T15:37:20.428+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2AuthorizationCodeRequestAuthenticationProvider since OAuth 2.0 Parameter: redirect_uri
2026-01-07T15:37:20.428+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2026-01-07T15:37:20.428+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T15:37:20.432+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=%2F
2026-01-07T15:37:20.439+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:37:20.441+07:00 DEBUG 19408 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=%2F
2026-01-07T15:38:55.427+07:00  INFO 14420 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 14420 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T15:38:55.429+07:00  INFO 14420 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T15:38:55.496+07:00  INFO 14420 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T15:38:55.497+07:00  INFO 14420 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T15:38:57.115+07:00  INFO 14420 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:38:57.121+07:00  INFO 14420 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T15:38:57.278+07:00  INFO 14420 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 144 ms. Found 6 JPA repository interfaces.
2026-01-07T15:38:57.296+07:00  INFO 14420 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T15:38:57.299+07:00  INFO 14420 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T15:38:57.327+07:00  INFO 14420 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:38:57.331+07:00  INFO 14420 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:38:57.335+07:00  INFO 14420 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:38:57.340+07:00  INFO 14420 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:38:57.341+07:00  INFO 14420 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:38:57.342+07:00  INFO 14420 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T15:38:57.342+07:00  INFO 14420 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2026-01-07T15:38:58.699+07:00  INFO 14420 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T15:38:58.742+07:00  INFO 14420 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T15:38:58.744+07:00  INFO 14420 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T15:38:58.840+07:00  INFO 14420 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T15:38:58.842+07:00  INFO 14420 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3343 ms
2026-01-07T15:38:59.192+07:00  INFO 14420 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T15:38:59.278+07:00  INFO 14420 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T15:38:59.325+07:00  INFO 14420 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T15:38:59.657+07:00  INFO 14420 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T15:38:59.725+07:00  INFO 14420 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T15:39:00.146+07:00  INFO 14420 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7716ef84
2026-01-07T15:39:00.149+07:00  INFO 14420 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T15:39:00.217+07:00  WARN 14420 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T15:39:00.246+07:00  INFO 14420 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T15:39:01.625+07:00  INFO 14420 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T15:39:01.733+07:00  INFO 14420 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T15:39:02.177+07:00  INFO 14420 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T15:39:02.642+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:39:02.644+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:39:02.646+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:39:02.647+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:39:02.650+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:39:02.653+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:39:02.938+07:00  INFO 14420 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T15:39:03.428+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T15:39:03.428+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T15:39:03.428+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T15:39:03.429+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T15:39:03.429+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T15:39:03.429+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T15:39:03.531+07:00  WARN 14420 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T15:39:04.486+07:00  INFO 14420 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T15:39:05.039+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000013381da31d0@6bab5451 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T15:39:05.127+07:00 DEBUG 14420 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T15:39:05.148+07:00  INFO 14420 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T15:39:05.543+07:00  INFO 14420 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T15:39:05.664+07:00  INFO 14420 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T15:39:05.696+07:00  INFO 14420 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T15:39:05.738+07:00  INFO 14420 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 10.912 seconds (process running for 11.53)
2026-01-07T15:39:07.275+07:00  INFO 14420 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T15:39:07.276+07:00  INFO 14420 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T15:39:07.277+07:00  INFO 14420 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-07T15:39:24.698+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T15:39:24.903+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:39:24.919+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff&continue to session
2026-01-07T15:39:24.921+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T15:39:24.976+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T15:39:24.985+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:39:24.990+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T15:39:49.219+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T15:39:49.232+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:39:49.233+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T15:39:49.428+07:00  WARN 14420 --- [auth-server] [https-jsse-nio-8282-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public java.lang.String com.bookommerce.auth_server.controller.AuthController.login(com.bookommerce.auth_server.dto.request.LoginRequestDto,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse) with 2 errors: [Field error in object 'loginRequestDto' on field 'password': rejected value [null]; codes [NotBlank.loginRequestDto.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.password,password]; arguments []; default message [password]]; default message [1:Password must not be blank]] [Field error in object 'loginRequestDto' on field 'email': rejected value [null]; codes [NotBlank.loginRequestDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.email,email]; arguments []; default message [email]]; default message [1:Email must not be blank]] ]
2026-01-07T15:40:28.160+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T15:40:28.177+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2AuthorizationCodeRequestAuthenticationProvider since OAuth 2.0 Parameter: redirect_uri
2026-01-07T15:40:28.182+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.server.authorization.authentication.OAuth2AuthorizationCodeRequestAuthenticationException
2026-01-07T15:40:28.182+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T15:40:28.241+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T15:40:28.246+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:40:28.251+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T15:40:28.455+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2026-01-07T15:40:28.463+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:40:28.467+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@22bb45a2, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T15:40:28.468+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2c099b4f
2026-01-07T15:40:28.469+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T15:40:28.497+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T15:40:28.501+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T15:40:28.502+07:00 DEBUG 14420 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T16:15:56.157+07:00  INFO 16776 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 16776 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T16:15:56.160+07:00  INFO 16776 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T16:15:56.236+07:00  INFO 16776 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T16:15:56.236+07:00  INFO 16776 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T16:15:59.004+07:00  INFO 16776 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T16:15:59.009+07:00  INFO 16776 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T16:15:59.389+07:00  INFO 16776 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 354 ms. Found 6 JPA repository interfaces.
2026-01-07T16:15:59.432+07:00  INFO 16776 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T16:15:59.436+07:00  INFO 16776 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T16:15:59.489+07:00  INFO 16776 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:15:59.491+07:00  INFO 16776 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:15:59.492+07:00  INFO 16776 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:15:59.494+07:00  INFO 16776 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:15:59.495+07:00  INFO 16776 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:15:59.496+07:00  INFO 16776 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:15:59.496+07:00  INFO 16776 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2026-01-07T16:16:01.094+07:00  INFO 16776 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T16:16:01.131+07:00  INFO 16776 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T16:16:01.132+07:00  INFO 16776 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T16:16:01.216+07:00  INFO 16776 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T16:16:01.217+07:00  INFO 16776 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4979 ms
2026-01-07T16:16:01.792+07:00  INFO 16776 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T16:16:01.926+07:00  INFO 16776 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T16:16:02.010+07:00  INFO 16776 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T16:16:02.570+07:00  INFO 16776 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T16:16:02.642+07:00  INFO 16776 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T16:16:03.435+07:00  INFO 16776 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74bc95a4
2026-01-07T16:16:03.442+07:00  INFO 16776 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T16:16:03.605+07:00  WARN 16776 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T16:16:03.656+07:00  INFO 16776 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T16:16:05.603+07:00  INFO 16776 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T16:16:05.826+07:00  INFO 16776 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T16:16:06.402+07:00  INFO 16776 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T16:16:07.141+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T16:16:07.145+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T16:16:07.146+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T16:16:07.147+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T16:16:07.148+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T16:16:07.149+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T16:16:07.619+07:00  INFO 16776 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T16:16:08.515+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T16:16:08.515+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T16:16:08.515+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T16:16:08.515+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T16:16:08.516+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T16:16:08.516+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T16:16:08.691+07:00  WARN 16776 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T16:16:10.443+07:00  INFO 16776 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T16:16:11.106+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027401daa4c8@787e45e2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T16:16:11.251+07:00 DEBUG 16776 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T16:16:11.286+07:00  INFO 16776 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T16:16:11.984+07:00  INFO 16776 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T16:16:12.225+07:00  INFO 16776 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T16:16:12.270+07:00  INFO 16776 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T16:16:12.315+07:00  INFO 16776 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 17.073 seconds (process running for 17.865)
2026-01-07T16:16:13.993+07:00  INFO 16776 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T16:16:13.994+07:00  INFO 16776 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T16:16:13.996+07:00  INFO 16776 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-07T16:31:48.134+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T16:31:48.195+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-4] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T16:31:48.264+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T16:31:48.304+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T16:31:48.791+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T16:31:48.842+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T16:31:48.845+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T16:31:50.420+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T16:31:50.428+07:00 DEBUG 16776 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2a533a8c]
2026-01-07T16:35:44.375+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 18728 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T16:35:44.380+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T16:35:44.498+07:00  INFO 18728 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T16:35:44.502+07:00  INFO 18728 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T16:35:47.386+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T16:35:47.389+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T16:35:47.718+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 308 ms. Found 6 JPA repository interfaces.
2026-01-07T16:35:47.759+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T16:35:47.762+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T16:35:47.806+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:35:47.808+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:35:47.810+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:35:47.814+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:35:47.815+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:35:47.816+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:35:47.816+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2026-01-07T16:35:49.893+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T16:35:49.954+07:00  INFO 18728 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T16:35:49.959+07:00  INFO 18728 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T16:35:50.117+07:00  INFO 18728 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T16:35:50.118+07:00  INFO 18728 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5613 ms
2026-01-07T16:35:51.161+07:00  INFO 18728 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T16:35:51.334+07:00  INFO 18728 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T16:35:51.458+07:00  INFO 18728 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T16:35:52.240+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T16:35:52.312+07:00  INFO 18728 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T16:35:53.297+07:00  INFO 18728 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33974de
2026-01-07T16:35:53.302+07:00  INFO 18728 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T16:35:53.462+07:00  WARN 18728 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T16:35:53.590+07:00  INFO 18728 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T16:35:56.026+07:00  INFO 18728 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T16:35:56.215+07:00  INFO 18728 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T16:35:57.167+07:00  INFO 18728 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T16:35:57.791+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T16:35:57.797+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T16:35:57.800+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T16:35:57.802+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T16:35:57.804+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T16:35:57.805+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T16:35:58.211+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T16:35:59.294+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T16:35:59.295+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T16:35:59.296+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T16:35:59.296+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T16:35:59.297+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T16:35:59.298+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T16:35:59.454+07:00  WARN 18728 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T16:36:01.102+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T16:36:01.826+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca82da6478@7c26b623 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T16:36:01.974+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T16:36:02.011+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T16:36:02.845+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T16:36:03.109+07:00  INFO 18728 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T16:36:03.141+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T16:36:03.180+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 19.65 seconds (process running for 20.922)
2026-01-07T16:36:27.075+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T16:36:27.075+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T16:36:27.084+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2026-01-07T16:36:27.181+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /csrf
2026-01-07T16:36:27.332+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /csrf
2026-01-07T16:36:27.546+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T16:36:27.618+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T16:36:27.636+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T16:36:28.586+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T16:36:28.597+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6736ed8f]
2026-01-07T16:36:29.586+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=mg73N6T9IjkcqwtSHX5ff24-Vise6jvbOhzkGD_IEj0%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=yPnpHvHnH_NXzNJNHz0kvQQONpc4UQfH4wixrc2sSkc
2026-01-07T16:36:29.641+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T16:36:30.130+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 104c4bd7-fc32-44ea-8cce-43c7e1059f75, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T16:36:30.137+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=VCoY7DGqTkss8TU6J6WkOuQ2J73a6l6Jerb1_t4D7j9HoT-b8oq59_2PF0jZ_3KiyEjj0zLyra_6QCqQdCDt3koDu9eTY30O1lC9g7WmvKqi_pieatzeskvxMRE2Jckw&state=mg73N6T9IjkcqwtSHX5ff24-Vise6jvbOhzkGD_IEj0%3D
2026-01-07T16:36:30.542+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:36:32.018+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3ODU5MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTQ1OTEsImlhdCI6MTc2Nzc3ODU5MSwianRpIjoiY2YxOTc4OTYtOGE4My00MDI3LWIxOTktYzkyNTk2Zjc2NTliIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.g-3XbpSafoBUyAcA1xSu3_0MChOIXG1u-oy65OLBPKW4N9kob-GT5HflLpKzA94sb8qXaUyi7U8XxWvhbf4ra9qaYB_RKbl_5E_mlDiNBf1r36OYL9w20i54_PBd7Ub6karzUj5OYIWT2LB_SyEdoUDk1g1oi0KUGwT4bct2hJhvi9g4PaB79_MZ3vqXIiCWn-OnZb-Hl9XqXtmNcEKTrgY6TrVgLB5tYlIjbovH9vcCyBndgrLiW2AIxqA2t838ahK4lz2uRZNcYY0LCLbZYUcUnU8FdMeZwtAeWIjGBCQgSGDxp6Q3nNvXT3xMXQJwwFLjzaAz_89V0NtBRiPRFA
2026-01-07T16:36:32.018+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODU5MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwMzkxLCJpYXQiOjE3Njc3Nzg1OTEsIm5vbmNlIjoieVBucEh2SG5IX05Yek5KTkh6MGt2UVFPTnBjNFVRZkg0d2l4cmMyc1NrYyIsImp0aSI6IjgxNDFhNzQ4LTQwZWMtNDg3NS1iNWIzLTNjOTMwZGM5OWNkZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiNFFLdjNETE52Z0F5VHZhWVhnNTcxTVNXQUJsQ3ZPNFB1MHVabWFkRFFLcyJ9.ZPRMeSrnk8Q1YCt4TP8ADbdFLpjZoPT2t2fMX0GQJdSI_iMzmPcqgdQMAcrCP1HTl0vTbSLJJEYBeiVx2fZ_a6X4e2xQQMNWEGLGoumnNWbQpNKE2rvppR9feGyCrMRfGyzKulP0IqcRoEo8NDQfbZrxrC_KPCoWWwPRSTSBTNDwMkrtlHpzp2xc_9ozd3XsPJUusUEzJVKooxBq8OJ8IVd78qOkonyJxBgnQFPcecCu34HJwa2f8BKIF8A5wZKdqmWlVNsvHMY4u9Rv1VJNV13KleX0fI3qVvC_piX66fC6nK5CmuJIcx5A-sifSjJqPaQq8T4_juqIkeCl1PL_RQ
2026-01-07T16:36:32.018+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: -I-Pox2Ec1JpUt0F-5_IMy052Mh36OjK8cFDh8NxSN0V2yaONI6EUBj4Z5ICEz_IIkrPSvk9Uf8mWxGVZdnVYsKmq5QmhyC13nxp4reyuOs5Q_WtCOVXDj2T_n4FMMEw
2026-01-07T16:36:32.419+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T16:36:32.484+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T16:36:32.535+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T16:36:32.541+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3b71d8b9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T16:39:20.631+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T16:39:20.666+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T16:39:20.700+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff&continue to session
2026-01-07T16:39:20.700+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T16:39:20.791+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T16:39:20.805+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T16:39:20.807+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T16:39:39.609+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T16:39:39.626+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T16:39:39.629+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T16:39:39.884+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T16:39:39.884+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@784cd7c2]
2026-01-07T16:39:41.098+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Dsd0iLnu0Ah0JYMQLHkr7KYLOxh8pSgFjDeeEh7cyCk%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=osVV5MkCeDS918egnLU2Fv5Bk0kwf6oN8eR6m4geV4M
2026-01-07T16:39:41.115+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T16:39:41.178+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session 498d389a-e83f-4391-8a60-43b9c60ddf97, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T16:39:41.179+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=qFtKksfFTXQulizoaSfg12SZk9wolJPMV5KGlrKY-rwkaDA3Zvv2416yl9Q5F2K8zHau0nLBHaY-V50-lN50-dpki2T0N2Bsc1D3z99GD6m5hUvh7uQArspsXZgxeH6C&state=Dsd0iLnu0Ah0JYMQLHkr7KYLOxh8pSgFjDeeEh7cyCk%3D
2026-01-07T16:39:41.911+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:39:43.035+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3ODc4Miwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTQ3ODIsImlhdCI6MTc2Nzc3ODc4MiwianRpIjoiYjQwNGNlZTUtNDBjOC00YTViLWE3MDktNGZlZGZlMzExNDQ3IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.heQv5la3rOHW26LOdtIvSMmmvbqUoq5lYe1mWVHUbdTIjTOPPh6I79h4FeKxP7GBw7qQOMeZPRFPu1CeSM6wdfhAgOrXIQNmVhcZQ1BMPP_TMY3RGj7RbHnwm-WBI4zsHnoj2LB7Ylb7f6f-1OOLYfWOEiryIV_1npPDCfnX33FecK_hXm0HZnKsgHn-crVg4YvZIV7ZVbFsfboH0sq6mXvY9lAmWl_aDo0uHMIzVERUXzgLCC82ntlR2QCo3v4GX9SqV2YptM4GkwLlw3Gg0FDZ2IBxA6GDi2Y3zuSCnXcVYrHJwXl7C8IWmdyzKu4SPGheGQMs9nc1jDwyJOigvA
2026-01-07T16:39:43.036+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwNTgyLCJpYXQiOjE3Njc3Nzg3ODIsIm5vbmNlIjoib3NWVjVNa0NlRFM5MThlZ25MVTJGdjVCazBrd2Y2b044ZVI2bTRnZVY0TSIsImp0aSI6IjYzOThlNTUzLTZiNDMtNDc4MC05NzVkLWU5ZTAyYjY4YWNhOCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.kGbg6ZStOk1_PgwW4IWnadcAmLJMwpcNqqo1Az7Aftr0HgE_F78nOiKrGkkIdxVBPWyn9lgUiXuRjiHLFDvtG84q0FvA1vw_BYuj5k3wSSsXmkZsV1VWtQZEA9v1OvH5Yz4Xo-xxZnU0qXmAjTx4MJH7Ga2znHV0lHqm2utmedggDkD5E5h3KtWudAouKXAAbh_E-pQ0hsrTTtjRFS7dqN8ke2m9OeFeOouo1STlWtqH29oJSx9xGv1VVIAzT5vm_8RcFy6MhxxHLiBmOeB0O3MheNMvbg0OBWUYxBWjuH-Xyffm0CIz80fYAmlrNUSb9jzaZy_vFMg9_pXTTJTEvw
2026-01-07T16:39:43.036+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: TK1McRMdE4Z3fJMiVYRQ3TxQgmx0cWNlVocRaVvp2AFt95aQf4Z7SR_yovaH0iz6yREbnsSds-ly258ah--Vq15R0if5zueuxwvDeHXnSmN2LA7bSou-b3Q9lw7U4uT4
2026-01-07T16:41:16.044+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T16:41:16.070+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T16:41:16.129+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=IhrWJV-dOIJw-oZnC6ZqjgBuxr8wDnDM1LpdsGu8W7_ezCKhCmyfcFNzqM0EnlhEMdub3kyK1R7jiGkfNTei-2cMShR4lYralk67QHG1-ah5RaBEmtkPeslf1Z-V4cxA
2026-01-07T16:41:16.715+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:41:17.841+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3ODg3Nywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTQ4NzcsImlhdCI6MTc2Nzc3ODg3NywianRpIjoiYTBjMmRkM2EtZjExOS00OGM0LTlmYjYtZGFiOGVhZjgyNTc0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.OckKPOymjbj3iP8WETiF779FJFpPEtIPpGi4f4vBcG-h-ZPibOEcpn3Vy08KhQstKR-a-BRR6N6b3lJQgPNNF014aDWE1d58ZMm1-D0glB9vt_SeV0MfzaLxcMG4jKUwQzIs6ARbZXiY5Ats4QRrsslKvi-wWHnNCTayD25jsdp4_ub7kowzy4lfHhnKte_6c0QAM7O4TnH99XST3Yk6J_YgR0I1JgniY--CsvSFecX5SO_EqO__LL4gB4Skjdfdvb3llFknQurdXTorT23OJJxzlB2UsjlFQIw_xphk37PUAFcA8hpTEpXHPmaUtP7aaSu3siBHby_lYBNsqBJcTQ
2026-01-07T16:41:17.842+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwNjc3LCJpYXQiOjE3Njc3Nzg4NzcsImp0aSI6IjdjMjliY2ViLWE0NWEtNDViNy04MDAwLTU2NjA2ZjEwNjQzYyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.vsdM7iXK9H9iIRgsj_n-BlqgriOJLimklAjkUnc_izwgiRKT68QAmlCzL7hb6MyNVU8LMkKnT0bXtezfssr49i7iKHVKLJe1vKj6pRAPLEolREr2JwLGErCbMaAEVFZv5LY7zrjOdi-o2d3rTdMqslH0grDEzk_jiAtgFCmZFIrkpyHKdm4U9vguMpAL_R6E9e597EiZXX4LtMvDVBBWeo1DqQlItVZNPKZg0lw0eFoBqiRLWPHCIQ0DWEMNbcL0o7zdTaEbjsXKcz1CY2-8dzlnozXTjEGmC9lPPpKu6TrD0iCxYgMF9_O1Lcz9ej2uG30TKA0yaJwF--SXHi4F0A
2026-01-07T16:41:17.842+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: CUNv26GNm8S0Zus6G3aZ0Vfpv-CgzSro5dEELrOWVzBu8wRvjyUuNGrqi_XKnqrOoe70Qzge3ftCNNpsjkhtfMF2622LWbQuqiyIza9ydoggRgoyZm1gx94PnFewJkPy
2026-01-07T16:42:24.524+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T16:42:24.553+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T16:42:24.620+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=iKa4uVXROwYQrmQzqIwkqGeudp_j847W0v3ur5E5VN37lvXxpFQkvU7jfr902RHKBzbZnbzDqeWJrKB6Qxqyvpackp_HMCnFAKJDBrtjcFn271vmS6fdIUkRpqIw7od0
2026-01-07T16:42:25.200+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:42:26.315+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3ODk0Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTQ5NDYsImlhdCI6MTc2Nzc3ODk0NiwianRpIjoiMmFkNjkzOGQtYTNiMi00ZmI1LTllY2ItZjYzOTRjNTc1NTZlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.heQepYwTOR8_xRWCV71FHLYyQLGTNrJEXwlatq7vALPGP8R-MhFNCLKOwXdzB6YCCPO0K-wRuwUKGSeRfOEu8lXokOi7KHxGLDBvE41VaZD3s314WxCNuk8p_WTVzT6odxrkf8fs_oer5XGU8mD-J0VHl6LuZbFNCPcNb0H4dJ0OBC_UiHXwlN5Wn3TwbbXI99lW-95xxtwdP4vhg917TYPEtbGzTDUgKAACRX81wbnflLqee2CYAFALh8cQyUwOHLi0WtC2T4cNCmCPMNJyRjDGHh-RRL5z8KoRQstU5YFP_ZBFcbBlYl11zQKsq2PtTMf1wyjPbJj7nka_NopR0g
2026-01-07T16:42:26.315+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwNzQ2LCJpYXQiOjE3Njc3Nzg5NDYsImp0aSI6IjU4NWY2YzA2LThiYzQtNDdhOS04MTBhLTJiNzFmMGUxYWFiMyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.ApKBZliqRrpOg81OdGigi29Z74NdWRaLz8AGUVDIb0h6Q0jMNaz67ktwXMgSRb6aBu7rCY3WxWUoMkMC5M0wWs464tYXblLutAyq6qmqkV4apex8i5aJu4mYZh5KkvYb4s54GmICZ8tabbMzBhr9qa6WM_DLHjz05H2HUXvh-h_ID2DFOeaIbGRVtm2XlHsETupTyitWo23l3_1Wp634s94vnjjFnOu8UHFqHF4eQb5me2V7s249Ynm1T5q3voq3IQSd9arh_MDOV8oBUobE3CZVkOg6ba1VU1wSZDaRfgg67JKY2M-v29G_uENJ589y-2RWZy6qrpM5adGKCW51Yg
2026-01-07T16:42:26.317+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: U1gBhRsLbujkGelyOtixCf7BZmkyFs4IJqKX2FNzacZvx772zrzXbf4icDSmr9akxBAJa64ESbm6K5fW9xlmQfvcLSwdRbOW4BFmA0LilDf8_1nlaO7LVkz86qKsIw7K
2026-01-07T16:43:25.370+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:43:26.457+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3OTAwNiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTUwMDYsImlhdCI6MTc2Nzc3OTAwNiwianRpIjoiYWFjZWU1NTktYTZmNS00NmM4LWJkMDAtNWNjMGU4YjA1YTlhIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.DYiyQHs_umYgb-zLaTVH5TK87YcptAkylVIYGNnuc9DbcyRgLMGHp6iSQPbpwqmcntx--X9CIm1uy6xOjCfKZskCiWot68ar-u8zbPd8xtytlRKnCoigbyResYJw1wfatYtlAmuAeMukPJfSTqVUjC12D6VPL4ApGsNFui2pq43jqA1KsbeMqJdyfUuw2dWONA4-ISDSAh-gPgLUy7T0FJcnrqrXO3KGBkwHFjXWPj4Xs9Cvg_M9ayLQ5nbzpDKXMjyhrRz2G-1yO9LquY4tZNa1ax2p2O-kPp0tTsiZRuHgIsSYKOlVU_U6H5z3V9KNOshlMGuNpQZX1EWW5ZkEwA
2026-01-07T16:43:26.460+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwODA2LCJpYXQiOjE3Njc3NzkwMDYsImp0aSI6IjE4NTRhM2U5LWU2YTMtNDc5MC05ZGVmLTc2YmNlYWQzNGVjZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.tg62MPjK_uEIIrR8yDzugFJxugVpNcT1wNAZX6km6IVCx-_LKb3fxNXigoo0apKopkJaQjnl6TajvFHqbX63sbecJKtC2qv-3R1TDudLX2dJIPA1k9huZZMLHpecI9QSkHtQblLz83QYjvJQigB8LExLws17vnKsrmbLTnk9Th-N96pHeTIRoo2muUPtrS0BoDriSJ8u59WaNJzCjtHOpJS41r-rx2oHLsWer4zl0rixTaKLacLjXyOEdRAl90kIvagSqUJThBlQ90GMPry3slA5H_SrmqykdjFTIbB2sOGIhf9TGv1pQGJtt5aDiyt5nzLYrKmDKd0pj8nADP_Whw
2026-01-07T16:43:26.461+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: JkmhTLuJb6uK8zqlgDQDyqkLt1yxjwChbr8wKCsDZ-w7xHnK4c-cFRDaik6xgc7CicyI1zlLPcQwyHDIk752FlMIRuJ1VQcJ6HwbUnTlaLNu0RFMaP9N3osYmzpqkMQx
2026-01-07T16:43:48.507+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:43:49.606+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3OTAyOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTUwMjksImlhdCI6MTc2Nzc3OTAyOSwianRpIjoiMWEyNTIyMGMtZjliMS00NTU4LTkyNTItNjg5ZDU4MGQ2MDZlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.M8-x9g7M_w6VvCpZ-38amSlcPJrBB5U31GEwaXgQ25MJhexokqFZg7_-NMCth6CRL6DFXXb-FlgJ33P818nYvo4yQSHmkqjnXnwo-2bwBtL62mO9CeH65w2101bG9n9W1b115GkjvpZ52W4gHNZ9m9hsnuy_PyW1m_LNSioiP3RA0DDblMgqeXIb82soAA-oSwiTOFv4BQErg_Jkw-Y0W1ach7LaRmlT-uAv9G746LNzaGeRpnVq9863W6un2mMa4wDzdrO3IXhLLH8qGb3Y7aem5IlFkyfZVVH9GvKubh-hc79tOAc66wFHdrDsmScULp-3krGls8orkTb6D5_PLg
2026-01-07T16:43:49.608+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwODI5LCJpYXQiOjE3Njc3NzkwMjksImp0aSI6ImQwYjRlMDM3LTQyYTctNGU5NC05OTZmLTExOTQxNWIzZWMwYiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.Tsk_3VQabCQg45MBhWd5aIurJRuvh7tC7PP1qp__Ox5TJF4S1IDGNrho-MpQoD4v5UtjhjsDKAUaWfblDpILdUelboApkr78bYAoGIF7quufuCFX50Cqj98nDsTgJFSv1VC3ckt1XzdVNUFCvI396H07-T3G-GgFekYptGuIs-BOZs6-Jk4J1zvYHHeMmp7d19x4YQ-phiSi7w-1TAShDxRfRz1M7ggIUOr_ZE3I656Cwb34iWkMjjAlRgbmljSGX-IyYcQOTJlOMdocvWLJibG8_zxCYUDIA_rEjIUVmvXrM4PKySh0Di_YJWsE0QcCbYh0_a_4V1YiTtRLOs5MXQ
2026-01-07T16:43:49.608+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: yuKlQB-HZPpQ-t8EsEbS5F2Dha2atb272BdjcWoOkBpNtwBNa28kvJcGz4CSFVtgwNkh6rNPZ2mWBMLK37OlVUXpLQwpgNqCzXXIM3rYKfGUcpxKq2dr9eME_tebsMqM
2026-01-07T16:43:53.765+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:43:54.851+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3OTAzNCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTUwMzQsImlhdCI6MTc2Nzc3OTAzNCwianRpIjoiOGQ1OTA4ZmQtNzE1Mi00M2IwLThjNDEtMGJiNjc4ZDA5ZDRmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.uCe6Hkrk-Xai8Td2i9Bwz86y_qNGRYP5pjRSevnSgPYzPCgH5JGIUjUcFOFc22aUEvTjJhBT76A5Uln3JLPdqMPNR1g-wZ_oVCP5j-mgjB6UFHH-kPA0XeU1-4xbv9mDeOSd-fKukx6CSASZg4I0bfwiXPIy-HsHkiNbsdlpJXlIf5d6YXUsF2TiPOBZmiqsfkXUMK_eDMi4IeTCPzHWtkGcEY0t-b1DmMaVxZpnef_nTqQtVspnlF2PtIS2S1oayNTvyc_hulKwlYnrGHQg0k9aGEXXJmo5VSG8JVWiOju190R90u--J94wJKHndbQytwXm707I0nMBv4re25TyeA
2026-01-07T16:43:54.851+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwODM0LCJpYXQiOjE3Njc3NzkwMzQsImp0aSI6IjU1N2JmZjdmLTM3OTYtNDUyNS04MDM0LTA2YmUwNDdmYTVkOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.YrFIw6shvVgWUi-NDkwp6ErilA6pCrFUO7nW5rPm0Hh8s61HvUstHbrh2pasY3gadh2O85JH-GaPAbCFVnl4bbd9Vbl9offRWLjkD27y41xammcSXf0tia1l26r9_dladODwb1KAMT2AT0MglKUpH-CuN-nzUpfbsmrUNSNy3QeD4o-sCK5THDhWT9rgEwlpZMvBV3BAMUufNLTGI1tyx16WtBstGLapAPsf3N6bBmUoXsTLiBU17RnZQkTDXPX8kWCsoaTbrW-1aXOkDwRt1jhwVsIIOm1-k65QKfDldT0rsTxOBTJQ6RqNsiqfAGCVxKTFMVDWbyWgOW6FQqkRXA
2026-01-07T16:43:54.854+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: GtOAjiHPLxJOQ3XS-YfWNTt7pKSC3j61qZz8aI2UvHNFrpieB5Sj1kOl0-XED3hTBojcFuqZUkZwoj3rlOvl9lImzTq6LxCIC-RGKjfI8GsgWsJ0mQnXXzimR1o1zQSP
2026-01-07T16:45:37.833+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T16:45:37.860+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T16:45:37.908+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=GQIXBaL4j01dLEehCfpmRJtg9Lw7Gm0sU5EU49W4yrj0FIxeSxIsP378Mz1XBuFl4isuOzMeOvSVQKgsKEiD0DYuWVtgi3Zf8cc3hpU8rxqmU7kiMw44Qco6TXO27Zzb
2026-01-07T16:45:38.545+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T16:45:39.598+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc3OTEzOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTUxMzksImlhdCI6MTc2Nzc3OTEzOSwianRpIjoiNmEzM2I3NWQtYjY0YS00ZGZhLTlmOWMtMmI1YjMxNzA4ZmI5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.POgL-_egmprykGkiYfwvLmubct0WSqmiMS_7mO2uKjFXExCehfduaSwl7FLT6sHAWzPq63zolQZwYohKR-J67g_A5xyGJPnB1CDJ8GV_vllh7B8nyUbAq3ZZ6dFwfEH-_e6iOCu9USr7DxQF8-dXWnZ8VoFhXtWB0LeeuWAoCUS8gVHOYvmfSg5rc_BRBuNEkgPZs6HrAAXaXvxlclotTfQGJXRHusjLlm5bOQJghUg0YVlOmKLPdimNvfIonH-KT0bE9KdVq4JeWF0xwPGoPbFv1ib5OVNnc4XBH0R7d8QTQ93jpTutVjHd9g4grieR6VdGn2DbBKP3lduas0Mqcg
2026-01-07T16:45:39.598+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc3ODc4MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgwOTM5LCJpYXQiOjE3Njc3NzkxMzksImp0aSI6IjdjM2QzNjU3LTUxZjYtNGRjYy1hNmI3LTAxNGRhODVlMjcyMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.jURd2pAwI7DJFPdTQ-rBq92aHNdkFui0KPX8vxifQajNpo1ie1krSo-CgXNBhMgRu6i_xPp92ZSWvGEpGIS_ke7dxKqP0Wlm1Qwbkd6EwoSkd4HndpsvrJqc-wU5t-zuOLrn3pE-2l1x0O9imsv8Rn89Rj2A_USdh4sGXqZ5fkg95pMPWtl6dJao7mxUK6nkcAcQtv7MCK3iYJ2MP3rnHF9QfLvIgqe5u11GaUiHfCQfZQoCg6CLBXRJkvmNdtHi_5EyPnhowPijRERXZmOF-JxVMA-gDZ3xpsMgt7_iKhc2qm0TocgG2u9gqo9j0gdwL6f8mchiEbxxBy1opDzbhw
2026-01-07T16:45:39.598+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 7rDWJnQ4lPjGSHLaRYHvLTf_nSq_WSNuDzaOHuon6qnefhu2htTj_8bVJwQHQl3cmy8OsMBFrSMi3HtjbDEC9AUEmV_Vycu03HCeQM4DRM_yPo0U_CHww9r-gl1kGfo1
2026-01-07T16:59:45.389+07:00  INFO 18728 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-07T16:59:45.941+07:00  INFO 18728 --- [auth-server] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T16:59:46.038+07:00  INFO 18728 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T16:59:46.748+07:00  INFO 18728 --- [auth-server] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T16:59:46.874+07:00  INFO 18728 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-07T16:59:46.906+07:00  INFO 18728 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-07T16:59:47.876+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 18728 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T16:59:47.877+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T16:59:50.660+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T16:59:50.673+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T16:59:50.751+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 6 JPA repository interfaces.
2026-01-07T16:59:50.756+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T16:59:50.758+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T16:59:50.770+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:59:50.771+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:59:50.772+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:59:50.773+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:59:50.775+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:59:50.777+07:00  INFO 18728 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T16:59:50.778+07:00  INFO 18728 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2026-01-07T16:59:51.055+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T16:59:51.057+07:00  INFO 18728 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T16:59:51.057+07:00  INFO 18728 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T16:59:51.095+07:00  INFO 18728 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T16:59:51.096+07:00  INFO 18728 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3199 ms
2026-01-07T16:59:51.181+07:00  INFO 18728 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T16:59:51.186+07:00  INFO 18728 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T16:59:51.200+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T16:59:51.202+07:00  INFO 18728 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-07T16:59:51.236+07:00  INFO 18728 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51bce0c8
2026-01-07T16:59:51.236+07:00  INFO 18728 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-07T16:59:51.243+07:00  WARN 18728 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T16:59:51.243+07:00  INFO 18728 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T16:59:51.450+07:00  INFO 18728 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T16:59:51.633+07:00  INFO 18728 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T16:59:51.762+07:00  INFO 18728 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T16:59:51.857+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T16:59:51.858+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T16:59:51.858+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T16:59:51.859+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T16:59:51.859+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T16:59:51.859+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T16:59:51.988+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T16:59:51.989+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T16:59:51.989+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T16:59:51.989+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T16:59:51.989+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T16:59:51.989+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T16:59:52.023+07:00  WARN 18728 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T16:59:52.224+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T16:59:52.335+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001ca82da6478@39f471da with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T16:59:52.424+07:00 DEBUG 18728 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T16:59:52.430+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T16:59:52.594+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-07T16:59:52.661+07:00  INFO 18728 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T16:59:52.668+07:00  INFO 18728 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T16:59:52.704+07:00  INFO 18728 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 4.982 seconds (process running for 1450.445)
2026-01-07T16:59:52.707+07:00  INFO 18728 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T17:01:23.985+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T17:01:23.988+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T17:01:23.999+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2026-01-07T17:01:24.013+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:01:24.176+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:01:24.204+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T17:01:24.204+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T17:01:24.267+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:01:24.278+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:01:24.282+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:01:25.183+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:01:25.192+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:01:25.194+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:01:35.190+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T17:01:35.202+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:01:35.202+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T17:01:35.765+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'nguyenvietanh2k3@gmail.com'
2026-01-07T17:01:35.765+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.authentication.ProviderManager     : Authentication failed with provider DaoAuthenticationProvider since Bad credentials
2026-01-07T17:01:35.787+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@54d199bd, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T17:01:35.790+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3aad78de, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T17:01:35.792+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@637c40f6
2026-01-07T17:01:53.589+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T17:01:53.598+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:01:53.598+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T17:01:53.878+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T17:01:53.880+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2660d71a]
2026-01-07T17:01:55.476+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=i_QIqRXWGs8pe4GlXB3djxFOQKYxfOsarKvjmGfdK_o%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=dhJLuiZ4drTpQzMc4LIEL1wAMb_AYwyHiP_gtCaruso
2026-01-07T17:01:55.485+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:01:55.538+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session dbaf9bd4-9118-4401-ba5e-2387dcb52925, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T17:01:55.542+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=4-B6roVjSCsvNLQ-A7qFgJt_QKQjLt18H6v0Hdk4IHXwJTVTRbpnioBfQ9uBT2rFXi1_pZ1zMhJtZeYbRjwvOtDXLOPESatIOLro1cDb5e6qGGHWZyETtHb0QWwRzN_A&state=i_QIqRXWGs8pe4GlXB3djxFOQKYxfOsarKvjmGfdK_o%3D
2026-01-07T17:01:55.935+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:01:57.054+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MDExNiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTYxMTYsImlhdCI6MTc2Nzc4MDExNiwianRpIjoiMzU1OWM5MDItMjYyNC00MmU3LTlhNDctMTIzMDExMWEzMDE0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.d_xfm-3O_5Flmy94DnnzBUOU5p6Ky_tcWY1WUyJWGvKwKGf3z3MRC_nLkUD-kaVt1B0O7DOX6AVZGwEJlmuijM6qrzbMMOpSD0HOcQhgUlne9kyrMTRdEg920MVnp3WpIKb4_aTtfwYBliyjCWmSgheA9FRFulEHZh6507DkeGtSdC0s8LmFGfD3QrJIYDliCSzc5Wh1vkfB5nOh9vCnvQ1WdoQMytFy7b6xJMFqH0zbw-vWI5uYxYrJOISjWTQKXptEB5mqieUParFlARKTWmcdFmaeYmcqXA7g57b3q-m6eItAl5fQCUS14-FOliRYtsI4qq626MH09WgPiNrImA
2026-01-07T17:01:57.057+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MDExNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgxOTE2LCJpYXQiOjE3Njc3ODAxMTYsIm5vbmNlIjoiZGhKTHVpWjRkclRwUXpNYzRMSUVMMXdBTWJfQVl3eUhpUF9ndENhcnVzbyIsImp0aSI6IjFlMDg2MGVlLWNjZmItNGY0NS04ZTM1LTAxZDI5NTdkMTM3NiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiZ1FMV0Z2bUpoY2M4NXVzM2U5WlZCdE1QbVgxVndZOGExQ2Y0b0xZeTFJayJ9.phu01oTvCrFfebIYi9Nr-u_dhlmQwHaK8EI9wRItGsm4ovM0aCHERscannZsrksB2klT3mLM-Z3b1GFtxwHKE28JGICuihPioOqpfJFET9SOM5siAaQj4YX3oTYavFQV7vb6n-nmLvtV2yHyfSfeg9mLc1Q7dJXkVmdN2a4mhIicwYbbJbkEjrvpSM05Ga8GruYh4w2VVVyejf_wQPQn2Nr2W9NCpM8Z1pss6pQqJC1cGZSzhBBjQ5BKt2qqogCn3ht3Hz2fkupOSUyW2ZZIDzPhwwzQar8_9cjn4dsY_M4eSrAz95OIb0zhCF9290wgIWbJgfwh5pptSiSdYkFkPA
2026-01-07T17:01:57.057+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: WHZm0FEVcpn8xyiPKfbTFOxJHpqjjSozYf7L9haooGTanPy_YzPPaPBGcK8XDsLdZAZTiOod8P8U-Ln4Ct7Es-yoBqv5nyiJQIV5CFX88cOZyKsmvUH6nxV3JQXkrAW6
2026-01-07T17:01:57.145+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T17:01:57.179+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T17:01:57.186+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T17:01:57.189+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9fcb3d3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T17:02:03.004+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T17:02:03.027+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:02:03.028+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T17:04:06.065+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T17:04:06.091+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:04:06.187+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 498d389a-e83f-4391-8a60-43b9c60ddf97, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T17:04:06.193+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=xTvVTt0EU2DgH64rGlVN-vj5vLp0kiT55kDnuRHlXzMxzD3fDnavLpcygmAHO-X78nqkD9ILxMd1h83o043fhSvPWAiR8yYg02gd2TIFzFxVZr_cM_4LKquxHf0o3ceD
2026-01-07T17:04:06.982+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:04:08.059+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MDI0OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTYyNDgsImlhdCI6MTc2Nzc4MDI0OCwianRpIjoiNjBjNTNmYzYtMWIwYi00ZjUzLTk0YWEtZmQ3NTMzZDRjOTI5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.dJ4S1AiVmmujmTU--wIpDLC2lgC4f6jOukDjOvmeE8D2aXOG_gT13Fb-ZtSRAzupU3an6eUq_X2YV34WaAIx9l91XTk4yeWjiKdx6CdJb9Iahs97dhGj3geoWJNbYfuh4LzRDTYUsw89wH4XKVMtffXqS1J8cyRWabsRlhL25HmbKb5MqWNVjX5rLGjhQP5LJ8fCiyyKZBUwER9e1mIvPwiSLLoFoWKHrh0q9OCYitFgGvjQiiFa4B3Pnx3HEIdozg4KsfaBtvCVpuSO5j08cQKcq2KS_ECY_MYN76A1VUFhEeGc9oSZieLNUOCSibQ-vtEOzJxO9N8nnHt7zVtsHQ
2026-01-07T17:04:08.059+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MDI0NiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgyMDQ4LCJpYXQiOjE3Njc3ODAyNDgsImp0aSI6IjcwZTQ4YTExLThmOTAtNDY2ZC04MTYyLTIyMDgwOTVjNzZiYSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMXlwS1J1LVByczMwNmVtWmZFWUFWQk8wLVQ4d0R2Z1BoSWR4aE41bTFSNCJ9.EgEpmnjd7KcaE5AyUxpWsjzR43jJPIm3k1wDSzzRXSHG_sVHkQNE7ItTJOaqgTkczNAsnKTA5g1Ba2KYpa8wfR5mQIhcNQOHi3u8Ze5bd-vnJVJs8-Z1cAghNd65dXPQrrof20HU8NpcRhyUBmU4hCcaVBF6qT2Q3cTDYNVj86OppXwbh4CweuB486j5AKDHxut5i3madYW6WU-U2AVtOy5I4blEwr9WajvjpBI4KY-uv8np3QewKZy7G90X___uU5hQjQa748Aej5JUT3acCzG3wSoma3dErPafENqhp8fkt-JfzVR_qwtlGG35ZgfACb9B3MFxdWv5ltJEyxbiEQ
2026-01-07T17:04:08.059+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: SBeqPREhwCnwJ82D5y3hq3iHRjc2knR-vMEF3C1nYxm4HrzgE3M2-raDk7pEFwP1s1mUPsYRQPmhkT9saf2j2P-nHcE075DQNV-K_QaIZUnQnhYn3ZcIDcGJYf2T5JSY
2026-01-07T17:05:27.192+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T17:23:16.899+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:23:17.456+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:23:17.494+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T17:23:17.500+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T17:23:17.659+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:23:17.688+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:23:17.691+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:23:18.426+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:23:18.441+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:23:18.442+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:23:36.392+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T17:23:36.407+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:23:36.409+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T17:23:36.749+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T17:23:36.753+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7d440577]
2026-01-07T17:23:38.346+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=iIONLfE3hevxIHOPPmpkq2zsW8EIEzbzqRDwdCNhIvc%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=5oOkX7NHKyhFjp92_eKwQwhXiWkjKxJ0oT3fN3nyYks
2026-01-07T17:23:38.374+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:23:38.559+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.core.session.SessionRegistryImpl   : Registering session 760ace23-6a9a-47d7-bc9c-2a87dcd15485, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T17:23:38.567+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=dlK0iTUi-ZTKSKjYDeyMLdQ5QoaB2mEB8AhUorhEQioALXF935Ppr3YXWYCQyYldZip7CaZyc3e7yZYbXaWO19qiq_wGFjSeWfMABDSzyyHKZOcTQlXFVls7ypiG6kf6&state=iIONLfE3hevxIHOPPmpkq2zsW8EIEzbzqRDwdCNhIvc%3D
2026-01-07T17:23:38.737+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:23:39.947+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTQxOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc0MTksImlhdCI6MTc2Nzc4MTQxOSwianRpIjoiYzE3YWMyMWYtMTg2Ny00MzVlLTkyZTMtYmE2NDdkYTg4ODcyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.v0_kaQZSB5pocGAE1SQVm9hVnMbl01WQYrn0dhVGIG20zitxomT27GET8ITx3qI2xnRc0r7tAaWw-nVy2VPQUknrLc9Ur7Oo29XjB6PoZ8K8irCcT5VwNpxnHCN-J-tQ9_SOuFboT1t1zvF-WkxCfmsF9wyZIQxdQJ3JiJFA2qCgkdcaAIM12ErWAHblZ9mia3Zwyda4bIJ9lR8S3ukECIQm-QFvHRcuxUF_dx0AM8QPyNR9EvWq_WEEv9K9Fp4aKZabVuaCM1STBqp2Leo0v0Y0NVSY2on0C02qaRDOOj-w4Ucj7gnyM26YyMeHZPqtjm4wj-NaLJ6G_IzW_OB5tg
2026-01-07T17:23:39.951+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTQxOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzMjE5LCJpYXQiOjE3Njc3ODE0MTksIm5vbmNlIjoiNW9Pa1g3TkhLeWhGanA5Ml9lS3dRd2hYaVdrakt4SjBvVDNmTjNueVlrcyIsImp0aSI6ImYzNDZiOGRkLTIxOGEtNDI2Ni1hMzA4LWUzNTg4YWE3YjQzNSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiV1ZIelNHV29NUERPLVl0QjlHV0JueURBT2IxT082V01QYlBrYmJuaDl4MCJ9.ZpihuW5HzP69XkVqlKsN-1qkRrplqdj_HRNq77eGEaR50qrplT_ei1UzFAu467Whpxc-G1obKzCBL_iykhD27RRfumbEsVVTZstwSjwsujoR9orBntvTmbT1GfbnKIdC7WJQJ8Uiis59Y5XchLbWX_C3grJOMODGICV-oo7YDTc56u3Th57mAbQgGWZsowvBVaPHcMuGqrrREYo36OIj-MPLWXUGvg8Ru3CJj02QCDojyB3qkR7MdNYisCM8KxIf7kkknZeTVLbPnRoQIGYqfBJrWUALJ8-WksuIfaekHCZrbmcHnyqw2lINrAaQ7kUWFXP2z4-HFDKnE3KEWWjv5Q
2026-01-07T17:23:39.952+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 4f7Hew6QtGenYwHdCsTFQf0IGW18YJiiJ2KgafQh8pQi3Sq-0VRM9CI3UkYZ8yi7EXI6j-hmubTo6dfRn-bSy3PhjEo86y4WShu_ScpW7rVOHcgKSwFLj43Mq_XepW8X
2026-01-07T17:23:40.060+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T17:23:40.092+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T17:23:40.110+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T17:23:40.114+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fe160018, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T17:23:41.539+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T17:23:41.558+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:23:41.561+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T17:24:04.022+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:24:04.047+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:24:04.132+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=Lkg3b_ed-AuqDUVb2skshenyD7dwyiYa-f3SEg98LvgDfYlRijsKNlkOdmzj_itnYXiZWDYd4dtQBJHIzFwDZs6oHKociq-pBa60sRr0-o8jq6RAdzyHHs9WkiPkoWrP
2026-01-07T17:24:38.057+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:24:38.073+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:24:38.148+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=qggSEAioHQ3X2JR1JSMIYnflqrEvK8rQa3LhEc7KIY91RavcCe4AFIJQzEIFX2IK4uS_cU1sVjd8YRmOAb415MgESAVLMUybyK3hxe-d55iJJJX2IqlFa1RDd6qvAZLu
2026-01-07T17:24:46.996+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:24:48.179+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTQ4OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc0ODgsImlhdCI6MTc2Nzc4MTQ4OCwianRpIjoiYjgxZjUwOTEtZGU2Ni00ZjEwLTljMDktMWI1ZDNjOTUxNjRmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.ryVw0SY5Ec_TcslqU-winFA7giZO3f8Ocrf9td9zMxToMQNqzB71_x62qHCh0uujdKQfuDrPiZNoDdf7_3auXFpSXDG87v9uuomJFEdDkD1STQeazUEbjSeF5x-zUb5-QbN7vuadsPG5-ApqmcptBxCY-CIjKQHtCn_hEB43ystTNzYWWXl9anvKfepFVpep-b_fFkHWBR4B6Lx2F1-B9R4oYaMl-x6Fp7l1NN1WaVPjVDSQBB5oAzMHXW3n8ETXJafqxIiNqEUnpP_fhmqxThWfvIK3jw8Y-i1AifVuumOXEzE2Lz_8sOjcWuRLWWdHQyhp63NwSnXANkZ3VyAZAA
2026-01-07T17:24:48.179+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTQxOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzMjg4LCJpYXQiOjE3Njc3ODE0ODgsImp0aSI6IjFlZDEyN2QzLTAzMTEtNGRmMi05MDUwLTYwMzc0ZWIzNGFiZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiV1ZIelNHV29NUERPLVl0QjlHV0JueURBT2IxT082V01QYlBrYmJuaDl4MCJ9.P0M7JIhcVuoiLNfe9ee6LN3p5H9ZH5TMZDl8CSRoDjDxMaeLlow9TmsgmF2q98q8u_b36knUeKH3Hl8CL639ur25Zux604iwd08lm_gQOhPJC5s0h2qX1RZ1B6bFWrn0xXwUpe0ktQQBH0uf9Tuyf5FZTBsttt3hqoXp9i63ZbgIH4MyWKuG8dLZdd7aIgubBw9FkkizyeayXdKnKBAz9fj8fj5ztDsLCSEMHo9nZbUq_KnD_KJ-f4uIumsi3_6J0jWKQ-ELWJkXhtFklc8_NNHMrnMxHnfY-sJtUYFJCtlNC20JtFJq-MdBMu4sbehO_4JZXaWhVVE7EkKWbiCPwg
2026-01-07T17:24:48.179+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: VhVlLkCvxHKGapZx_M2p4BCNg3tNkL5HIcUBDZe5d5D7hxtmYR7ySAEjhtFOu6Bnb-UVSjhtk-IcGOkS5i9IxHlrxzlmfrmRqGOF_l2J2zP48DXqgTAGVZ3yUq8A_cxg
2026-01-07T17:25:09.686+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T17:25:09.699+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:25:09.699+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T17:26:00.368+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:26:00.376+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:26:00.451+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=zDa4ldTespbkubL6uHMSD0fZQoQ8qoIyEN9Pghg_v-2hTVblIH_6XH5pWVhWOBCsiIYSqCfxEApH3ULRaY2hWw_KBH7qS29kwIid5UXveJK0wC8JmeTUo3mmTP1ylQ3c
2026-01-07T17:26:26.958+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:26:28.026+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTU4Nywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc1ODcsImlhdCI6MTc2Nzc4MTU4NywianRpIjoiNDViMjIyNDMtZjdkZS00OGY1LWJkYTYtNzI5OTBkMGJlYzI1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.bpFXPWQCXm7HGDt5wy-ehirp7C8bVQnHdCcNwSv0zsmBe5l2mGVuY6KFbmEj2fkkCXh07lBxq5V5oKoRTCfcvrJU7VoczL853TZIFwaMzneW5JxiHvZ2YTiOezey1yCdxDshlnV6_TFfPwGol2OCtjhQgWrDVZGL7ccB4mTw8dX3OFSp3__0AW0WP9NHDZtv8IGTd_2vnYk1PAe56kWU3Rr7rK4ZLrImtWs4Hnsxgj-9zD-vSXwsWK3Ub0EQcCYIxT0v1goH8nb0zVTHE1SdovIV9dDFA1gqt4VnOfVpYp0U1o-VSzWpX_u5_PdZKzQBTvR-GAFob41_QUKL-xI8Yg
2026-01-07T17:26:28.026+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTQxOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzMzg3LCJpYXQiOjE3Njc3ODE1ODcsImp0aSI6IjU2Mjc2NzcwLWRjY2QtNDhjMC1iOTRiLTY5M2M0ZjNkOTNhNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiV1ZIelNHV29NUERPLVl0QjlHV0JueURBT2IxT082V01QYlBrYmJuaDl4MCJ9.vqYINSSEMDORpj1OidTlPcOAVMXdF6EzlAV1JM7slXcx8VGW-eFAbLygq6ZvavtwQtTEcjTkCBZ5a7i4QCw9f__H0ORybpUYq5Ax9gLJFL4vkjQy_OjduoAvKWXXaWbe_hjq7z5cTF3qiMHeHy_46QwOsXI9nNP834lYy6ekBmROSLkYW0cG3L8MHi9fxrBYbd0c2Os-_p5-CXERQzlGjX88teRyzJPPi2DcL-_sNzxilfB9EtMXYVLSJ0ke5_wTmdBs2DG_cK0LRj9ETBDGVeCOImGoX7KXMPHU1jH2QlmlqY0H6V7lDGMgeJbgFqghLHR4dmLS2V8Llgt65o7v_w
2026-01-07T17:26:28.029+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: DRDiGq3WgQYDK0OWOdkKaOX7N8DJRfY3IfYQzIUdLOfAs_4osD0xJ8GjADfg5xADeHTrbgpMSld11riCOyctUq6VrG_1-8kHyWPp-CHgP8gKcMigyte6W2oyrXFM0xAt
2026-01-07T17:26:56.055+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:26:56.076+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:26:56.128+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=Ix9hXIdCzrnwXmZP5ExUo-1FtHz1Dvnzv2T4Fd9MkU7vOLvpX32q53SCHGUkj1PJljEdfl_eJzzrO1DYQcri6Z_lDHl6ZefH0Fj6Sw7F1bHt6Hcn2msaUiBI9oGKkEM1
2026-01-07T17:27:09.587+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:27:10.700+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTYzMCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc2MzAsImlhdCI6MTc2Nzc4MTYzMCwianRpIjoiODc5ZTFjMGMtYThmNS00OWIxLWI2YjAtMjZiYzljYWQ0NmFkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.X9dMYz9vDbv3H2N4bjW3wcqwzgxIAn4nW9oiTwObqGj3jCHaEPyatCoHru7AHpA3qB67MlE9wnLveYkjrmP-CwA3ixw8pstuf9MZELHW2Ra0R-XqGozxCEREVEnRYxpegby3SKLmpqS7c5YYhmWaBXn0GhSb5svczacHPbacT7lMY63IYPfLTcmNttPoSTYU-Eeari8ATFrWwEhvR8PxHby5jb_5LfurEcdBhSD1lT9mrnMDLMA2iVoNIjRsR_Xq-iSNmlwx0sNpzFsOaCavPYJQkce5CA0dV3qmIIB61Oe8w5TiAll2qbYiggx_7tp7hGYJpMtRt61yT2b0SQxPZA
2026-01-07T17:27:10.702+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTQxOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNDMwLCJpYXQiOjE3Njc3ODE2MzAsImp0aSI6ImMwNTZmNGFlLTdiYWEtNDZkYS04Yzk5LTc0MTBjNjZiM2M3MSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiV1ZIelNHV29NUERPLVl0QjlHV0JueURBT2IxT082V01QYlBrYmJuaDl4MCJ9.f96-yzM_P-7foRAqRHqoNGx8k71zie-66YNLu0o4VylHkr5YZN1svhV1mrhMiYZkO4_qC6AV7t2bOLbAOrs8RyXmffVnClH8bRG7W6ZRmG44NiUmo00duJowCNAkfGB06Iliu2Q4VFWqdd3B6sIaKMUNnWA49vHI4oV4QOGaR57d8u1JMpt9F_LMgA3AyPaLxJAJAAEBaS_98D50oi3PL64tmdl5l_y8APHLMmd5vnY5UMv_piryBeniO9g7Low9t5ufpzOlzorgQVRUtqzQlVqJDhcz25oBldLfSNLpmvziLRREH-Bp840Rf0B-uS3IBw7pPYCLv6Fm4sL1Gc8pYw
2026-01-07T17:27:10.702+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: gonBwZ8yVCJxWVYwzl4tOdJcANLyPZvJWW57R2X2GwzRlBi33EmZivuZqCWFCx16JL_Rjo2l-W_Uj_eqaBYnv4J6OlWdpblGzu2NEl_QKTLNwe6SQ5KYXafrENaZR3zG
2026-01-07T17:27:51.885+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:27:51.908+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:27:51.911+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T17:27:51.915+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T17:27:51.942+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:27:51.952+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:27:51.952+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:27:52.354+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:27:52.368+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:27:52.368+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:28:13.935+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T17:28:13.948+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:28:13.951+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T17:28:14.215+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T17:28:14.220+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@54545fd2]
2026-01-07T17:28:15.363+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=sBeWVZHZowCbfvBad6uYxOzbGtbHrptZVdfucTJt47U%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=r5ck48novhTQA308qE9_NYmd9eQMPG57rLQvqUxtHqU
2026-01-07T17:28:15.376+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:28:15.416+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 2434ae62-1e32-4a00-abeb-03b139cecc10, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T17:28:15.420+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=PIgTWUlfUT1ZZscsVaKI99ca4HwexJtiC4hu0JNqNaiBGHBnNDvjNPwCPdTFCj9gqc5nY_NuoLfuT0yV-Nvb-sotIP0p-c9lxN35FuMSurhpVocB3RxKf8s2BFZyOZE-&state=sBeWVZHZowCbfvBad6uYxOzbGtbHrptZVdfucTJt47U%3D
2026-01-07T17:28:15.497+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:28:16.561+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTY5Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc2OTYsImlhdCI6MTc2Nzc4MTY5NiwianRpIjoiZjU1NThlZjUtNmZlMC00N2IyLTgyMTctZTVhMWIyYzliOTBkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.wz8xW5jXlWKlfQRZjGmcU_vku8SgYEDZlIVQQtBYaDVNouli37SRqvzNHrOaEO-XRBJrZDeofhKPmXIivNZoImLTXT76R85bc8W3mx5h3vVey_x7fXPqQB3C4MKLDLPJoFthL097IWoPO2RfXlztqitLhWXUBaRQB41Byh1u7ngFYfzQj982CON1y1nOcovfuct6wYzYm7343ZBReOkGWYz924XpwppCLZRtopg8TwH43g9l0CfFbr3jqLRUU2KPqQJfogUqorVvgkdvX2EwDo2N4dEh2wfe9F-mDjq7QuUDyC--3OtfUva1QjnHDSCT-t8TsGLzN0WVsrHRlFk5Sg
2026-01-07T17:28:16.561+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTY5NSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNDk2LCJpYXQiOjE3Njc3ODE2OTYsIm5vbmNlIjoicjVjazQ4bm92aFRRQTMwOHFFOV9OWW1kOWVRTVBHNTdyTFF2cVV4dEhxVSIsImp0aSI6ImQwYzQxYmQyLWUzOTgtNDY1ZS1hYjEyLTZhMzg4MjJiYWY3OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiXzA1b3d0X2Qwd2lTUS03R2JiZng5dl9na2s1WjdyMkh2UTNRNVZLQ1FXOCJ9.T-B-CJJYwj_RS1GY5cxJiAFgfTNPWslFH9AlKL7pL0V0TMniPMXTDLONSHiASeOKCwNwadhIm6-zrd4Ml3kwVi9dXOJZvNxcljpTiF4VnBV24s-_ctLoH_iuUBsJORN-C-gJ5jLdua5Zwbvhm3j3YpVNkDHawB71QYiNLg184iTuciz0bFkK7mSoYTHO1hpEpbEC0qmv6pFYxGdBQCnkjQYf6yEfHapXte4VdIrOW3I_lZvdPsrV1IIVz-RZmjhGhT6ROvO2XaqNTCNZdqzEm3elppOItzuHdp43IhJ9IGSOUY5eVF3Wt9aE2YgIqr6X1u7OKe_N1fJAoMPibbxZ0Q
2026-01-07T17:28:16.565+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: XRGy2PdtHYB14EPiqHRNChHwi573U0ktvu08HEWD9wY-9E25pD3iDIaMhivslz1JGmqjOVmDlj0EdI_CkgUX1VdLO6xl7jQt7bqKkWgwwuZTxmi_zK5F23VVJY2euHLY
2026-01-07T17:28:16.588+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T17:28:16.594+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T17:28:16.598+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d5ebaaa8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T17:28:17.279+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T17:28:17.296+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:28:17.298+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T17:28:39.673+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:28:39.698+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:28:39.736+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=T8t6azWJsE3TXw3_iAaAbPrh6mPyfMUXI5ZamjT9UoHrE4p7Ym8fwoeBrNW8OcPe76R_FacZwGzVikf3mOgwcky6X78f6Uem3tMMtQlRUW5_lANvjWV4Vv50GqxmyQ1X
2026-01-07T17:28:41.657+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:28:42.580+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTcyMiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc3MjIsImlhdCI6MTc2Nzc4MTcyMiwianRpIjoiMWE3MGUxMWUtNzliYi00YzU0LTk2MmUtNWM4MDU5NDNhMGI2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.cbzJxY4zeEZ0L2tYfx2N6sifm0nGzyX_OKGCL5CuaLCPDw4A2OdDNAMmetAD2QCnLwI3UkE9OS189JWL6A2DJI_Ky2VYtr2LFSbAEOr2ercnSKTzeays1ibWbK6RpimDDqrHFK-r836x16CAr0vfVBdfxlW9j5KbGj6-d2hQtECer_0V0Mj9mAfBwkXQnLuJEx1qa20EMSGd7PJsDlJeF6mrkrAIMKGa8iUebLEpkurL9rEV_nBAkN9zX_2FgFjKBSAWOPsMTK_YdHjPgcZl4Bxad_4AD3bJiAqlzwzIoihrRvoaVOD_9lqdpyNbUgeJdvhxItMVoDRt6O7muonRFQ
2026-01-07T17:28:42.580+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTY5NSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNTIyLCJpYXQiOjE3Njc3ODE3MjIsImp0aSI6IjRkNWM3OTNiLTE2NzAtNDhkMy05OThhLWI5OGM1YTE1OTYxOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiXzA1b3d0X2Qwd2lTUS03R2JiZng5dl9na2s1WjdyMkh2UTNRNVZLQ1FXOCJ9.cnZmYmfBUWWTLGvLqIfsdTFZuDn03VImeKU7Cwb2kja5a2vftKk8GoyLtkHQmz7YeCFOXvopg5R73haUNFgMhHs2otVLgGjlz0KVpdh4vYWDzIepDOZl_uApPSHpmU-Amukz1ebYPNPhMVDR-6gQB_KP0Bs_PAPCYOThRhxu4H6zKt4YxKJ0TSGhyzKM9O2HZs7SqOHlJ2vRBlrhIBXJbnWVlWoih4aVXGqJXKLrLeTrs7R5NsfG2B7RxoclNzXjDz_KItkvOMJFQ2_9qHBYPoORuJMNJpXopBbtHLPGvIWkVggKTib5Qf-Lm9Ww1Mmhagp-WJOrs84tWlkoRMiIaw
2026-01-07T17:28:42.580+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 2J_wqu0NPFGgrEukcTAChP0wqlHerFMul4hGTbO45CDkjiCKeybtDKtXMNWD-tS6nTwWRNTGoSAVn3pWdu_ntEgcoRsiAiNBsy_6tOUWHyC-weBjI5JhPnDcIXbU_zGd
2026-01-07T17:29:42.644+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:29:42.675+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:29:42.680+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T17:29:42.680+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T17:29:42.718+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:29:42.726+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:29:42.728+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:29:43.011+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:29:43.017+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:29:43.017+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:30:01.051+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:30:01.062+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:30:01.065+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:30:01.217+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:30:01.230+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:30:01.235+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:30:03.100+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T17:30:03.110+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:30:03.116+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T17:30:03.391+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T17:30:03.396+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@c45020b]
2026-01-07T17:30:04.536+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Od1R6WNSNRa7WhR9s-Ojq31OCOiOgcv3P897BoPNeOs%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=iw2p9NqDh4xG9zwygdSuDuEfwR4A3whO3d3BF7Hr0t0
2026-01-07T17:30:04.551+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:30:04.599+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session 1475a168-dfca-4eff-9a23-d5b196bf458e, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T17:30:04.600+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=1uYTk9_KVtl0Hzb6RUR0PJAS_RRS_wr4EETEBY-TjsGw8yUA8R24s5-A8jCVJkwdXW0B_U-ZPoQouO5dVmtoklPPr5soSx2VNKR3vw5OBmQXrt37RVKMb62BbVBrFIAh&state=Od1R6WNSNRa7WhR9s-Ojq31OCOiOgcv3P897BoPNeOs%3D
2026-01-07T17:30:04.684+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:30:05.714+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTgwNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc4MDUsImlhdCI6MTc2Nzc4MTgwNSwianRpIjoiZjUxNGY1NjUtMDk1Mi00N2UyLThjYTgtMzMzYTQwNmE4MTdkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.V8u5pncqCYd4xO_4w4LZrSN1WuhIYImjsKJgFdHrzwN1lsnE1P4bDqjsN3wnBHMSiVgWxJ9dUaOh89x_ttJu0c-QzbOJHN6UOHxFvoQtuEd8ebHvc2efr5atucsiBDIiHpiQoY_SfOqvIT8zZy2pfDfFIkgaAK_0kHEbJG8JxVyIKjEBPFq4Vh0WjWxCr_ZrXrwpWrrHAFAmk6xvK5al_vVz63hkm2slQ95W3xwv6RhkMjo_XZXiVbnW_jdjYAV-Okre-BvrOR1eeKXkRbQP1GsZoBRhs2bmkz4rV3Dl5Wn3zaIPVS6FLBq6MtBjy6mLmWwPzr7QvWwMjfS6V4ST0g
2026-01-07T17:30:05.717+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTgwNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNjA1LCJpYXQiOjE3Njc3ODE4MDUsIm5vbmNlIjoiaXcycDlOcURoNHhHOXp3eWdkU3VEdUVmd1I0QTN3aE8zZDNCRjdIcjB0MCIsImp0aSI6IjRjYjk0ZDYxLTUxNDUtNGQyOC1hY2MxLTRkMjBkZGU2NzVhNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiUnBvdlJEdktaWUlmMkhJaUhaMFFORHJ3enF1SmZmLW5vYzlGT2pZM0ZIQSJ9.GQZ0ZVX5DCwDto4ytrNFXNDEmNHhoHswUxXYPIkyDZuon6Oe5SYCvT9tgE8spHGaPbHffRXwfCSod56Hr864WKAieNANfxZEmn821lKWMWcGL9VeacDPXAc7ZtMSuSjo5z8xShHgDChASzX0ABQYdZOHSmA8agKNCwXKUFGzPLZl6P0E3SXZsKrE8Gox1YfLM05o2Mb3b0Y-6q4DW9qXQ9RcKEROdida1vS-lTvjz5O4uDFtKuue1Y-Wv4xnvkI2QL1Q-MBmfwN3UNsXMa7crV9qyDEZQYn6thKab_uz2bEhiKN7n-UsiF9Y6QUze6MAwnXcTZM8qbXYwhjD_0ZTCw
2026-01-07T17:30:05.718+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: WVPVrm5WvBOIdNHH0r6iEf-ecXwVeelZ9uvQv3EJaS6dwqYmtg4mlKVEjT3hRSx0YgM4YVyuEc-WFXMiX_YSWFU3iBidWWzOmihtl_dD3WdTFEVy4Nc6i6y1DoKZLeac
2026-01-07T17:30:05.733+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T17:30:05.747+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T17:30:05.754+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T17:30:05.757+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d19c3b87, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T17:30:06.383+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T17:30:06.396+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:30:06.400+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T17:30:30.964+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:30:30.984+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:30:31.029+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=ULaUvVqSx7-cMjUyoxx32ADla1P5RytcCjkCmyC6PkMHTI__G5I22TehHvpXUGg774cY3pzr7xxmTEKvwOOX4f7UtMxiuDbV6D-fRORqjaN56Xwqi92We-iIvjdcIKd0
2026-01-07T17:30:47.933+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:30:49.036+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTg0OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc4NDgsImlhdCI6MTc2Nzc4MTg0OCwianRpIjoiMTNhODI0ZWQtM2M3Zi00MzE2LTgxZGYtZThhODNjNjU4ZTA5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.Zpxi1jls_qp1YNtJmyYz59B1JzFVY4Uz-a5iiaoRZHsGyZrOLcRxGhtZg5R1q39bAyy_yKz2Hpf47bUwDoxrmZSdDpsQNyn1HP-kxWubucw1hiJrUQvN3gPQYLPPfSLlsSRD8FrJO9fYNzucKZK-LVB53gAaHK-CC48NP-wOwTCQrFHfXz7lOh18nH6OFKKNCut0jMYRTBp2LQyVkqbLdAq8hFie43OEu_0OQbArYqBs4plEZ3PWZ8Ox0hWEBi3vyZkUe6Cj7vtpNa_s9N2-yO9VSe1IeKh0hoE763WTRcE5UdQjvQq6pYeT-jVXYJWmaBZAzp6F9jP-aKAp9Bs3sQ
2026-01-07T17:30:49.036+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTgwNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNjQ4LCJpYXQiOjE3Njc3ODE4NDgsImp0aSI6IjFmNjkwY2NmLTY3ZjgtNGFkMy1hMTEyLWZmZjhmYjA1NzQzMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiUnBvdlJEdktaWUlmMkhJaUhaMFFORHJ3enF1SmZmLW5vYzlGT2pZM0ZIQSJ9.QtDk_8AxZNsovrPJoyOfk1eYGzu92GwtRFp_m1jIvXimQcnb8ncn5Yfmi5CoGZuYQOm0CMqyBLJrB94ZNS95Qax48FkrmtDOb40XtJbCBI4KG46KV3bcLkD_hAdwjBgLhKgKQ6YjdPtbh-l5q3WJpBOmZe2WPIqkVjW8QW4f2YqacUymXfibhHaZw6hWs0e5VX67w4pukiAimxVWFt-trjZLvlIL86C0WxKg90dpNSdT_SZNF-OWGxlbpV-HLQKC3Fa2C7IplUb_4QYMSxnOryfksaPQfrgVSzgPQ4pzXm236MgYAD1qu7nr1Vba1vGs_y_k2YwJPyce1cNQnHE4nA
2026-01-07T17:30:49.036+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: LjzQQUNpPG1AgrysFbXdD2N_jHxwwwS2ML7zTyvBSIrMe5yquM5enSLOJMz96Uzgltmd-uHD1BGmZYkZkHi9x7q08tbfLWZhBmq6M4U_UG26A7Q2aiZb7PVzaYZaSg1c
2026-01-07T17:31:12.132+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:31:12.178+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:31:12.184+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T17:31:12.184+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T17:31:12.210+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:31:12.218+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:31:12.219+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:31:12.505+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T17:31:12.521+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:31:12.522+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T17:31:14.186+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T17:31:14.197+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T17:31:14.201+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T17:31:14.457+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T17:31:14.458+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@383fd530]
2026-01-07T17:31:15.591+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=0JLCZZd27QnyMUXl3aN5s9z3oH1iyX8BZPvrhyWuCPQ%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=K7ANZtBCX8dG2G05q8Dl99wojVhbEs0YVtAEtEElEkE
2026-01-07T17:31:15.605+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:31:15.652+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session 977ee9af-a026-460a-bf95-03e75ae4daa5, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T17:31:15.654+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=ZUHzqxMgJnU7zUZGggt_0SuB2DQ_E7mqF1AEoN8mnefZdsk6E1exUJRzgVfVavNmEsXen1JCfeHQG25kf3Q_Z5dnaaBIAX-dDdKANAI48_nZEwUXjXUdxVQGTdYYp22x&state=0JLCZZd27QnyMUXl3aN5s9z3oH1iyX8BZPvrhyWuCPQ%3D
2026-01-07T17:31:15.730+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:31:16.782+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTg3Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc4NzYsImlhdCI6MTc2Nzc4MTg3NiwianRpIjoiZjE5OGRjYWUtZDM5NS00NDA5LWJkY2EtZDM1YWRmZWJiOTQ3IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.cU8F8A9Q9fZhikEKNR_e0f7OE78CL3aiWmfL_p2SrSmlf7_9VDIUUPvvLncRwjEwmA9MSS5c0d6xGsQ_ugO38H1SYqx8bYD1YoeV0HzTUudddioZa6AUxmQwTPvppoFWB3bEDQ9Vv9Zkw_CVSffdCBTP1UzHLQ_WvuzKV3MUfIeNV3Hz1CZUjk-wEZ4-PvY1-o6rm7Gdc18HlSstnwc1uhbsP2T8SX_81H2Z9Jw3NSQ0rrZO5cNK4fkSDNpsHCWEZjDuFVK7Xp1vIeaS5e5hRGX0vqYohJ94oQo0W7IwicnVCVd6ESs3i2ZB450uzFyKlEuDuTi05Q9PAFAggA85_g
2026-01-07T17:31:16.782+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTg3NSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNjc2LCJpYXQiOjE3Njc3ODE4NzYsIm5vbmNlIjoiSzdBTlp0QkNYOGRHMkcwNXE4RGw5OXdvalZoYkVzMFlWdEFFdEVFbEVrRSIsImp0aSI6ImZmMjM2YmI2LTJjODUtNGVjMi04M2FlLTYxY2IwZjA0NGMxZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiRm90WDRsUXIyMDFLM01hZ0NqT19LYnJrUEtKRl9BakJlNDgyczZBbk9CUSJ9.rOuam4EdGWx6FAbN20V7c2tEXLGTAl-FVFIUHEMTnoeo5yAN6LgVLzMXCoq5ONpXPi2ZqllZLA52sdZbodPBspbBy0MDyWsZBK-1EXk-wsyAn31sSIMK-JbITKsHe6UBL_TtTeJZuba1ZQs_vQpFeCU7C5lmAORkrKTXJmGi9EN0tz9F0A4Vq2IXYng2wgDTVcXRSN-OX_6azgSbBuktPtlsfUQXobSDmFJpwtRcYWGqlIUrIUud3ouX_MOAsBOzAJQirnKwhMDgR-sr9TibAd7MJ3rvxSa9-z4vzNMn37pCAgWMTZo-RWglDmPSG4Qn6e5T1Ehpq0Cw_RMdtZeP8Q
2026-01-07T17:31:16.784+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-7] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: sx8MAnZhQLxJ1G3Y6JZHlVrDuNNAuE0uJi-9w5jau7Gt2iCMIuTwC3H-QUOZU0Qa0T99omldpZJhtWsm9fSfseW7w-sbrU1UiyMyeDVO7Rh2B64gtZlv6036csYOJtnO
2026-01-07T17:31:16.810+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T17:31:16.817+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T17:31:16.823+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@8a996355, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T17:31:17.426+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T17:31:17.438+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:31:17.439+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T17:31:31.497+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:31:31.523+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:31:31.588+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=L1DyD6F56YUh_3WaC9KE6dN2iajQxLhQPjsM4ACkUvS5dvb74F0HCz2f2yrAuAnGypsZ8kNKmSFlD0bdA2IssKFAyDrWgrz4H3-6lo3tZr5dm3u4MclPccDL3xJhjk6s
2026-01-07T17:31:33.274+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:31:34.122+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MTg5NCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTc4OTQsImlhdCI6MTc2Nzc4MTg5NCwianRpIjoiZTQyN2VlYWMtMjU4Yy00ZjY1LWFiN2ItNTM4MjllOTY4YTUzIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.rHE62z2ZIlx2zkKdD2qVydtXNlKvO5sH6EiHLzEfEbge0YBcHERibWC6GYNVXzw5_mDpN0lBdcwSpqO-qVHEwybTFdR_YkVZmfvg_jkosPhVcCk9qbPi7h4u7VAKsdPFRhsNT5LgE48FJB1z_mcm34eQeQlxF7rzobynr-OU6peunQcBJySAt8p1pyMEKZS9lUlc7Jt0QvauzriAZuh6tkHjnnruMSxCAgz2WLS9cULKJN1idh57M_7xAlbbqPo92ZU5bjjJlCaoHThALz5Ml6viPN1Q22yTCPpCChH0LhNO81drlwcBjan8wV_CbwbIaIGOZqItyzJOzbXVLpmuFQ
2026-01-07T17:31:34.122+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTg3NSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzNjk0LCJpYXQiOjE3Njc3ODE4OTQsImp0aSI6ImU5YjBlMTYyLThjYTMtNDU3Yi05ZTI2LTIzOWI3NWQ2MjIwNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiRm90WDRsUXIyMDFLM01hZ0NqT19LYnJrUEtKRl9BakJlNDgyczZBbk9CUSJ9.uQUR029TPqHsN7kx5hf04qVXFf6IRY4mrk3e6lvvdTsEwQ4h3OmREt_8GRl5ot0Tx36ZTCpsmbr5zRXAsWbLGmtUV58e4rNAi09-LQxnpnSkrRXyKbmc8_Z41u1t4gWJ-inIlqX9wt6Zuk9Bep5IuKNOK8ef2nJ2VrMG2paSJbDWupPJlA82wh7UN0HJyl4A3tAlqRpDSFW_uW_m7cNEqd3VoLHwJlljsQ0H_A92asIioc7vQ3UNwBklQ0BFVotC6-tWIAF41FpHIF7Nd7d_eT1VhMb9v7SDcJ0j3xuvUcTHUzE04h33tVqzGEKG0kqn4zakGepP9fJFTvMIFnq1NQ
2026-01-07T17:31:34.122+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: ovv97wtM4WHQeBRaeGurnM9si5abWQkVyNUCLBTREWSyCTrwecdmE6GAfm1lbeea_2YMQg2w-MnCvVJjVbdGm5rvhFbcncLmY1BE-ktf6yWaqivIRu0R_sgt2cAImZmG
2026-01-07T17:33:45.526+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T17:33:45.546+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:33:45.662+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=dBk6vhkLpl-gs1hbs5z3tJX1MmIKIdBNSFincANIzMezpxQ5keD1ZFnkMYuDwn6Z1Dd4ByaPXVBiN6zw0ad5pn2i7KruGq8zDsh9q_6HSzWYofUQ6PpmMwt2cL9BzGbi
2026-01-07T17:33:47.190+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:33:47.648+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc4MjAyNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMTgwMjcsImlhdCI6MTc2Nzc4MjAyNywianRpIjoiMmNkMWJhNjQtYWE1ZS00NmQ1LTgwMzQtNDVhNjY1YzE4ZTY2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.YrWL6Zm4DKqsEdf41hwF9mLkit50N0EHnQIhBuo28Nakc3QhuSmXskIWQi8TeqEDLRZdcfeq8AaGhmix6BcdsLV6VU5TKp0Hv_3Yg6999ZjrfMpUm9wjdoydApLnagxLHfj7flmC10o9ZDIQFOCkP_WfN5G7ClVsq4CCopbXZu639HcgU7p51bNmJMoIH22GRzr8UrIgvHb3xTd4jBMftmywkLqSPnPeCB4KMyBwEMxxX4vDPN1k9ANpHcwfpsAo9bNO_HdUgQNd8wA9Yjg6quCz_vxdKTSN3K4U57Hilz85Qod0MrjNaaeIj54MqZW2h3j4n_P7nyFxecFV8IJ5RA
2026-01-07T17:33:47.651+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc4MTg3NSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzgzODI3LCJpYXQiOjE3Njc3ODIwMjcsImp0aSI6IjViOTMwNmY3LTRlMmYtNDZiZS1hN2QwLTc2NWZjMzAzMWYxMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiRm90WDRsUXIyMDFLM01hZ0NqT19LYnJrUEtKRl9BakJlNDgyczZBbk9CUSJ9.QS6yVZBmIeRd8837QCvRIh5DcKVahZF93W5L-w7u6N8Ce-tHeklREtTsIiy8Z_SkKrEg2pos_2Cy3nZeut1T0zXD1CruenypyKEzDvSzGowYtIqkSoGgcjA1DJetTVtj1Xd7LWSQaz7pyD8VxHdNUXUtOTFicwKnVYGNq88z3g1MjJqwDKOKm9geTqRQKbdcjlhg45ZQdzUxjod2ETTu5TassepPXUuy_l7a4aRS8hVq0OW_csxVgbxCH2GGCq63rg1-l_vXZBH1wOoteXA_jGmgY_qVBBGZ6OtRzHpe-nwk57uOninjeKIEmlemzXeaDLO_PSC58cdgQB4vQ2TYmw
2026-01-07T17:33:47.651+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 7Wk1TbHck7p6_Kzq0Idl3iMVD_A2XDXpnw5fOFAVe80lTKUEuLNy17loH_eOMBLJYpWQzc6tFzjJsh0XSSZJ_ncEyDDEw6IRGZvunZ6Sr57WaklwF-wZOQvdFW5lJWlO
2026-01-07T17:34:02.363+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T17:44:28.526+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T17:44:29.074+07:00  INFO 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJyZXNvdXJjZS1zZXJ2ZXIiLCJhdWQiOiJyZXNvdXJjZS1zZXJ2ZXIiLCJuYmYiOjE3Njc3ODI2NjksImlzcyI6Imh0dHBzOi8vYXV0aC5ib29rb21tZXJjZS5jb206ODI4MiIsImV4cCI6MTc2Nzc4Mjk2OSwiaWF0IjoxNzY3NzgyNjY5LCJqdGkiOiI4NWVkYzNiNS02MWJjLTQ1YWItOGZjMS01NWU3NzI0MjdmZTYiLCJhdXRob3JpdGllcyI6W119.eURFT_Ven36SoWMTK6G8eyuul2aKzF5szuPlp-EOKeIoJNRNDrdzzcy3WGkc-ewZBXCs6zoeDarR4AeLnzKx3b5oqXED037KhSV4fIB8sXd2diYiZnbKaxK9MMCPQ1nlLEZiONfKSADZplZcfAyFjga0zQHZf1v4IW-p2KogTfIWvWPvQ42uW0QfjKLKrhD5N1-SzB3q8NRGYs89J9StPBQK5t37MmileKpr5c7wNJg7zFa-CARgtNEkU-1AFuXwq2E9XQbKYkmqKnC-jQ8N73tACqg5jI4cwZIU2-xQmxk9ATTlgbLG8YdB1XhsQgZp-zhe-qstoDw82MMBaz6iCA
2026-01-07T17:44:29.101+07:00 ERROR 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: Cannot invoke "org.springframework.security.oauth2.core.OAuth2RefreshToken.getTokenValue()" because the return value of "org.springframework.security.oauth2.server.authorization.authentication.OAuth2AccessTokenAuthenticationToken.getRefreshToken()" is null
	at com.bookommerce.auth_server.custom.CustomOAuth2AuthenticationSuccessHandler.onAuthenticationSuccess(CustomOAuth2AuthenticationSuccessHandler.java:34) ~[classes/:na]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter.doFilterInternal(OAuth2TokenEndpointFilter.java:170) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:177) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:135) ~[spring-security-oauth2-resource-server-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:143) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:92) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:177) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:105) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.5.5.jar:1.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142) ~[spring-session-core-3.5.4.jar:3.5.4]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82) ~[spring-session-core-3.5.4.jar:3.5.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2026-01-07T17:44:29.204+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-07T17:44:29.206+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-07T17:44:29.259+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T17:44:37.173+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T17:44:37.182+07:00 DEBUG 18728 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T19:20:09.009+07:00  WARN 18728 --- [auth-server] [HikariPool-2:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=35m58s551ms391Âµs100ns).
2026-01-07T19:39:22.479+07:00  INFO 11860 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 11860 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T19:39:22.519+07:00  INFO 11860 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T19:39:22.948+07:00  INFO 11860 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T19:39:22.952+07:00  INFO 11860 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T19:39:38.301+07:00  INFO 11860 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T19:39:38.306+07:00  INFO 11860 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T19:39:38.779+07:00  INFO 11860 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 398 ms. Found 6 JPA repository interfaces.
2026-01-07T19:39:38.831+07:00  INFO 11860 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T19:39:38.841+07:00  INFO 11860 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T19:39:38.893+07:00  INFO 11860 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T19:39:38.894+07:00  INFO 11860 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T19:39:38.896+07:00  INFO 11860 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T19:39:38.899+07:00  INFO 11860 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T19:39:38.900+07:00  INFO 11860 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T19:39:38.902+07:00  INFO 11860 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T19:39:38.905+07:00  INFO 11860 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
2026-01-07T19:39:47.611+07:00  INFO 11860 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T19:39:47.838+07:00  INFO 11860 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T19:39:47.841+07:00  INFO 11860 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T19:39:48.101+07:00  INFO 11860 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T19:39:48.106+07:00  INFO 11860 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 25151 ms
2026-01-07T19:39:49.806+07:00  INFO 11860 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T19:39:50.027+07:00  INFO 11860 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T19:39:50.121+07:00  INFO 11860 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T19:39:50.648+07:00  INFO 11860 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T19:39:50.691+07:00  INFO 11860 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T19:39:52.889+07:00  INFO 11860 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c043328
2026-01-07T19:39:52.895+07:00  INFO 11860 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T19:39:52.992+07:00  WARN 11860 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T19:39:53.038+07:00  INFO 11860 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T19:39:55.164+07:00  INFO 11860 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T19:39:55.326+07:00  INFO 11860 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T19:39:58.150+07:00  INFO 11860 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T19:39:59.612+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T19:39:59.614+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T19:39:59.617+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T19:39:59.624+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T19:39:59.629+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T19:39:59.631+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T19:40:00.391+07:00  INFO 11860 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T19:40:01.461+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T19:40:01.462+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T19:40:01.462+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T19:40:01.463+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T19:40:01.463+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T19:40:01.464+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T19:40:01.606+07:00  WARN 11860 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T19:40:05.152+07:00  INFO 11860 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T19:40:05.603+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026790db08a8@6554209 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T19:40:05.743+07:00 DEBUG 11860 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T19:40:05.777+07:00  INFO 11860 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T19:40:06.424+07:00  WARN 11860 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T19:40:06.591+07:00  INFO 11860 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T19:40:06.613+07:00  INFO 11860 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T19:40:06.646+07:00  INFO 11860 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 47.069 seconds (process running for 50.113)
2026-01-07T19:47:55.195+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T19:47:55.203+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T19:47:55.263+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 57 ms
2026-01-07T19:47:55.386+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:47:55.710+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T19:47:55.721+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3cc95eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T19:47:55.751+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2TokenIntrospectionAuthenticationProvider since null
2026-01-07T19:47:55.753+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-01-07T19:47:55.760+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T19:49:31.168+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:49:31.199+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T19:49:31.201+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3cc95eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T19:49:31.207+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2TokenIntrospectionAuthenticationProvider since null
2026-01-07T19:49:31.209+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-01-07T19:49:31.211+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T19:49:51.491+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:49:51.515+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T19:49:51.515+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3cc95eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T19:49:51.522+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2TokenIntrospectionAuthenticationProvider since null
2026-01-07T19:49:51.526+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-01-07T19:49:51.526+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T19:50:08.039+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:50:08.056+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T19:50:08.061+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3cc95eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T19:50:08.065+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2TokenIntrospectionAuthenticationProvider since null
2026-01-07T19:50:08.065+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-01-07T19:50:08.068+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T19:51:46.379+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:51:52.805+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:51:52.835+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T19:51:53.024+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T19:51:53.148+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T19:51:53.212+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T19:51:53.226+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T19:51:53.226+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 104c4bd7-fc32-44ea-8cce-43c7e1059f75
2026-01-07T19:51:53.275+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T19:52:06.597+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:52:06.640+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T19:52:06.642+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3cc95eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=214c1d27-42bc-41ec-8ed4-8fbdd52c3384], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T19:52:06.642+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2TokenIntrospectionAuthenticationProvider since null
2026-01-07T19:52:06.642+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-01-07T19:52:06.648+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T19:54:20.126+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T19:54:20.142+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T19:54:20.142+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e3cc95eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=214c1d27-42bc-41ec-8ed4-8fbdd52c3384], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T19:54:20.147+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.authentication.ProviderManager     : Authentication failed with provider OAuth2TokenIntrospectionAuthenticationProvider since null
2026-01-07T19:54:20.147+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2026-01-07T19:54:20.149+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.authentication.ProviderManager     : Denying authentication since all attempted providers failed
2026-01-07T19:56:03.679+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:02:11.218+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T20:02:11.276+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:02:11.296+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T20:02:11.296+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T20:02:11.400+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T20:02:11.411+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:02:11.414+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T20:02:12.234+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T20:02:12.286+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:02:12.291+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T20:02:13.985+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T20:02:14.008+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:02:14.009+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T20:02:14.972+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T20:02:14.980+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@20e023de]
2026-01-07T20:02:19.590+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=fA4RjQvxwzASC11kyZP-NHuM1EoJd2RlDdPzvNBOwhY%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=hgGtqzmSo6dtuuzyIRR3LMTYc82ODS8LldUBwWRll4I
2026-01-07T20:02:19.609+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T20:02:19.981+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session b738906c-6adf-446c-9d44-9fe3adf93038, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T20:02:19.988+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=gBqn7bVyaYRKy_S5hWVokCGeaHYGVUcCORW6uR20wBw25Nx87ozPKvN8hD-SXAz7F8slrdcSbQUENYs0XG7MmZwrT4T0py0nU7IuZPp7J6_raubiyxdYPq7oRzMywXdT&state=fA4RjQvxwzASC11kyZP-NHuM1EoJd2RlDdPzvNBOwhY%3D
2026-01-07T20:02:20.948+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T20:02:22.054+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5MDk0MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMjY5NDEsImlhdCI6MTc2Nzc5MDk0MSwianRpIjoiZmNlOTlkOGQtMjliNi00MDljLWI0ZTktNmQ4ZDVjNjJmNDRiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.fYKT-rYpcMEl7lbR8th8UUKoQ4GEBjMBKsfZxDbRyWakUCJudR5wHO5A1LM-vq5XnWXSQrwNwPUUdaUIn1XwBZ4TfF1ttN-MgNWLoSXWa4H0O2LCoCjJue5F-vWG_FtFFik6vrt4HOq8fNNJMNMmkK0G1z68KsjDDHkwOhvEhIds3z_rtCb0YIyWWF-OLCVRHmeQJmW8BhxmlM0D2O_nhLzNSEX2LXCT6Lda-zWL4Arv78Dem2-NfBa0oyB_Ld2s9aqKVuiymPtPoBfWMvWvpJam-9J8Uy4xwkjlzThO6hcU4bb7uibYViuFfgWOofdbBbnnQuQZspxCFqdUJfbFIA
2026-01-07T20:02:22.054+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5MDkzOSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzkyNzQxLCJpYXQiOjE3Njc3OTA5NDEsIm5vbmNlIjoiaGdHdHF6bVNvNmR0dXV6eUlSUjNMTVRZYzgyT0RTOExsZFVCd1dSbGw0SSIsImp0aSI6IjFmNmNjZDE0LWMwZjUtNDg1Zi1hNGExLTMxNDRmNDdlYmY4OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoienQ1TFJLdkRUamtyMVZNUm1LSjVZWkoteWVRbnpKWlpfdTdqb2NQM05ZUSJ9.pMU9pfnmzOA9thRBrDeQTOYVJWF9sn6d5S0KlAcxCNN-5cmz_ueSYtv5yD_24GyA8VlvzSWsXdpiW0rKJ2cBEsnMKZCp9_7C4Ni0mqGImg4H1UFnPtXym59ugETafVFqdoT9J-fjpSytEUUuoZfBDakNgY58kN5-X0lKfap9nMyZZfOwmPxdtDrCv-9sLpqEfC30ZiPluFUmSTHvAEmtIkuv4Y2y_wNUVCQHNATRq71IyoQQvtUgMCCIswngQhCxe65vn8oM8CZ8UHr_vXzrLnnVdRAXCANfeqzy7jdEX4q5Ev6OeyeSt7i_ZitGXSXyeNVzGmHsiutVvLwa3oQ0uQ
2026-01-07T20:02:22.059+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: fH4CKTfjxfr2cNSkmbK_sPxTnQKrM95gbQ_KOYRkwwKUHAQY3xm922ZhCmGLF5o7WCbTGel02kyfeAP48aJskIFB0zUweF0wV2JaHCi5wjwc8uk0pkV-OwPAwqPjVLOu
2026-01-07T20:02:22.704+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T20:02:22.787+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T20:02:22.792+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T20:02:22.792+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@79575350, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T20:02:28.154+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T20:02:28.174+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T20:02:28.185+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T20:02:46.804+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T20:02:46.822+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T20:02:46.872+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=nDH8AYcP2cMegB1lJsENpqRHCfrxK20CshjT3byteRJwtciTXQ__Wod2PbU2qnx8ZYE7G6X5m4GKohKxePq8kO8cwtRPzX0yWEfPHTxBEMijKIHH4IFQQVK7Dgl2SE7C
2026-01-07T20:02:50.223+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T20:02:51.138+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5MDk3MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMjY5NzEsImlhdCI6MTc2Nzc5MDk3MSwianRpIjoiYTA1MjgyZDItMmU1Zi00ODdlLWJkNjgtNjRkNTYxM2JhMjI1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.MNWIpYHyQjGfpMFUBZ7QyBxraErAETEcwliYc18C63lQGXX5jgOo1-fEN_CRxpbHjt72TOUXBMOp3LBvMEhWtJsNMQM1obpXt4M_KFKbY3d5xxmnpLW6y2YDCAeumP4KPlpwWxgjXlBh0TEgPcEYsLUeAGCBnoG0of8FLJQk-ZkYyfSyLll6Vj3yWq80xqY-agt0tDEo5KOYIGg25_H4DfVc_N7d9CJE1YH2XDrkUpYL_p__j4XBjOX95ibROI5bl3XmIoDn5XrDFnm1LFGzh-eWy9IZuPiF3MrhBE9-gJfpxk8r1WQ69QhaGjvRbpcYIt8KwiQnA5I5e9sx9-hDvQ
2026-01-07T20:02:51.138+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5MDkzOSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3NzkyNzcxLCJpYXQiOjE3Njc3OTA5NzEsImp0aSI6IjU0ODEzZThlLTRkZWQtNDM5Ni1iYTI0LWY5MjZkMGI4MjZkNSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoienQ1TFJLdkRUamtyMVZNUm1LSjVZWkoteWVRbnpKWlpfdTdqb2NQM05ZUSJ9.rjwf6_fcO6DfbStFU2qeITG8y-PxcPis04SFl2L3uCpcYebLdp8P84d4efYqnzrsfSIWCwjR3M2qrrTn4nyyGbGXAGiN8c7TG7Qb2TFXJIWq9SJ_-v7OsjngmUejLLesFY9a1ujiwakzYBOGbb9GefGuCep2IvuoMI6mxV2B8welBDPqCV_NyWXW7vyz2hI56Z0uvBSg--Gn-wuqW5lexfi_bAeqe3NspgaqzE5i6dsBbc3yrXRPQLGwowegqaIRr_aQS_fe70JaOQo4dJqbZPJY4wBkQvonABfBiGm0ZrVfnSEvwCaeB7xLkHF29rRe7P3QdlCllxbrT7hjsPg-dA
2026-01-07T20:02:51.138+07:00  INFO 11860 --- [auth-server] [https-jsse-nio-8282-exec-7] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: itieg89i1d1rPB0O2-Sl3JUbs01BaQg-RBBtR95ZWP_S6X62Q14EPkDs4GaeKKP0SIlV5VqfJiflO6ETw_a83Lp8qAMJeS5T74lKfJaBcI7Ssn_rXYORbPFjLUqh2oqP
2026-01-07T20:03:17.608+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:03:51.818+07:00 DEBUG 11860 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:07:01.047+07:00  INFO 11476 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 11476 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T20:07:01.058+07:00  INFO 11476 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T20:07:01.295+07:00  INFO 11476 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T20:07:01.299+07:00  INFO 11476 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T20:07:16.971+07:00  INFO 11476 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T20:07:16.981+07:00  INFO 11476 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T20:07:17.967+07:00  INFO 11476 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 922 ms. Found 6 JPA repository interfaces.
2026-01-07T20:07:18.206+07:00  INFO 11476 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T20:07:18.233+07:00  INFO 11476 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T20:07:18.506+07:00  INFO 11476 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:07:18.527+07:00  INFO 11476 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:07:18.550+07:00  INFO 11476 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:07:18.572+07:00  INFO 11476 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:07:18.579+07:00  INFO 11476 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:07:18.593+07:00  INFO 11476 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:07:18.625+07:00  INFO 11476 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 234 ms. Found 0 Redis repository interfaces.
2026-01-07T20:07:30.368+07:00  INFO 11476 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T20:07:30.621+07:00  INFO 11476 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T20:07:30.635+07:00  INFO 11476 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T20:07:31.105+07:00  INFO 11476 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T20:07:31.106+07:00  INFO 11476 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 29806 ms
2026-01-07T20:07:33.335+07:00  INFO 11476 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T20:07:33.616+07:00  INFO 11476 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T20:07:33.859+07:00  INFO 11476 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T20:07:35.090+07:00  INFO 11476 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T20:07:35.237+07:00  INFO 11476 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T20:07:37.572+07:00  INFO 11476 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38dee596
2026-01-07T20:07:37.607+07:00  INFO 11476 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T20:07:38.012+07:00  WARN 11476 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T20:07:38.199+07:00  INFO 11476 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T20:07:44.933+07:00  INFO 11476 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T20:07:45.352+07:00  INFO 11476 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T20:07:48.041+07:00  INFO 11476 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T20:07:49.529+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T20:07:49.535+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T20:07:49.539+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T20:07:49.541+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T20:07:49.546+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T20:07:49.546+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T20:07:51.440+07:00  INFO 11476 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T20:07:53.279+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T20:07:53.281+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T20:07:53.283+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T20:07:53.283+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T20:07:53.285+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T20:07:53.286+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T20:07:53.600+07:00  WARN 11476 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T20:07:57.123+07:00  INFO 11476 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T20:07:58.431+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bd83daf180@317dc9f2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T20:07:58.625+07:00 DEBUG 11476 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T20:07:58.692+07:00  INFO 11476 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T20:08:00.218+07:00  WARN 11476 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T20:08:00.676+07:00  INFO 11476 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T20:08:00.737+07:00  INFO 11476 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T20:08:00.804+07:00  INFO 11476 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 61.401 seconds (process running for 63.094)
2026-01-07T20:17:36.185+07:00  INFO 11476 --- [auth-server] [https-jsse-nio-8282-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T20:17:36.202+07:00  INFO 11476 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T20:17:36.265+07:00  INFO 11476 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 61 ms
2026-01-07T20:17:36.370+07:00 DEBUG 11476 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:43:07.979+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T20:43:07.985+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T20:43:08.139+07:00  INFO 8844 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T20:43:08.159+07:00  INFO 8844 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T20:43:14.307+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T20:43:14.318+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T20:43:14.819+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 470 ms. Found 6 JPA repository interfaces.
2026-01-07T20:43:14.870+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T20:43:14.872+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T20:43:14.911+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:43:14.912+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:43:14.913+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:43:14.917+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:43:14.919+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:43:14.921+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T20:43:14.921+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2026-01-07T20:43:18.387+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T20:43:18.474+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T20:43:18.486+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T20:43:18.777+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T20:43:18.785+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10620 ms
2026-01-07T20:43:22.328+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T20:43:22.804+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T20:43:22.919+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T20:43:24.396+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T20:43:24.466+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T20:43:25.167+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@710c4af7
2026-01-07T20:43:25.171+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T20:43:25.264+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T20:43:25.298+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T20:43:27.946+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T20:43:28.235+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T20:43:29.696+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T20:43:30.840+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T20:43:30.841+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T20:43:30.845+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T20:43:30.847+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T20:43:30.847+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T20:43:30.851+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T20:43:31.700+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T20:43:32.844+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T20:43:32.845+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T20:43:32.846+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T20:43:32.847+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T20:43:32.848+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T20:43:32.849+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T20:43:33.049+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T20:43:35.643+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T20:43:36.215+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@7347b7df with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T20:43:36.324+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T20:43:36.356+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T20:43:37.070+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T20:43:37.280+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T20:43:37.309+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T20:43:37.341+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 30.727 seconds (process running for 32.137)
2026-01-07T20:43:38.465+07:00  INFO 8844 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T20:43:38.465+07:00  INFO 8844 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T20:43:38.465+07:00  INFO 8844 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-01-07T20:44:31.815+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T20:44:32.185+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:44:32.206+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T20:44:32.207+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T20:44:32.304+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T20:44:32.316+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:44:32.322+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T20:44:33.420+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T20:44:33.436+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:44:33.437+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T20:44:49.257+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T20:44:49.267+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T20:44:49.268+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T20:44:49.722+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T20:44:49.725+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@17962424]
2026-01-07T20:44:52.096+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=FyLLipN4ZI8IhmtegNMAwzCEm0iOdM-5hfIYnqnY7uM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=Mxj3OCyIvpE_M8pGQmokUu7nLWBRKr2Fz9RHpDEzJBs
2026-01-07T20:44:52.111+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T20:44:52.298+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.core.session.SessionRegistryImpl   : Registering session 276e38a2-941e-469f-886b-808f5f207cfd, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T20:44:52.299+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=lecrrGeupBHdbxzAmf-ZTWYkIDJiEcz_IZeWJb8lPilEMcVlJgc7qTQ4OnNq4xb5r97dwnoVx42cf9WNRnKonRLlDzvMcaRnzdlWBvVpyvLodzGXOmc_BpazpLNXO87K&state=FyLLipN4ZI8IhmtegNMAwzCEm0iOdM-5hfIYnqnY7uM%3D
2026-01-07T20:44:52.709+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T20:44:53.395+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5MzQ5Mywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMjk0OTMsImlhdCI6MTc2Nzc5MzQ5MywianRpIjoiZDBlNzZjNzItYjNlNy00MGFjLWE1NTctZDQ5OTc0YjQ0YTRmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.DGA4ZQ2y__CNuXeZTcca8D7hWS5RTgqwEpYmskDe-lvDkbnDyBtmLLyqeWXHX32Psc3PA_eNiaH2aDyU2dI16YOYy_vO9GDurB5fxWVGjA_MifQyLVQE8TNJ_7jSm_Z-TtePjF51OTdYaduSU_3-M-peZZ3YRGCAunkcrsZQux35hKsR-REDXP-QZy6YqMtROv21U3bAsBlw37rXllEP2cKWgXZJQdjnSr8PjifO0KY1KUfP1exP-aC623cm3jzLCNs1J6HwzLm5dAcIn_DrPZWk9w7XfWJ7Vl_hG9PlTtkKoed1K3YHD8TA60yMmn5mF3JYIUIijlZqzfpK9KKxaw
2026-01-07T20:44:53.397+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5MzQ5MiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk1MjkzLCJpYXQiOjE3Njc3OTM0OTMsIm5vbmNlIjoiTXhqM09DeUl2cEVfTThwR1Ftb2tVdTduTFdCUktyMkZ6OVJIcERFekpCcyIsImp0aSI6Ijg5ZTFiMGY2LWNiZjItNDdhZi05OWQ3LTkzOWMzMzdlN2E2ZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiNmgxYWxTTXd0TDVfNlBRU1k2Y1RLQVpFUk90NFdGemhlOVIzT05YczVmOCJ9.vUJcipkkGsFCDGawiRz9azXYW-QybwmMyQ-aOCTYI4lXFfkJFZ4VP8_ldd-3m0P0VWun1LbEoMucGfQ6VchXvA4Drv7Yxtfx6rcI7w4FYr46FWQE-8wznmNyjGMpxvq5Cm6nqfOpoaWzH0Dh7MbCojA-1xlu5_-HLShYzLR2yrU48iNmp2z2WJusUFCEI3mmXVFhPyY5hdO05x4e01oHI208dpDLiFB_WNrIOk5VOQ4HN4ijUdnnAx5KNTG1dK6LfI7lc6Ull_itVBr_aTpt6HC6DnglehAQU0i35myeU7OZTI3LuG04DU7KWJRkjE6yzny_816knPLa6hmPDEKmaQ
2026-01-07T20:44:53.397+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: M8TvhrbDvrhM32fdgWB3EXWXZjw2Snrf_R4WzKDTGD15oTKRIEW35j1By-ip9T_lno5YP0NsCsl4yEFnoyqUSyLMTKoK89HFYGM1aX-dJilQjnhDHvBLMiZgaa5O8fgs
2026-01-07T20:44:53.759+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T20:44:53.813+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T20:44:53.847+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T20:44:53.849+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a18dfc26, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T20:44:54.926+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T20:44:54.937+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T20:44:54.940+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T20:45:04.466+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T20:45:04.499+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T20:45:04.618+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=2-mq7QsfdeZDWIKmmeFUBK6C6fyrcbVeSkzvuP6xqH5UYjfH450ojXeDdv7hUtFXAUl4FLNt9vdnOcFhR3FmIoBr-NpmYSHtrOnqVfh1QCnmHTI7om-8cvxEJAuiDXUT
2026-01-07T20:45:07.727+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T20:45:08.351+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5MzUwOCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMjk1MDgsImlhdCI6MTc2Nzc5MzUwOCwianRpIjoiNWU4MzhmMzUtNGVhOS00OWZkLTgxNzItYWQ1NGYzY2E3OGZkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.S3qp2JmvVmrP0Q4VGqbcm91F2La4OO3wyAJgJmHWXIVs1apmiEDzooAX7lelPzjXTNrBIyKnhvZF3SauYxpx6fj-mXG3oMUqq1M-HmIVKGsSgGbqbBwLRQydwt_OTZZ8fDK4P1xanAHWnxYW1xLL3N0JmPe3ldDKNWz1NdmcXCsAdyxTr_9_uVPdqJCrEMnKmtfEKib4ZArJdYbLgEE5apJS_hMulZauR96D09_lTUZxbZIbHJSWe9T1IOgA3jpFS1Jg_tu8fYGErys-ROd5-PGyTXDQAra4ZgLbZuyXKXCCm1-XxU-GUEvp9JjAPGmOEA-He4FGhhPecfJIjwnzUA
2026-01-07T20:45:08.351+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5MzQ5MiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk1MzA4LCJpYXQiOjE3Njc3OTM1MDgsImp0aSI6ImMxODlmN2ZkLTU4MmItNDAwZS1iYTg5LTViMDRjYmQzMGYzOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiNmgxYWxTTXd0TDVfNlBRU1k2Y1RLQVpFUk90NFdGemhlOVIzT05YczVmOCJ9.Ud5V5J-0mfoufiTRYg2c2-bGZwnK1NHZmtC8V2iZVxn_OFKmPHAI25KH3w1GtyhFFM0zG471BCEiuPoIuRP0uqk-0PTWAA0ow7JmLD62tteCRrIZNrP56mL826jqZoAHXN0HijN1Ftq7omamOPkCTKUzQrzoCCQAIeuLuExfj8NRBnOuBkUZu8Tds_jJ0pV8IkEmmqCUfIRf6cCNk4rghkCNu6lN0cjUTLrlqKwdiKvvjl6glBzvEopTJboMznE-7CT36wcnrffDArL4DimAMg2Amv7eYbElYp-EqWwpEknM2xsPthUNI615Lrus8PXnBtFaRmTRyiDvTB8O059uIw
2026-01-07T20:45:08.354+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: pio8jjhTiFYiVdQFXaP3R2WfW_2j92TOc1uX4Yefton6Jl6XMRd3GoEoNf27P5wP7-2dMIuQIXShhjDRcLp9rPgRxXu03I0OqSyvwdq4ZZu3aiWOD0BnZzQSCGw8LbE5
2026-01-07T20:46:05.368+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:46:15.963+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:46:21.579+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:48:36.520+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:48:41.063+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:49:17.053+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T20:49:32.204+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T21:09:35.803+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-01-07T21:09:35.902+07:00  INFO 8844 --- [auth-server] [Thread-1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:09:35.933+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:09:36.090+07:00  INFO 8844 --- [auth-server] [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:09:36.121+07:00  INFO 8844 --- [auth-server] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-07T21:09:36.129+07:00  INFO 8844 --- [auth-server] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-07T21:09:36.560+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:09:36.562+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:09:37.895+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:09:37.896+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:09:37.935+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 6 JPA repository interfaces.
2026-01-07T21:09:37.938+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:09:37.939+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:09:37.944+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:37.946+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:37.947+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:37.947+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:37.948+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:37.948+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:37.948+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2026-01-07T21:09:38.107+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:09:38.109+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:09:38.109+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:09:38.129+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:09:38.129+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1559 ms
2026-01-07T21:09:38.185+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:09:38.187+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:09:38.201+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:09:38.202+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-07T21:09:38.221+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@750f6ab7
2026-01-07T21:09:38.221+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-07T21:09:38.224+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:09:38.225+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:09:38.450+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:09:38.594+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:09:38.673+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:09:38.730+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:09:38.731+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:09:38.731+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:09:38.732+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:09:38.733+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:09:38.733+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:09:38.781+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:09:38.781+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:09:38.782+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:09:38.782+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:09:38.782+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:09:38.782+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:09:38.803+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:09:38.929+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:09:38.982+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@6a96cab8 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:09:39.010+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:09:39.016+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:09:39.163+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:09:39.238+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:09:39.244+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:09:39.271+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.793 seconds (process running for 1594.066)
2026-01-07T21:09:39.275+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:09:40.618+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:09:40.621+07:00  INFO 8844 --- [auth-server] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:09:40.631+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:09:40.658+07:00  INFO 8844 --- [auth-server] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:09:40.659+07:00  INFO 8844 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-07T21:09:40.670+07:00  INFO 8844 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-07T21:09:40.787+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:09:40.788+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:09:41.216+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:09:41.216+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:09:41.262+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 6 JPA repository interfaces.
2026-01-07T21:09:41.266+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:09:41.268+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:09:41.274+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:41.275+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:41.275+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:41.276+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:41.276+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:41.276+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:41.277+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2026-01-07T21:09:41.394+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:09:41.395+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:09:41.395+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:09:41.414+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:09:41.414+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 624 ms
2026-01-07T21:09:41.464+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:09:41.466+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:09:41.473+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:09:41.474+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-07T21:09:41.487+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@445953f7
2026-01-07T21:09:41.487+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-07T21:09:41.489+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:09:41.490+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:09:41.735+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:09:41.914+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:09:42.195+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:09:42.302+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:09:42.307+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:09:42.309+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:09:42.311+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:09:42.312+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:09:42.312+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:09:42.383+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:09:42.383+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:09:42.384+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:09:42.384+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:09:42.384+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:09:42.384+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:09:42.415+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:09:42.614+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:09:42.685+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@d701a24 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:09:42.735+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:09:42.741+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:09:42.862+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:09:42.909+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:09:42.917+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:09:42.926+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.172 seconds (process running for 1597.721)
2026-01-07T21:09:42.930+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:09:56.627+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:09:56.631+07:00  INFO 8844 --- [auth-server] [Thread-9] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:09:56.636+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:09:56.644+07:00  INFO 8844 --- [auth-server] [Thread-9] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:09:56.647+07:00  INFO 8844 --- [auth-server] [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2026-01-07T21:09:56.652+07:00  INFO 8844 --- [auth-server] [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2026-01-07T21:09:56.782+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:09:56.783+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:09:57.330+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:09:57.330+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:09:57.372+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 6 JPA repository interfaces.
2026-01-07T21:09:57.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:09:57.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:09:57.383+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:57.383+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:57.384+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:57.384+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:57.384+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:57.385+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:09:57.385+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2026-01-07T21:09:57.578+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:09:57.579+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:09:57.580+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:09:57.635+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:09:57.656+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 869 ms
2026-01-07T21:09:57.804+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:09:57.810+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:09:57.824+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:09:57.827+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2026-01-07T21:09:57.849+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40b7115e
2026-01-07T21:09:57.850+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2026-01-07T21:09:57.853+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:09:57.855+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:09:58.192+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:09:58.276+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:09:58.345+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:09:58.392+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:09:58.392+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:09:58.392+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:09:58.393+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:09:58.393+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:09:58.394+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:09:58.434+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:09:58.434+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:09:58.434+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:09:58.434+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:09:58.434+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:09:58.434+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:09:58.457+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:09:58.590+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:09:58.625+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@6ab10b5f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:09:58.646+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:09:58.650+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:09:58.759+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:09:58.826+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:09:58.831+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:09:58.842+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.099 seconds (process running for 1613.637)
2026-01-07T21:09:58.846+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:10:37.334+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:10:37.337+07:00  INFO 8844 --- [auth-server] [Thread-13] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:10:37.346+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:10:37.362+07:00  INFO 8844 --- [auth-server] [Thread-13] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:10:37.368+07:00  INFO 8844 --- [auth-server] [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2026-01-07T21:10:37.378+07:00  INFO 8844 --- [auth-server] [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2026-01-07T21:10:37.513+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:10:37.514+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:10:38.056+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:10:38.056+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:10:38.079+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 6 JPA repository interfaces.
2026-01-07T21:10:38.081+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:10:38.081+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:10:38.086+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:10:38.087+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:10:38.087+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:10:38.087+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:10:38.088+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:10:38.088+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:10:38.088+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2026-01-07T21:10:38.238+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:10:38.239+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:10:38.239+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:10:38.261+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:10:38.262+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 744 ms
2026-01-07T21:10:38.312+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:10:38.315+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:10:38.321+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:10:38.322+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2026-01-07T21:10:38.334+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49912ff1
2026-01-07T21:10:38.334+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2026-01-07T21:10:38.336+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:10:38.337+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:10:38.463+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:10:38.496+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:10:38.550+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:10:38.593+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:10:38.593+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:10:38.593+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:10:38.593+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:10:38.594+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:10:38.594+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:10:38.638+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:10:38.638+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:10:38.640+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:10:38.640+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:10:38.641+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:10:38.641+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:10:38.662+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:10:38.781+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:10:38.820+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@63439d3d with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:10:38.847+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:10:38.850+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:10:38.930+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:10:38.978+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:10:38.983+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:10:38.988+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.517 seconds (process running for 1653.783)
2026-01-07T21:10:38.990+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:11:15.203+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:11:15.204+07:00  INFO 8844 --- [auth-server] [Thread-17] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:11:15.210+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:11:15.216+07:00  INFO 8844 --- [auth-server] [Thread-17] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:11:15.217+07:00  INFO 8844 --- [auth-server] [Thread-17] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2026-01-07T21:11:15.221+07:00  INFO 8844 --- [auth-server] [Thread-17] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2026-01-07T21:11:15.330+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:11:15.331+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:11:15.570+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:11:15.570+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:11:15.590+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 6 JPA repository interfaces.
2026-01-07T21:11:15.593+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:11:15.593+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:11:15.598+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:11:15.599+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:11:15.599+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:11:15.599+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:11:15.600+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:11:15.600+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:11:15.600+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2026-01-07T21:11:15.733+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:11:15.734+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:11:15.735+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:11:15.754+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:11:15.754+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 422 ms
2026-01-07T21:11:15.877+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:11:15.881+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:11:15.890+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:11:15.892+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2026-01-07T21:11:15.915+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c304657
2026-01-07T21:11:15.915+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2026-01-07T21:11:15.920+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:11:15.922+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:11:16.153+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:11:16.282+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:11:16.362+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:11:16.409+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:11:16.410+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:11:16.410+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:11:16.411+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:11:16.411+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:11:16.411+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:11:16.447+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:11:16.448+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:11:16.448+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:11:16.448+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:11:16.449+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:11:16.449+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:11:16.470+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:11:16.575+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:11:16.607+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@6ad61fa8 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:11:16.629+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:11:16.633+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:11:16.726+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:11:16.770+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:11:16.774+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:11:16.778+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.476 seconds (process running for 1691.573)
2026-01-07T21:11:16.780+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:12:04.276+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:12:04.280+07:00  INFO 8844 --- [auth-server] [Thread-21] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:12:04.287+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:12:04.303+07:00  INFO 8844 --- [auth-server] [Thread-21] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:04.305+07:00  INFO 8844 --- [auth-server] [Thread-21] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2026-01-07T21:12:04.310+07:00  INFO 8844 --- [auth-server] [Thread-21] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2026-01-07T21:12:04.428+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:12:04.428+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:12:04.760+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:04.760+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:12:04.779+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 6 JPA repository interfaces.
2026-01-07T21:12:04.781+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:04.781+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:12:04.790+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:04.791+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:04.791+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:04.791+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:04.792+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:04.792+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:04.792+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2026-01-07T21:12:04.882+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:12:04.883+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:12:04.883+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:12:04.898+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:12:04.899+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 468 ms
2026-01-07T21:12:04.932+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:12:04.933+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:12:04.939+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:12:04.940+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2026-01-07T21:12:04.950+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66708e7c
2026-01-07T21:12:04.951+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2026-01-07T21:12:04.953+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:12:04.953+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:12:05.037+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:12:05.087+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:05.135+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:12:05.170+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:05.170+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:05.170+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:05.171+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:05.171+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:05.171+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:05.208+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:05.208+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:05.208+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:05.208+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:05.208+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:05.208+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:05.228+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:12:05.329+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:12:05.362+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@193a3398 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:12:05.387+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:12:05.391+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:12:05.472+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:12:05.504+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:12:05.506+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:12:05.511+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.106 seconds (process running for 1740.306)
2026-01-07T21:12:05.513+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:12:16.160+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:12:16.163+07:00  INFO 8844 --- [auth-server] [Thread-25] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:12:16.173+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:12:16.190+07:00  INFO 8844 --- [auth-server] [Thread-25] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:16.190+07:00  INFO 8844 --- [auth-server] [Thread-25] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2026-01-07T21:12:16.239+07:00  INFO 8844 --- [auth-server] [Thread-25] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2026-01-07T21:12:16.513+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:12:16.520+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:12:17.335+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:17.336+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:12:17.368+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2026-01-07T21:12:17.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:17.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:12:17.381+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:17.381+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:17.382+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:17.382+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:17.383+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:17.384+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:17.384+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2026-01-07T21:12:17.632+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:12:17.634+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:12:17.635+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:12:17.680+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:12:17.682+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1157 ms
2026-01-07T21:12:17.779+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:12:17.788+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:12:17.799+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:12:17.801+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2026-01-07T21:12:17.824+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5eb192c9
2026-01-07T21:12:17.825+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2026-01-07T21:12:17.829+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:12:17.831+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:12:17.980+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:12:18.023+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:18.156+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:12:18.285+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:18.286+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:18.287+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:18.289+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:18.289+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:18.291+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:18.373+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:18.373+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:18.374+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:18.374+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:18.374+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:18.374+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:18.408+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:12:18.654+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:12:18.742+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@230b822f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:12:18.795+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:12:18.802+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:12:18.919+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:12:18.956+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:12:18.961+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:12:18.970+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.533 seconds (process running for 1753.765)
2026-01-07T21:12:18.975+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:12:20.405+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:12:20.409+07:00  INFO 8844 --- [auth-server] [Thread-29] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:12:20.417+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:12:20.431+07:00  INFO 8844 --- [auth-server] [Thread-29] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:20.432+07:00  INFO 8844 --- [auth-server] [Thread-29] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2026-01-07T21:12:20.437+07:00  INFO 8844 --- [auth-server] [Thread-29] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2026-01-07T21:12:20.565+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:12:20.565+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:12:20.861+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:20.861+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:12:20.883+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 6 JPA repository interfaces.
2026-01-07T21:12:20.885+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:20.886+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:12:20.891+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:20.891+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:20.891+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:20.892+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:20.892+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:20.892+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:20.892+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2026-01-07T21:12:20.993+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:12:20.995+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:12:20.995+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:12:21.028+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:12:21.029+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 462 ms
2026-01-07T21:12:21.090+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:12:21.092+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:12:21.097+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:12:21.098+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2026-01-07T21:12:21.111+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d432d6c
2026-01-07T21:12:21.111+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2026-01-07T21:12:21.113+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:12:21.114+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:12:21.205+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:12:21.235+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:21.287+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:12:21.305+07:00  WARN 8844 --- [auth-server] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customOidcLogoutAuthenticationSuccessHandler' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\custom\CustomOidcLogoutAuthenticationSuccessHandler.class]: Failed to instantiate [com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler]: Constructor threw exception
2026-01-07T21:12:21.307+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:21.309+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2026-01-07T21:12:21.334+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2026-01-07T21:12:21.335+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-07T21:12:21.342+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-07T21:12:21.367+07:00 ERROR 8844 --- [auth-server] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customOidcLogoutAuthenticationSuccessHandler' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\custom\CustomOidcLogoutAuthenticationSuccessHandler.class]: Failed to instantiate [com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1242) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:123) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1351) ~[spring-beans-6.2.15.jar:6.2.15]
	... 22 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problems: 
	The blank final field delegate may not have been initialized
	The blank final field oAuth2AuthorizationService may not have been initialized

	at com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler.<init>(CustomOidcLogoutAuthenticationSuccessHandler.java:21) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.2.15.jar:6.2.15]
	... 24 common frames omitted

2026-01-07T21:12:55.751+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:12:55.751+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:12:56.191+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:56.192+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:12:56.221+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2026-01-07T21:12:56.223+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:56.224+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:12:56.229+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:56.229+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:56.229+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:56.230+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:56.230+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:56.230+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:56.230+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2026-01-07T21:12:56.429+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:12:56.443+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:12:56.447+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:12:56.493+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:12:56.498+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 743 ms
2026-01-07T21:12:56.726+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:12:56.741+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:12:56.765+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:12:56.769+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2026-01-07T21:12:56.795+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d65e07
2026-01-07T21:12:56.797+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2026-01-07T21:12:56.801+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:12:56.804+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:12:56.946+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:12:56.991+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:57.040+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:12:57.120+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:57.120+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:57.121+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:57.121+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:57.121+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:57.121+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:57.157+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:57.157+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:57.158+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:57.158+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:57.158+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:57.158+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:57.162+07:00  WARN 8844 --- [auth-server] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customOidcLogoutAuthenticationSuccessHandler' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\custom\CustomOidcLogoutAuthenticationSuccessHandler.class]: Failed to instantiate [com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler]: Constructor threw exception
2026-01-07T21:12:57.187+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:57.188+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2026-01-07T21:12:57.224+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2026-01-07T21:12:57.227+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-07T21:12:57.237+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-07T21:12:57.240+07:00 ERROR 8844 --- [auth-server] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customOidcLogoutAuthenticationSuccessHandler' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\custom\CustomOidcLogoutAuthenticationSuccessHandler.class]: Failed to instantiate [com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318) ~[spring-beans-6.2.15.jar:6.2.15]
	... 24 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	The blank final field delegate may not have been initialized

	at com.bookommerce.auth_server.custom.CustomOidcLogoutAuthenticationSuccessHandler.<init>(CustomOidcLogoutAuthenticationSuccessHandler.java:25) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.2.15.jar:6.2.15]
	... 26 common frames omitted

2026-01-07T21:12:58.706+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:12:58.706+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:12:58.925+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:58.925+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:12:58.942+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 6 JPA repository interfaces.
2026-01-07T21:12:58.944+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:12:58.944+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:12:58.957+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:58.957+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:58.959+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:58.959+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:58.959+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:58.960+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:12:58.960+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2026-01-07T21:12:59.071+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:12:59.073+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:12:59.073+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:12:59.090+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:12:59.091+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 384 ms
2026-01-07T21:12:59.123+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:12:59.126+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:12:59.132+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:12:59.133+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2026-01-07T21:12:59.145+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8503bd1
2026-01-07T21:12:59.145+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2026-01-07T21:12:59.147+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:12:59.147+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:12:59.238+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:12:59.285+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:12:59.335+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:12:59.379+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:59.379+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:59.380+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:59.380+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:59.380+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:59.380+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:59.394+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:12:59.395+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:12:59.395+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:12:59.395+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:12:59.395+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:12:59.395+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:12:59.422+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:12:59.504+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:12:59.532+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@5ae95a8f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:12:59.554+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:12:59.557+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:12:59.624+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:12:59.679+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:12:59.683+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:12:59.688+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 0.999 seconds (process running for 1794.483)
2026-01-07T21:12:59.690+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:16:13.000+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:16:13.036+07:00  INFO 8844 --- [auth-server] [Thread-33] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:16:13.062+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:16:13.113+07:00  INFO 8844 --- [auth-server] [Thread-33] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:13.131+07:00  INFO 8844 --- [auth-server] [Thread-33] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2026-01-07T21:16:13.145+07:00  INFO 8844 --- [auth-server] [Thread-33] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2026-01-07T21:16:13.937+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:16:13.938+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:16:14.362+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:14.363+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:16:14.393+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2026-01-07T21:16:14.397+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:14.397+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:16:14.406+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:14.406+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:14.406+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:14.406+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:14.406+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:14.407+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:14.407+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2026-01-07T21:16:14.526+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:16:14.528+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:16:14.528+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:16:14.550+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:16:14.551+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 607 ms
2026-01-07T21:16:14.590+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:16:14.592+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:16:14.608+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:16:14.610+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2026-01-07T21:16:14.663+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17ae3dca
2026-01-07T21:16:14.663+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2026-01-07T21:16:14.667+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:16:14.668+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:16:14.852+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:16:14.918+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:15.002+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:16:15.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:15.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:15.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:15.087+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:15.088+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:15.089+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:15.116+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:15.120+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:15.122+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:15.124+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:15.125+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:15.126+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:15.180+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:16:15.361+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:16:15.408+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@3c287d29 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:16:15.432+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:16:15.436+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:16:15.531+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:16:15.607+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:16:15.614+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:16:15.621+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.812 seconds (process running for 1990.416)
2026-01-07T21:16:15.625+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:16:21.089+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:16:21.093+07:00  INFO 8844 --- [auth-server] [Thread-43] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:16:21.109+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:16:21.127+07:00  INFO 8844 --- [auth-server] [Thread-43] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:21.129+07:00  INFO 8844 --- [auth-server] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2026-01-07T21:16:21.136+07:00  INFO 8844 --- [auth-server] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2026-01-07T21:16:21.357+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:16:21.361+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:16:21.769+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:21.770+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:16:21.794+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 6 JPA repository interfaces.
2026-01-07T21:16:21.797+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:21.797+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:16:21.803+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:21.803+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:21.803+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:21.803+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:21.803+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:21.803+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:21.805+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2026-01-07T21:16:21.896+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:16:21.897+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:16:21.897+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:16:21.919+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:16:21.919+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 556 ms
2026-01-07T21:16:21.971+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:16:21.973+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:16:21.983+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:16:21.984+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2026-01-07T21:16:21.998+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20b4b8ab
2026-01-07T21:16:21.999+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2026-01-07T21:16:22.003+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:16:22.003+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:16:22.181+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:16:22.234+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:22.293+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:16:22.366+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:22.366+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:22.367+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:22.367+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:22.367+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:22.368+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:22.387+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:22.387+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:22.387+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:22.387+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:22.388+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:22.388+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:22.431+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:16:22.558+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:16:22.594+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@6ae0e6c0 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:16:22.614+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:16:22.616+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:16:22.686+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:16:22.724+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:16:22.727+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:16:22.731+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.421 seconds (process running for 1997.526)
2026-01-07T21:16:22.733+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:16:29.295+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:16:29.301+07:00  INFO 8844 --- [auth-server] [Thread-47] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:16:29.309+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:16:29.320+07:00  INFO 8844 --- [auth-server] [Thread-47] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:29.324+07:00  INFO 8844 --- [auth-server] [Thread-47] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2026-01-07T21:16:29.336+07:00  INFO 8844 --- [auth-server] [Thread-47] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2026-01-07T21:16:29.467+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:16:29.468+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:16:29.689+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:29.689+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:16:29.704+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 6 JPA repository interfaces.
2026-01-07T21:16:29.706+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:29.706+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:16:29.710+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:29.711+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:29.711+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:29.711+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:29.711+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:29.711+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:29.711+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2026-01-07T21:16:29.777+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:16:29.778+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:16:29.778+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:16:29.793+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:16:29.794+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 325 ms
2026-01-07T21:16:29.833+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:16:29.835+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:16:29.843+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:16:29.843+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Starting...
2026-01-07T21:16:29.855+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ffa5fe1
2026-01-07T21:16:29.857+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Start completed.
2026-01-07T21:16:29.858+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:16:29.858+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-14)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:16:29.970+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:16:30.001+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:30.042+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:16:30.084+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:30.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:30.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:30.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:30.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:30.085+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:30.096+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:30.096+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:30.096+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:30.096+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:30.098+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:30.098+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:30.129+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:16:30.233+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:16:30.276+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@59937350 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:16:30.306+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:16:30.312+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:16:30.406+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:16:30.456+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:16:30.463+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:16:30.467+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.02 seconds (process running for 2005.262)
2026-01-07T21:16:30.470+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:16:40.084+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-07T21:16:40.086+07:00  INFO 8844 --- [auth-server] [Thread-51] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:16:40.091+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:16:40.097+07:00  INFO 8844 --- [auth-server] [Thread-51] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:40.098+07:00  INFO 8844 --- [auth-server] [Thread-51] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown initiated...
2026-01-07T21:16:40.101+07:00  INFO 8844 --- [auth-server] [Thread-51] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown completed.
2026-01-07T21:16:40.234+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:16:40.235+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:16:40.512+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:40.512+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:16:40.535+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 6 JPA repository interfaces.
2026-01-07T21:16:40.537+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:16:40.538+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:16:40.541+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:40.542+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:40.542+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:40.542+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:40.542+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:40.543+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:16:40.543+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2026-01-07T21:16:40.637+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:16:40.638+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:16:40.639+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:16:40.660+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:16:40.660+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 424 ms
2026-01-07T21:16:40.700+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:16:40.703+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:16:40.709+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:16:40.709+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Starting...
2026-01-07T21:16:40.721+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a1de6ae
2026-01-07T21:16:40.721+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Start completed.
2026-01-07T21:16:40.724+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:16:40.725+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-15)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:16:40.815+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:16:40.862+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:16:40.919+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:16:40.957+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:40.957+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:40.957+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:40.957+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:40.959+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:40.959+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:40.972+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:16:40.973+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:16:40.973+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:16:40.973+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:16:40.973+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:16:40.973+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:16:40.994+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:16:41.079+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:16:41.148+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@6d2d6acf with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:16:41.215+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:16:41.232+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:16:41.404+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:16:41.453+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:16:41.457+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:16:41.463+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.25 seconds (process running for 2016.258)
2026-01-07T21:16:41.465+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:17:41.573+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-07T21:17:41.581+07:00  INFO 8844 --- [auth-server] [Thread-55] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:17:41.610+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:17:41.631+07:00  INFO 8844 --- [auth-server] [Thread-55] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:17:41.634+07:00  INFO 8844 --- [auth-server] [Thread-55] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown initiated...
2026-01-07T21:17:41.651+07:00  INFO 8844 --- [auth-server] [Thread-55] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown completed.
2026-01-07T21:17:41.835+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:17:41.835+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:17:42.066+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:17:42.066+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:17:42.083+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 6 JPA repository interfaces.
2026-01-07T21:17:42.086+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:17:42.087+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:17:42.090+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:17:42.091+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:17:42.091+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:17:42.091+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:17:42.092+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:17:42.092+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:17:42.092+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2026-01-07T21:17:42.168+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:17:42.169+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:17:42.169+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:17:42.192+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:17:42.193+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 356 ms
2026-01-07T21:17:42.231+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:17:42.233+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:17:42.239+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:17:42.240+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Starting...
2026-01-07T21:17:42.254+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20b661fc
2026-01-07T21:17:42.254+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Start completed.
2026-01-07T21:17:42.256+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:17:42.256+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-16)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:17:42.350+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:17:42.417+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:17:42.487+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:17:42.529+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:17:42.530+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:17:42.530+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:17:42.530+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:17:42.531+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:17:42.531+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:17:42.550+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:17:42.550+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:17:42.551+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:17:42.551+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:17:42.551+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:17:42.551+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:17:42.585+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:17:42.671+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:17:42.702+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@6bada272 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:17:42.722+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:17:42.724+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:17:42.779+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:17:42.815+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:17:42.818+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:17:42.822+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.009 seconds (process running for 2077.617)
2026-01-07T21:17:42.823+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:17:59.872+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-07T21:17:59.876+07:00  INFO 8844 --- [auth-server] [Thread-59] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:17:59.883+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:17:59.894+07:00  INFO 8844 --- [auth-server] [Thread-59] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:17:59.896+07:00  INFO 8844 --- [auth-server] [Thread-59] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown initiated...
2026-01-07T21:17:59.905+07:00  INFO 8844 --- [auth-server] [Thread-59] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown completed.
2026-01-07T21:18:00.084+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:18:00.084+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:18:00.348+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:18:00.348+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:18:00.366+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 6 JPA repository interfaces.
2026-01-07T21:18:00.369+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:18:00.370+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:18:00.374+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:18:00.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:18:00.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:18:00.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:18:00.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:18:00.375+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:18:00.376+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2026-01-07T21:18:00.453+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:18:00.454+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:18:00.455+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:18:00.471+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:18:00.471+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 386 ms
2026-01-07T21:18:00.501+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:18:00.503+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:18:00.508+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:18:00.509+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Starting...
2026-01-07T21:18:00.520+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@16a50e95
2026-01-07T21:18:00.521+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Start completed.
2026-01-07T21:18:00.522+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:18:00.523+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-17)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:18:00.622+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:18:00.670+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:18:00.741+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:18:00.783+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:18:00.783+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:18:00.783+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:18:00.783+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:18:00.784+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:18:00.784+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:18:00.797+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:18:00.798+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:18:00.798+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:18:00.798+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:18:00.799+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:18:00.799+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:18:00.823+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:18:00.909+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:18:00.945+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@2ae22e71 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:18:00.968+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:18:00.973+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:18:01.042+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:18:01.078+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:18:01.081+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:18:01.085+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 1.03 seconds (process running for 2095.881)
2026-01-07T21:18:01.087+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:19:38.907+07:00  INFO 8844 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
2026-01-07T21:19:39.097+07:00  INFO 8844 --- [auth-server] [Thread-63] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-07T21:19:39.197+07:00  INFO 8844 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-07T21:19:39.358+07:00  INFO 8844 --- [auth-server] [Thread-63] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:19:39.426+07:00  INFO 8844 --- [auth-server] [Thread-63] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown initiated...
2026-01-07T21:19:39.486+07:00  INFO 8844 --- [auth-server] [Thread-63] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown completed.
2026-01-07T21:19:42.596+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 8844 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:19:42.627+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:19:45.748+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:19:45.755+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:19:46.209+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 438 ms. Found 6 JPA repository interfaces.
2026-01-07T21:19:46.269+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:19:46.379+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:19:46.486+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:19:46.577+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:19:46.606+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:19:46.615+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:19:46.619+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:19:46.627+07:00  INFO 8844 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:19:46.630+07:00  INFO 8844 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 210 ms. Found 0 Redis repository interfaces.
2026-01-07T21:19:47.041+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:19:47.043+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:19:47.043+07:00  INFO 8844 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:19:47.089+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-07T21:19:47.090+07:00  INFO 8844 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4369 ms
2026-01-07T21:19:47.181+07:00  INFO 8844 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:19:47.184+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:19:47.197+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:19:47.199+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Starting...
2026-01-07T21:19:47.324+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7ebd88e1
2026-01-07T21:19:47.325+07:00  INFO 8844 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-18 - Start completed.
2026-01-07T21:19:47.327+07:00  WARN 8844 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:19:47.327+07:00  INFO 8844 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-18)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:19:47.479+07:00  INFO 8844 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:19:47.595+07:00  INFO 8844 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:19:47.700+07:00  INFO 8844 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:19:47.806+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:19:47.806+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:19:47.807+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:19:47.807+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:19:47.807+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:19:47.808+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:19:47.863+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:19:47.863+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:19:47.864+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:19:47.864+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:19:47.864+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:19:47.864+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:19:47.913+07:00  WARN 8844 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:19:48.053+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:19:48.104+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bf9dda3a78@4cecc5b3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:19:48.149+07:00 DEBUG 8844 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:19:48.156+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:19:48.255+07:00  WARN 8844 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:19:48.306+07:00  INFO 8844 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-07T21:19:48.313+07:00  INFO 8844 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:19:48.320+07:00  INFO 8844 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 6.301 seconds (process running for 2203.115)
2026-01-07T21:19:48.322+07:00  INFO 8844 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-07T21:20:36.396+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T21:20:36.400+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T21:20:36.408+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2026-01-07T21:20:36.442+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T21:20:36.668+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:20:36.691+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback&continue to session
2026-01-07T21:20:36.692+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T21:20:36.826+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T21:20:36.837+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:20:36.840+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T21:20:37.523+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T21:20:37.542+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:20:37.544+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T21:20:45.357+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T21:20:45.363+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:20:45.364+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T21:20:45.649+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T21:20:45.652+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@37c1edbb]
2026-01-07T21:20:47.411+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=LzvAueLwwQ1d9sreIhChCtEgnRSD9WjCwTCthYWvO1E%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=S1N_ByLyzLrbWBVWYbXb7YtECY4cebk4sCRyZyX9iC0
2026-01-07T21:20:47.417+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:20:47.506+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session b32a1e60-2ef8-4b0b-ba7b-c7b9c9c408af, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T21:20:47.509+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=IsG96brmDuz8GdvaVFGi4sp9uvVCWaq8zmY9S2XBHQkmpVQkn2fSsy0Zy1OH-LZF161mvbf47ViDEetDV6KuzzyZp55LHthJZ1js3ioqGdvXRVxDLr0uJ0NUlUYab9pd&state=LzvAueLwwQ1d9sreIhChCtEgnRSD9WjCwTCthYWvO1E%3D
2026-01-07T21:20:47.832+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T21:20:48.399+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5NTY0OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzE2NDgsImlhdCI6MTc2Nzc5NTY0OCwianRpIjoiNTQwZjEyOGQtMjU1Yy00MTEzLWJhMmQtYjE0NWY0ZGE2NTg5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.eW0zscV--Nmh8MPwVwJz_1OPMIhTgl9CM89prUz32EQv_KBGVEIrZ1Enw3h8DCW74GFPCnLz2eZR9klQ10CWPqG5bW9S8UGZkuh6SxX6o1gsMk5Sv3ZKqVl4F7V_p_lwIyZqdg8DbL1tNcORj24qSRffr7GK-qYlcOqIoQqRbFvUJI-PFaWPUy4-4fisK7UG3mQJkH3Cj6eW3fC2qdjhjmJbMJqlWQpYkVOBuRj3KrfncXnhGxhWX3d__oGJkKbaFUB-VEiIRUfB_qdf4bPKfm-X_PJ2ITMffwtwGiH6iExyoGvV-6_6wP-nJDxDUuBlAxESauZ1majckBd8xIgsUg
2026-01-07T21:20:48.400+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5NTY0NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk3NDQ4LCJpYXQiOjE3Njc3OTU2NDgsIm5vbmNlIjoiUzFOX0J5THl6THJiV0JWV1liWGI3WXRFQ1k0Y2ViazRzQ1J5WnlYOWlDMCIsImp0aSI6ImVlMjE5ZmVkLWRiZTQtNGIwZC04Y2I0LThlMmVmOGRjNjg1YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoieFhqTDNaNnF0LXY0R2RnX2gxNnZSeEZya3ZqdS1qZHVLSDhlbWRzVXJ3YyJ9.GAhFoQHMcxd6NUeVQgyB5HoRu33gef28y1pyuk0_XnMk2KPzPbqbUJhl5ypi-uXMKCpjRDYTuXEmbYGNNtEyqrXTGIvgh4GMTiOADyXlwsMHkScFZyP5RGq2DukiAuK00Nt21uRTCw7RkrKGpVIK0Bwgv-Gx6xnh2Rm-EmXOJrBiisYbB_pUW7Y6EYUUIOrS_5iXc3hLwP_3ECKSRCBAIJ0VcZ1n-c_C__C0VGMkbYBuUA8uFWMSgWYMf0Pvbn3k316A8ymOYvrfrxsaP1ypnou8A-tIb43Tt4EnFoh72IwLIJfc3jCnx4nvq2zaZ8F-YZeiOIxOhmmsPik6sjgrcA
2026-01-07T21:20:48.400+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: PIJUEsqNHWKDN3S8AIlpFvbz4FAyprYmqI9BVKeADfWpSDmqFyOlA4Ai8ylCAO1c4olh3hakvYH3qS-JDpyOtf7buTraoq5W89e4KnNbRy22aWh0eDfqnYM8XuuonsC4
2026-01-07T21:20:48.479+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T21:20:48.500+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T21:20:48.509+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T21:20:48.511+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3ba98cc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T21:20:49.511+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T21:20:49.527+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:20:49.529+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T21:20:56.589+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Foauth.pstmn.io%2Fv1%2Fcallback
2026-01-07T21:20:56.606+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:20:56.656+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://oauth.pstmn.io/v1/callback?code=sVS7z_p3BxtYQ1MBAAILpSKz1fLciS6-RjAjncCwhpvpeS0hncT402HS8UOKkm7jbT1r56nKT84k2_ANu62exBHfLVn6yLiqgOpTfjYqTfHZCtGIUJQ-bEoyq4vGlOhz
2026-01-07T21:20:58.861+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T21:20:59.534+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5NTY1OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzE2NTksImlhdCI6MTc2Nzc5NTY1OSwianRpIjoiYTUzZWI1YzQtYTUwZC00NjM0LTkxZGUtYWVmYTkzMWRiNzE2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.RR4SxWgkMiHCYDL1TSpSXA98GvWUOrsv7bArybPUvc-wFJe_N_GmHzxqge5XDoYzZr28-07sMFbITM8EWjEOpWq8ZLVtBS-STfrzY6hEX0Udu-oii1bW4frNzTPfTGXTgM9SkX7ehpQcp7QV5yvh8WeH9slXwe3bYkGH4bo1G9w5V7cohw9Gj4fqJVFpdnJzT-0azZbHSzdSHL1_0INaG2gpjxiW05m7jfQeTwIitwdyx6lyD3oSQfGWBqT68aVKtmZ6SAY58KcG8fchHtXJfFKLqnuZ6_AD72zwm8yHgacns7rixL8sbhhxYArVCsV2miLP6ZYUEq9tN_XfAyFmJg
2026-01-07T21:20:59.534+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5NTY0NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk3NDU5LCJpYXQiOjE3Njc3OTU2NTksImp0aSI6IjkwMmM0NWE1LTRmNmYtNGMzYS04ZTFjLTQyNTAzZDdjZDI0MCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoieFhqTDNaNnF0LXY0R2RnX2gxNnZSeEZya3ZqdS1qZHVLSDhlbWRzVXJ3YyJ9.CNFUvFBeBjVVSly80Wv-bvi4N1c5d27cxvG2IPWzMgJ25Iff0SGtTcxW9Yds0IGvJXfQlv6eNlBCjrBHFa2GavyurRy8GBSIj6hSEv9AWHGmNih42CgHDpI7zZdOIQFGWsPh9ZkReQnHNbx4b2XdCjrOl8mYZHWi0bC0ycMjVDPeXKEXy_Dq0Xwp9SR94YOzOo6Z18_8NWdYisMSfsAPEEyuPm_vnh1HbUR2ZJwUYhDqOgo5ARFey0DhAbE9NIkoU7SocbK_Oz3sciXIsqa7FiF0M8sjIGEnWU0vkGajLPzTEo0z3H6K33zdZIOUqll8_Ad9gpT9Rmoa2uIXHqpaqA
2026-01-07T21:20:59.534+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: RI5sa_BpOcPiKrZvuB2USZeQshzV0dyiEl836LWN-1BNpH0hymJxpKpXNjy4rgOtrHPMuXogka3isdFHEHxTsgYiKEJlCW-UAgrC0oVYaSnUkvzHammP6YZUvieAAndO
2026-01-07T21:22:07.018+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T21:22:07.039+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:22:07.042+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T21:22:21.455+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5NTY0NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk3NDQ4LCJpYXQiOjE3Njc3OTU2NDgsIm5vbmNlIjoiUzFOX0J5THl6THJiV0JWV1liWGI3WXRFQ1k0Y2ViazRzQ1J5WnlYOWlDMCIsImp0aSI6ImVlMjE5ZmVkLWRiZTQtNGIwZC04Y2I0LThlMmVmOGRjNjg1YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoieFhqTDNaNnF0LXY0R2RnX2gxNnZSeEZya3ZqdS1qZHVLSDhlbWRzVXJ3YyJ9.GAhFoQHMcxd6NUeVQgyB5HoRu33gef28y1pyuk0_XnMk2KPzPbqbUJhl5ypi-uXMKCpjRDYTuXEmbYGNNtEyqrXTGIvgh4GMTiOADyXlwsMHkScFZyP5RGq2DukiAuK00Nt21uRTCw7RkrKGpVIK0Bwgv-Gx6xnh2Rm-EmXOJrBiisYbB_pUW7Y6EYUUIOrS_5iXc3hLwP_3ECKSRCBAIJ0VcZ1n-c_C__C0VGMkbYBuUA8uFWMSgWYMf0Pvbn3k316A8ymOYvrfrxsaP1ypnou8A-tIb43Tt4EnFoh72IwLIJfc3jCnx4nvq2zaZ8F-YZeiOIxOhmmsPik6sjgrcA&post_logout_redirect_uri=https://app.bookommerce.com:8080
2026-01-07T21:22:21.560+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:22:22.155+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session b32a1e60-2ef8-4b0b-ba7b-c7b9c9c408af
2026-01-07T21:22:22.164+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://app.bookommerce.com:8080
2026-01-07T21:22:22.416+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T21:22:22.423+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T21:22:22.424+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:22:22.507+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@5b40c41c, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T21:22:22.507+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@19b4f75d, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T21:22:22.509+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@780c0d6f
2026-01-07T21:23:32.452+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T21:24:37.591+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-07T21:25:29.683+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T21:25:29.699+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:25:29.706+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff&continue to session
2026-01-07T21:25:29.707+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T21:25:29.753+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T21:25:29.761+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:25:29.765+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T21:25:51.510+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T21:25:51.522+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:25:51.524+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T21:25:51.659+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T21:25:51.662+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@4a0c0a5e]
2026-01-07T21:25:52.967+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=koFyAvrgVlLYe8cA-r5mRky1f4IQSUzGT186vaj3qWM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=1yJIT4MIn2ZB3FfGpUDe2AkokntAfVtGuGhH4MqjZco
2026-01-07T21:25:52.967+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:25:53.035+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 22da28ab-0f1d-4fc0-8273-e4d2f71ce821, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T21:25:53.035+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=TvNtoejpjRLd4Qo2srY2jijv-g_JWoEaPKhqR32XAcr9Yfhw-GlFrLxE0VbEvEHkQoJayopwa6Al5AR_cwgo2Gj_XKclD7N_E6OQF4vTNBUhajYjbEyXPtIX3IubZO4d&state=koFyAvrgVlLYe8cA-r5mRky1f4IQSUzGT186vaj3qWM%3D
2026-01-07T21:25:53.412+07:00 DEBUG 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T21:25:53.835+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5NTk1Mywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzE5NTMsImlhdCI6MTc2Nzc5NTk1MywianRpIjoiNzU2Njg2ZGEtNDQ2Ni00N2IwLWEwYzUtOGU3MDNlNjU5ZTVhIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.JEhtUg-UyDldt2Ot1jQ_Frrl-ukQAoMSRLuihUvL6uHvgdJwhlVjrzkPZMx1ND_487GFboBhZ6axqaPcJy_yTeMArXGNDfChPqz_Z1mFEJ8gV_gOcfNxGADfR-akwwCYyq0aApjcHTiUQ80foJpMfbzPyoYNskDNawumjinksbLM_mp9zhZGGRYVlC2A1vKsEW0_PjkCKtfCOURE4lRp7EXS8nlFSoKvWiLHoTnqXioXNlXUzEkA-aseeazANFfypbew0cRyNKLB0wpjmdfU7yByrv0_slT19r1NXN5oSBqpG5ZYyEoFLpNplc8DJSq94RhMWDVSzEri2jIOmViQ8Q
2026-01-07T21:25:53.835+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5NTk1MywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk3NzUzLCJpYXQiOjE3Njc3OTU5NTMsIm5vbmNlIjoiMXlKSVQ0TUluMlpCM0ZmR3BVRGUyQWtva250QWZWdEd1R2hINE1xalpjbyIsImp0aSI6IjVkODVlMTU2LTYxNDgtNGUzMS05OWUwLTZiMDlmNjUyNGJlYyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiQWU4b2dyYWwtYlN5VWo0b0EtRENSX0ZkVkdpR013NVp5eExOWGxkMUgxWSJ9.eZRKp9GCx7EvXtCMp9z43j-Flm8Txc1Ue-OMF_WpcCgQBfi5U_ZettCRljUzE4Uja07OVIWgYV4Cp-lPvStknlm1sbqK0SRhXYi7lGpGg0rVCfgcO6HN7V_QGvjimd1oVEtYNOzaE6ukeBiLxn3JqDlEx-3E_CH_j2Aw0uCuhEhpT1s-FyOTJyoK7-Nwi6ZTxXs5f8uwnGfvF31zf7sQadoZdaW9jxzVmx6wgEFWEOtG8FqI0cvNgLHazl0iaqHs6jNV4CylSDbEDwvzolZNDSQrBwU3HjahTHAX5gfYC12ygEskFMFSjnWKmUY5pMZMuEzxIKwnewTvY7XRllLs8Q
2026-01-07T21:25:53.835+07:00  INFO 8844 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: X_JYD_oKvxZpCUdq57kyfeqeY9x6l3Oy_z6L38Y5M6NhxamQTe9EyuD5INP-T-bmFFyqEHEBr1pmJmFhJXFWg3pQINHi9uzLMVXEhss32aZxLsJV3HP6ColeVun85Mag
2026-01-07T21:38:23.403+07:00  INFO 20172 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 20172 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:38:23.407+07:00  INFO 20172 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:38:23.473+07:00  INFO 20172 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T21:38:23.474+07:00  INFO 20172 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T21:38:25.548+07:00  INFO 20172 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:38:25.549+07:00  INFO 20172 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:38:25.739+07:00  INFO 20172 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 181 ms. Found 6 JPA repository interfaces.
2026-01-07T21:38:25.765+07:00  INFO 20172 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:38:25.768+07:00  INFO 20172 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:38:25.792+07:00  INFO 20172 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:38:25.793+07:00  INFO 20172 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:38:25.793+07:00  INFO 20172 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:38:25.796+07:00  INFO 20172 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:38:25.797+07:00  INFO 20172 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:38:25.799+07:00  INFO 20172 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:38:25.799+07:00  INFO 20172 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2026-01-07T21:38:26.747+07:00  INFO 20172 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:38:26.769+07:00  INFO 20172 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:38:26.770+07:00  INFO 20172 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:38:26.825+07:00  INFO 20172 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:38:26.825+07:00  INFO 20172 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3350 ms
2026-01-07T21:38:27.182+07:00  INFO 20172 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:38:27.239+07:00  INFO 20172 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T21:38:27.283+07:00  INFO 20172 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:38:27.597+07:00  INFO 20172 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:38:27.636+07:00  INFO 20172 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T21:38:28.132+07:00  INFO 20172 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@25f71f62
2026-01-07T21:38:28.135+07:00  INFO 20172 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T21:38:28.191+07:00  WARN 20172 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:38:28.216+07:00  INFO 20172 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:38:29.884+07:00  INFO 20172 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:38:30.009+07:00  INFO 20172 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:38:30.592+07:00  INFO 20172 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:38:31.324+07:00  INFO 20172 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T21:38:31.864+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:38:31.865+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:38:31.865+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:38:31.866+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:38:31.867+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:38:31.867+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:38:32.057+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:38:32.057+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:38:32.057+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:38:32.057+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:38:32.057+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:38:32.059+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:38:32.181+07:00  WARN 20172 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:38:33.307+07:00  INFO 20172 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:38:33.631+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000023745dafb08@673eb72c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:38:33.719+07:00 DEBUG 20172 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:38:33.743+07:00  INFO 20172 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:38:34.218+07:00  WARN 20172 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:38:34.384+07:00  INFO 20172 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T21:38:34.413+07:00  INFO 20172 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:38:34.463+07:00  INFO 20172 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 11.704 seconds (process running for 12.322)
2026-01-07T21:38:35.369+07:00  INFO 20172 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T21:38:35.369+07:00  INFO 20172 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T21:38:35.371+07:00  INFO 20172 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-07T21:39:53.401+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T21:39:53.459+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:39:53.792+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 22da28ab-0f1d-4fc0-8273-e4d2f71ce821, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T21:39:53.792+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=qPKqG1HQovZ4NgwKTwMSJKl_eT0pUWAPP7JQHbUSmv-wt97t_FjOa_A5aN_NE6P6g8de0b0EzJArVc2zdf8i8X00VNrt4fZ5ZbDGJcx5DrxGBewldHQrhF5QweVGORaO
2026-01-07T21:39:54.121+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T21:39:54.679+07:00  INFO 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5Njc5NCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzI3OTQsImlhdCI6MTc2Nzc5Njc5NCwianRpIjoiM2ZkMGMwZWItNWMzNy00YmMzLWJjMTUtYzVmYzAxODk4MzU5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.O1C8SFWYMZllramSBJXbZ8fDwOYZFKeWu1lzSquZ1hrvPDXzj-Zw13qMuBga8hNZbwk_jcV6k-ddxEhz5kqAvo11oXH44iEmYwGbs4nWffYkizM6C1p8LzfSzyh62AL4S0mfG4IUfiiVAVs1WFR3g7CwJDCIK0Pmkcx4I8tuWnD4mM2IDYKZCVEIcrNRiqvON1idxMuztUHspNnzY3ClPxqFoq5hvgv3V8iAhefoIedrx_Z4Lsydi43iayAjJYEFfuAIkgMlFiXL67LOycfeiUQMxRb-JHHIUi9rAN8GwQG6wk6s7NnR8JGolHDcGSe0yAXDoiotoVtAuk5U1qilYQ
2026-01-07T21:39:54.679+07:00  INFO 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5Njc5MywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk4NTk0LCJpYXQiOjE3Njc3OTY3OTQsImp0aSI6Ijg4YmFjNWQzLTBlOGItNDM5Yi1hNDI0LTk2YjhmMWM5YmZiYSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiQWU4b2dyYWwtYlN5VWo0b0EtRENSX0ZkVkdpR013NVp5eExOWGxkMUgxWSJ9.BY4SvqK9PvWK-c5n9AgvuvDnFC8fV9GG_zBfTCiUGoJkBvG99CXv96UqoNC9PJtcLvmzrQig24FeCo6TcXAqB2hBSMaiKSfKm9zpBkLVqLWb7amLyC_McqMe8jWMVRnkFG_CD5ePiAREQ847PiC32_4oF6KeR7-rgWtKr-5ltRRPL9c7028Uq8cqD9xJVqx8OjRq80ab6Xj33qZVREpcyHKypqTUIDAKB-EVv5PHOL3VTGovT2ib5ejf2qGPwtL7_jpLLAsyeh-0fDgrhr56dTpKxDB4JfXWeQ-7JFabulIO5uf-f6TbvFMbbWwVtF8YKvQ-9pFertAbHSzAEncuDw
2026-01-07T21:39:54.684+07:00  INFO 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 9rsRwqGAimPOnBAVAWn59OO4ODI_fEuM9WY2NfVpaUASg57nwDOQ4M5iAI6l5K4XVlW_vwYnyuDIZbTJdjwe91hN-BzdTtEPicxxVrf3Fhs5m6UkH4kbNObKq48NATtb
2026-01-07T21:40:48.097+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T21:40:48.129+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:40:48.164+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff&continue to session
2026-01-07T21:40:48.164+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T21:40:48.244+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T21:40:48.247+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:40:48.253+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T21:41:06.659+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T21:41:06.672+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:41:06.674+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T21:41:07.108+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T21:41:07.109+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@d79084e]
2026-01-07T21:41:08.653+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=VDXyhGT7xNPDO4OrASxLob1eWZktFkNyGi3cg2C7kAY%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=JtngyTKXU8z_2fRk5u70rKyhZ654ruZWSjWsyxWHJ94
2026-01-07T21:41:08.659+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:41:08.691+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 13be2b42-fcd0-4c53-a712-aafc05758041, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T21:41:08.691+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=4o6_ztq7NWerneijyKrEosVb5s82gITJ4RM5LJa3WmBTjywkJ8a_YkxF75PZY-dmPFAKZbqZZqNp6ThNVkd5Tk5LzMhYA7ksQcWr4jyCjsNAu2pqNHxOAO-lQEvJe5ao&state=VDXyhGT7xNPDO4OrASxLob1eWZktFkNyGi3cg2C7kAY%3D
2026-01-07T21:41:09.035+07:00 DEBUG 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T21:41:09.459+07:00  INFO 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5Njg2OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzI4NjksImlhdCI6MTc2Nzc5Njg2OSwianRpIjoiNmQ0NWUxMWUtMWU4ZC00OTAzLWE5MTgtNWI1OGQwMmU0ZjNmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.GHirTFvYg6n0J32PfnEPQ2Oi49TtGj-tqv0Zbai8Ub1cfkadGKlMfj3FG6JnyfZvXFj1n20rEWPRdOv2JM_BzGrcm6jxsffESI2NvairWvVZNRcoCWPk-QC6HzfDaKEhuLQD8n4EBgpRCyjwnqGo7ap5SHRMt-l0lcgEL5wtZyw37cYtV6ns6ncuK8c3Y80KzxJJir6OhPYixv3RU2kqWrxjP-9FiN4Ymt6JvA170yeKyppnH7jHd6CgH-doKsDPLv1En1pQ8XHTTP6eStGoqr8Y-7bxFVSjyB38_jPPl_hYKDweIC-a2Iw_doyHKBItJ88zvKmIY6V_-5MTsmx0vg
2026-01-07T21:41:09.459+07:00  INFO 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5Njg2OCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk4NjY5LCJpYXQiOjE3Njc3OTY4NjksIm5vbmNlIjoiSnRuZ3lUS1hVOHpfMmZSazV1NzByS3loWjY1NHJ1WldTaldzeXhXSEo5NCIsImp0aSI6IjU5OTkwMmFkLWQxNmItNGQ1NC1hNmZkLWZmNTFhYWYyM2U5OCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiamppQ1FjbkZ1RlBJRjM1eHJCWXZmRGFnVFlraUNSeVQ5T05QQ3FtWW9YZyJ9.mecpfislLelAxdjk1W31xIzWT_CV2K9DQzFUcZ3hhbjcD8uxE9-L0l4X6VuI_D25ANiePiHox9YY_QQkiXakVZnD_oLJXCggp9ekAIwY3jT--BgWLJw-FqLbxmmHtUhaPF7RYMPtFHeOvpK49eEOb9gcDNj8oSxIfAQ5uEWVdWubDdSSlNl-mEQsFUUV_uvybjle0AtwAWv-3zUXpfeYOwKm-nBXvJzaQusnaKBy6N1mmuEu_JnPi3WAi-m1mPez8WAHHwjGMJ0TVi0Px7GcZt1CM6BMZBUabWfSfwZaH9soa1rsSPIMx3ZHVu-gpWJ3f2soWFHtujDW0nZRyPHZsw
2026-01-07T21:41:09.459+07:00  INFO 20172 --- [auth-server] [https-jsse-nio-8282-exec-1] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: PMnHynr-f8ifj5z-2cMVyDfzQB-oMMrbKFftL8W4PSwuEPqIS_XWS8Y_282UswaxiIEI40-mHcq6pxv_O8VZUmih8Qi4DPYIZEj1YKU6uz8gXUpWnVwoeVJwmWIcs5zm
2026-01-07T21:44:11.059+07:00  INFO 17692 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 17692 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:44:11.076+07:00  INFO 17692 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:44:11.214+07:00  INFO 17692 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T21:44:11.224+07:00  INFO 17692 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T21:44:14.456+07:00  INFO 17692 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:44:14.460+07:00  INFO 17692 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:44:14.864+07:00  INFO 17692 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 372 ms. Found 6 JPA repository interfaces.
2026-01-07T21:44:14.930+07:00  INFO 17692 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:44:14.940+07:00  INFO 17692 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:44:14.997+07:00  INFO 17692 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:44:15.000+07:00  INFO 17692 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:44:15.003+07:00  INFO 17692 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:44:15.006+07:00  INFO 17692 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:44:15.008+07:00  INFO 17692 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:44:15.009+07:00  INFO 17692 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:44:15.011+07:00  INFO 17692 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
2026-01-07T21:44:17.058+07:00  INFO 17692 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:44:17.108+07:00  INFO 17692 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:44:17.120+07:00  INFO 17692 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:44:17.253+07:00  INFO 17692 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:44:17.255+07:00  INFO 17692 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6023 ms
2026-01-07T21:44:17.902+07:00  INFO 17692 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:44:17.983+07:00  INFO 17692 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T21:44:18.035+07:00  INFO 17692 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:44:18.492+07:00  INFO 17692 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:44:18.547+07:00  INFO 17692 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T21:44:19.187+07:00  INFO 17692 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3bd046e5
2026-01-07T21:44:19.191+07:00  INFO 17692 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T21:44:19.268+07:00  WARN 17692 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:44:19.301+07:00  INFO 17692 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:44:20.872+07:00  INFO 17692 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:44:21.052+07:00  INFO 17692 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:44:21.979+07:00  INFO 17692 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:44:22.673+07:00  INFO 17692 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T21:44:23.587+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:44:23.594+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:44:23.595+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:44:23.596+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:44:23.597+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:44:23.598+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:44:23.779+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:44:23.779+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:44:23.780+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:44:23.780+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:44:23.780+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:44:23.780+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:44:23.897+07:00  WARN 17692 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:44:24.905+07:00  INFO 17692 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:44:25.399+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000205bada0228@197d83ea with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:44:25.484+07:00 DEBUG 17692 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:44:25.510+07:00  INFO 17692 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:44:25.974+07:00  WARN 17692 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:44:26.091+07:00  INFO 17692 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T21:44:26.116+07:00  INFO 17692 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:44:26.133+07:00  INFO 17692 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 16.006 seconds (process running for 17.496)
2026-01-07T21:44:28.175+07:00  INFO 17692 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T21:44:28.175+07:00  INFO 17692 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T21:44:28.177+07:00  INFO 17692 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-07T21:48:08.420+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff
2026-01-07T21:48:08.685+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:48:08.701+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&redirect_uri=https%3A%2F%2Fbff.bookommerce.com%3A8181%2Flogin%2Foauth2%2Fcode%2Fbff&continue to session
2026-01-07T21:48:08.703+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T21:48:08.814+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T21:48:08.818+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:48:08.831+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T21:48:54.427+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T21:48:54.433+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T21:48:54.434+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T21:48:54.696+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T21:48:54.700+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@777c21b]
2026-01-07T21:48:56.025+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=2o6yvae6vNltLXVqrL_DKbshPtO4_lk-Aa01bW64bM8%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=PgQXk7ui7nR6OtGC-5rhqxivM6JiMg7oZRzF8iFcg6w
2026-01-07T21:48:56.030+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T21:48:56.137+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session d19cd103-34c4-4730-aa68-5ff2643112ee, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T21:48:56.139+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=dOmPlX3-CRr3_dfc4f2F06rHGgR_-OiorphocmV8I2K0VF5Qlv2-EGu6CSJokMQJqTvzjGVuS9BirgJM0NLTxCbYPAFWKo4sJ9ZFzFdzOD6ovyq6qqmaN-vnnfVdmq8c&state=2o6yvae6vNltLXVqrL_DKbshPtO4_lk-Aa01bW64bM8%3D
2026-01-07T21:48:56.928+07:00 DEBUG 17692 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T21:48:57.272+07:00  INFO 17692 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5NzMzNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzMzMzcsImlhdCI6MTc2Nzc5NzMzNywianRpIjoiMjYyMzY2ZjQtMTVjOS00YTJmLWI5NjktYTJkZDVmYjk5ZjVmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.Rt7gidFW_1M3PiDjyKHfwVuG2QZKuZOJRGcNbtE14nwUyQWUr0jW6QzJZxQ4Xhqac7cly_vSfR_cR7TMjAPYPfzKzW56p_oChKOyr6XnM9E2pR6wbBTk3AbnE1ahTxNY4WlepUNLay9tRMDXD0Q6njYtdkeJfaFny-s7IbiSFjlbbtd_51NnwI6zQ_N4IHV7zhq7P3RPwx4iJzK6wwIf9Fc79LKW_m4CQbpj6ZbxQCLZvvRhbev810cpk9v5rm1uhkOMejWMZsr70zdu1ga6zS_GL8g2BK-YIy9jznjIucaKAbImeSAyYKO7DhTuLtrFCGk12cJaIFfqyi0QjVNBnw
2026-01-07T21:48:57.272+07:00  INFO 17692 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5NzMzNiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3Nzk5MTM3LCJpYXQiOjE3Njc3OTczMzcsIm5vbmNlIjoiUGdRWGs3dWk3blI2T3RHQy01cmhxeGl2TTZKaU1nN29aUnpGOGlGY2c2dyIsImp0aSI6ImRmNjljZjA0LTE1ZmItNDFkOC04ZWVlLTExOWQ1ZDY0N2U1NiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiUGhuVWFEeUYwakNZSmdaOTdrUFRRVkJ6TXpmaTREbzNlNTRZME5SeFV2SSJ9.PikY74k-BjKoULb8kBmtdwr87uEiciX70tVLPhonFetFd8ZJiohO1bKP6tm8uldud_E-jMVbh1jRK7ZS0yBU7MohdAKPj9vkdTHI0XtcWZIb0N6ydlNgaglJtQlhyr8fNUvbKXRmB509bPdvLr4WImrGDZIOO9qoLn0BHclwazpN2Yw4jlWnUIOnjrXP4D9now5nvUG3PHUmCF2VHBknL5lzqRFKqLmiKGMP2pFfwC2BEUwnhTQ3QxsLTdSCos9NZPoFVmbrZqQ63muUqnFixdN8WpLLfPqFbfiq64LJQBGoswAPESv6zrC6ZMZ3RSxjYw7zgASemYSmU5Ol7Dgaag
2026-01-07T21:48:57.272+07:00  INFO 17692 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: AocoyS_ri5ZCpGbscWfoF2rUgSC_pNTDfonTqZsy-k-nq0vr5EAyxss7H0zDh_nbqgjVUfvSM20Q92uhl7ccxw0C93hMDoYjnw8ZaR3t3lma0Pwq_nwi1hWNo4L9ohPh
2026-01-07T21:52:24.226+07:00  INFO 20936 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 20936 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-07T21:52:24.235+07:00  INFO 20936 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-07T21:52:24.367+07:00  INFO 20936 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-07T21:52:24.369+07:00  INFO 20936 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-07T21:52:28.278+07:00  INFO 20936 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:52:28.288+07:00  INFO 20936 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-07T21:52:28.650+07:00  INFO 20936 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 335 ms. Found 6 JPA repository interfaces.
2026-01-07T21:52:28.690+07:00  INFO 20936 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-07T21:52:28.693+07:00  INFO 20936 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-07T21:52:28.735+07:00  INFO 20936 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:52:28.737+07:00  INFO 20936 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:52:28.738+07:00  INFO 20936 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:52:28.740+07:00  INFO 20936 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:52:28.741+07:00  INFO 20936 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:52:28.742+07:00  INFO 20936 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-07T21:52:28.743+07:00  INFO 20936 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2026-01-07T21:52:32.014+07:00  INFO 20936 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-07T21:52:32.057+07:00  INFO 20936 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-07T21:52:32.067+07:00  INFO 20936 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-07T21:52:32.242+07:00  INFO 20936 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-07T21:52:32.243+07:00  INFO 20936 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7873 ms
2026-01-07T21:52:32.951+07:00  INFO 20936 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-07T21:52:33.065+07:00  INFO 20936 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-07T21:52:33.370+07:00  INFO 20936 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-07T21:52:34.443+07:00  INFO 20936 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-07T21:52:34.500+07:00  INFO 20936 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-07T21:52:34.988+07:00  INFO 20936 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6bdd8a83
2026-01-07T21:52:34.991+07:00  INFO 20936 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-07T21:52:35.070+07:00  WARN 20936 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-07T21:52:35.107+07:00  INFO 20936 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-07T21:52:36.989+07:00  INFO 20936 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-07T21:52:37.153+07:00  INFO 20936 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-07T21:52:38.636+07:00  INFO 20936 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-07T21:52:39.485+07:00  INFO 20936 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-07T21:52:40.333+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:52:40.334+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:52:40.336+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:52:40.337+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:52:40.338+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:52:40.339+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:52:40.611+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-07T21:52:40.611+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-07T21:52:40.612+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-07T21:52:40.612+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-07T21:52:40.612+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-07T21:52:40.613+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-07T21:52:40.873+07:00  WARN 20936 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-07T21:52:42.750+07:00  INFO 20936 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-07T21:52:43.465+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019faeda8228@4f87c5d0 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-07T21:52:43.627+07:00 DEBUG 20936 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, ForceEagerSessionCreationFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-07T21:52:43.689+07:00  INFO 20936 --- [auth-server] [restartedMain] c.b.a.config.SessionCookieConfig         : >>>>>>>>>>>>>>>>>>>> CookieSerializer configured
2026-01-07T21:52:44.893+07:00  WARN 20936 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-07T21:52:44.893+07:00  INFO 20936 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-07T21:52:44.893+07:00  INFO 20936 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-07T21:52:44.897+07:00  INFO 20936 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-07T21:52:45.336+07:00  INFO 20936 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-07T21:52:45.410+07:00  INFO 20936 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-07T21:52:45.426+07:00  INFO 20936 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 22.394 seconds (process running for 23.72)
2026-01-07T22:03:44.949+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T22:03:44.975+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T22:03:45.048+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T22:03:45.076+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2320038a, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T22:03:45.076+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4a0d7f92, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T22:03:45.076+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@53a672f7
2026-01-07T22:03:50.486+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=5t3SFtQgVgVHyXzp6f-h7lLDiyM0iom1Qw3ftqg5jEo%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=jfMgtyUQO5YU-OvCcBdgwPbQ69TnInuSmHSn-ovSgak
2026-01-07T22:03:50.843+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T22:03:50.852+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=5t3SFtQgVgVHyXzp6f-h7lLDiyM0iom1Qw3ftqg5jEo%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=jfMgtyUQO5YU-OvCcBdgwPbQ69TnInuSmHSn-ovSgak&continue to session
2026-01-07T22:03:50.853+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-07T22:03:50.900+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T22:03:50.906+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T22:03:50.911+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T22:03:51.619+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-07T22:03:51.627+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T22:03:51.629+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-07T22:03:53.491+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-07T22:03:53.496+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T22:03:53.498+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-07T22:03:53.961+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-07T22:03:53.965+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7b825967]
2026-01-07T22:03:55.130+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=e10mfz7sBYqJMJBjqr_xuUND9XDqJN4wvf9HfLh44yM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=N4oi2pDhbz9jHKPoiDH_5Lwt2XcUuZboHEpzhnoeuMU
2026-01-07T22:03:55.144+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T22:03:55.320+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session 532ada54-e54c-4cf1-99ab-1093a71417f5, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-07T22:03:55.322+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=GHTNdM1biysTDsdkbyCoVZWsiFVAJHHyUDRpHeBkwV2sthajR4SnZ6YT9nkfZDZCHAPihszZLHrrGnT3wgx51udY08dEDxyiDkcdt1U4nP6MbEVzKozSX2UEjxzQ_T6Z&state=e10mfz7sBYqJMJBjqr_xuUND9XDqJN4wvf9HfLh44yM%3D
2026-01-07T22:03:55.502+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-07T22:03:56.103+07:00  INFO 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2Nzc5ODIzNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTkzMzQyMzUsImlhdCI6MTc2Nzc5ODIzNSwianRpIjoiNDE3NDMxZmQtOTY1OS00MzFhLTkzYjMtNjM0MGEwMzY2NTQyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.tQr_SL8tOftaWdXs8alDQv-uQFHTrQZ8QilTPu8e-SHGabfxOS9Ewdxmu5udBK7pwT-qI39CAQuDuTB0C4sI9BDOgQCzrBNoma1jsU4Ptjsh24wblZHVOVhiiBJj4SoYC5jeZkecao9S1Yv3c4CdOzFky3IulmU-2yIaBkUEpps_SeBmNIEJU_V4Jga5s_4hbvkZdVTx5gNnPxxJ4ux9M-mXFj-gI9Wn-QdDB7CgotmE7DGpi1_n7vfekQXa-lEsuSKYQzji_7sKQthuCr5fEwHY18pAm6EL0A3OPDtAseI2S8PCASUqke8uIdclrHX3AVet1vdBnNg0f6cGt7k0Tw
2026-01-07T22:03:56.104+07:00  INFO 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5ODIzNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3ODAwMDM2LCJpYXQiOjE3Njc3OTgyMzYsIm5vbmNlIjoiTjRvaTJwRGhiejlqSEtQb2lESF81THd0MlhjVXVaYm9IRXB6aG5vZXVNVSIsImp0aSI6ImNmZDViMzczLTU0MDctNDUzZS1iNWMzLTdjYTIzMGQwNDNjOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoic0tCUWo5RlMxc2x0X3QxVzJJWS1DR3ZXNVBkTGhfc1ZVeHNUSDNPNDl4MCJ9.J0P_3ka2w4jeD6FPMVxiyEL2Ym6IHUkzX6Iw0iaOoQAkMkW0ecrIev_JJ4nt3w7glieSUq-U_Flz_X6hWL4JfEMjLWnwdFFcrRVWnNnOUpGJimALxbSrIkSMo5RRb_QaWGo6P3bxOERa5iDIcSK431O0Q87ZAoSI2T5ZaEF2A9aRcaJSckEH6SwfODCNrTjGLrHoaTXOo_k8DEIDseFn7BcfFzC_Ej8akfL4m6RmK2dwiq73Vhq3aUzLSt3PVEJw8Pv36MCnwTVj3zHRHnDhI7PChRWmy35tc9MLlRfUoY1kG_xwYv7yv1PsHbMAaL-_ki5xnnmBpVcAoPYNEtVY6g
2026-01-07T22:03:56.105+07:00  INFO 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: D1mLJEQ6yNGdaERjJmkyWkbFFo3_ztHo9dHa5V0_26uy3ELpssJNJrEEun25vjRsLVsm6JbGAxc-neGEDTpG--2OLcQjQ7BiYLQbrC9oEBIA29KN76R8ZN5mNAm13CsQ
2026-01-07T22:03:56.280+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-07T22:03:56.318+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-07T22:03:56.342+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-07T22:03:56.347+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a423272f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-07T22:03:56.901+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T22:03:56.919+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T22:03:56.921+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-07T22:04:11.877+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2Nzc5ODIzNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3ODAwMDM2LCJpYXQiOjE3Njc3OTgyMzYsIm5vbmNlIjoiTjRvaTJwRGhiejlqSEtQb2lESF81THd0MlhjVXVaYm9IRXB6aG5vZXVNVSIsImp0aSI6ImNmZDViMzczLTU0MDctNDUzZS1iNWMzLTdjYTIzMGQwNDNjOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoic0tCUWo5RlMxc2x0X3QxVzJJWS1DR3ZXNVBkTGhfc1ZVeHNUSDNPNDl4MCJ9.J0P_3ka2w4jeD6FPMVxiyEL2Ym6IHUkzX6Iw0iaOoQAkMkW0ecrIev_JJ4nt3w7glieSUq-U_Flz_X6hWL4JfEMjLWnwdFFcrRVWnNnOUpGJimALxbSrIkSMo5RRb_QaWGo6P3bxOERa5iDIcSK431O0Q87ZAoSI2T5ZaEF2A9aRcaJSckEH6SwfODCNrTjGLrHoaTXOo_k8DEIDseFn7BcfFzC_Ej8akfL4m6RmK2dwiq73Vhq3aUzLSt3PVEJw8Pv36MCnwTVj3zHRHnDhI7PChRWmy35tc9MLlRfUoY1kG_xwYv7yv1PsHbMAaL-_ki5xnnmBpVcAoPYNEtVY6g&post_logout_redirect_uri=https://app.bookommerce.com:8080
2026-01-07T22:04:11.887+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-07T22:04:12.037+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 532ada54-e54c-4cf1-99ab-1093a71417f5
2026-01-07T22:04:12.041+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://app.bookommerce.com:8080
2026-01-07T22:04:12.193+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-07T22:04:12.201+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] .s.s.w.s.ForceEagerSessionCreationFilter : Created session eagerly
2026-01-07T22:04:12.203+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-07T22:04:12.206+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2320038a, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T22:04:12.207+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4a0d7f92, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-07T22:04:12.208+07:00 DEBUG 20936 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@53a672f7
2026-01-07T22:19:26.521+07:00  WARN 20936 --- [auth-server] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m26s165ms361Âµs400ns).
