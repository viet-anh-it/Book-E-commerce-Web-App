2026-01-09T07:46:50.613+07:00  WARN 22056 --- [auth-server] [HikariPool-4:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Thread starvation or clock leap detected (housekeeper delta=9h26m50s641ms830Âµs900ns).
2026-01-09T08:17:03.173+07:00  INFO 22740 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 22740 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T08:17:03.192+07:00  INFO 22740 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T08:17:03.445+07:00  INFO 22740 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T08:17:03.449+07:00  INFO 22740 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T08:17:08.981+07:00  INFO 22740 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:17:09.000+07:00  INFO 22740 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T08:17:10.103+07:00  INFO 22740 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1050 ms. Found 6 JPA repository interfaces.
2026-01-09T08:17:10.143+07:00  INFO 22740 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:17:10.147+07:00  INFO 22740 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T08:17:10.207+07:00  INFO 22740 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:17:10.265+07:00  INFO 22740 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:17:10.400+07:00  INFO 22740 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:17:10.422+07:00  INFO 22740 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:17:10.432+07:00  INFO 22740 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:17:10.439+07:00  INFO 22740 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:17:10.442+07:00  INFO 22740 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 269 ms. Found 0 Redis repository interfaces.
2026-01-09T08:17:13.473+07:00  INFO 22740 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T08:17:13.518+07:00  INFO 22740 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T08:17:13.519+07:00  INFO 22740 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T08:17:13.644+07:00  INFO 22740 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T08:17:13.646+07:00  INFO 22740 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10195 ms
2026-01-09T08:17:14.728+07:00  INFO 22740 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T08:17:14.964+07:00  INFO 22740 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T08:17:15.117+07:00  INFO 22740 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T08:17:16.702+07:00  INFO 22740 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T08:17:16.864+07:00  INFO 22740 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T08:17:18.217+07:00  INFO 22740 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1af77940
2026-01-09T08:17:18.223+07:00  INFO 22740 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T08:17:18.399+07:00  WARN 22740 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T08:17:18.450+07:00  INFO 22740 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T08:17:21.385+07:00  INFO 22740 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T08:17:21.619+07:00  INFO 22740 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T08:17:23.491+07:00  INFO 22740 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T08:17:24.824+07:00  INFO 22740 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T08:17:26.564+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:17:26.579+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:17:26.587+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:17:26.605+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:17:26.608+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:17:26.681+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:17:27.514+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:17:27.526+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:17:27.528+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:17:27.529+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:17:27.541+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:17:27.545+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:17:27.946+07:00  WARN 22740 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T08:17:30.019+07:00  INFO 22740 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T08:17:32.122+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019b1dd9eae0@37efab51 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T08:17:32.408+07:00 DEBUG 22740 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T08:17:34.049+07:00  WARN 22740 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T08:17:34.487+07:00  INFO 22740 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T08:17:34.539+07:00  INFO 22740 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T08:17:34.641+07:00  INFO 22740 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 33.512 seconds (process running for 36.561)
2026-01-09T08:17:35.025+07:00  INFO 22740 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T08:17:35.025+07:00  INFO 22740 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T08:17:35.033+07:00  INFO 22740 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2026-01-09T08:18:15.479+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T08:18:15.532+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:18:15.559+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T08:18:53.699+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T08:18:53.700+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:18:53.705+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T08:18:53.800+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:18:53.802+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T08:18:53.843+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:18:53.844+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T08:18:53.918+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T08:18:53.962+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:18:53.964+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:18:53.984+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:18:53.986+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T08:18:55.110+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T08:18:55.118+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2db53d28]
2026-01-09T08:18:55.182+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:18:55.184+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:18:55.192+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:18:55.192+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T08:18:55.267+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:18:55.267+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:18:57.262+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=0xxxR6K25JofMDdC6ZpSoo-qGR4J_bA_ok-7SS77EWw%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=P-7xU3B9STbXk1ftgZRnrW7DsWbWh6kYSrGleaCiMLc
2026-01-09T08:18:57.284+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:18:57.285+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:18:57.298+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:18:57.701+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 7a07b7cc-68df-470a-a1c5-a2d5514a84be, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T08:18:57.706+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=vuPbrEJD2wkq8rqEpfRDcD8yTZJwGGuXIvbRHHSPj4Oufo9uY1i2kE1jRo_mf2Ir5xXr9GD3GhUAAnZFGU0FRhPjNGcTgq300Qh0-2ICG8tix5gVM9SD2CxUDI22-wGW&state=0xxxR6K25JofMDdC6ZpSoo-qGR4J_bA_ok-7SS77EWw%3D
2026-01-09T08:18:57.711+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:18:57.711+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:18:57.728+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:18:57.730+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:18:58.150+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T08:18:59.517+07:00  INFO 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkyMTUzOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NTc1MzksImlhdCI6MTc2NzkyMTUzOSwianRpIjoiNDAzZWUxZjYtNzFhZC00MzU0LTg2NzctZDcyOTFmNDdmYjlmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.MvZHrjyFosJf2FMeiSjd_PxipyJsyvT3qpjOw8SuMhjE0mBilO4T7E-B0qOGnTutV9od1R3Wa5uLdIMam6wgF3kLmXlpMDq6JVMfxtpH0xrtaPTSj2LgPgYbcU2NRn-SR9dSHdj8Cs1V3dNSpnGOVAXQYSjETpMqcMsDoWdu6lpi_DkhWLw2OkXQDvMTeIpJRfg3-lov6OfxBKxrfPaT-K6n73LyxZgSspvP5EFeIiM8TD8QEbR8syE8kDIRuZrqsrGMonzvw_j4__F_iVtOdRCboVNw2XTC82JybH2TS1XHmzE4PKXIv7RR2J1qjw63i2JR0qkCxxH63LBSzIQkhg
2026-01-09T08:18:59.523+07:00  INFO 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkyMTUzNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTIzMzM5LCJpYXQiOjE3Njc5MjE1MzksIm5vbmNlIjoiUC03eFUzQjlTVGJYazFmdGdaUm5yVzdEc1diV2g2a1lTckdsZWFDaU1MYyIsImp0aSI6IjAxMjA1Y2YyLWExMmMtNDM5My1hNmY3LTQwYTIzY2NjMjAwYiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiNzdickpZY0NFX3hmMHlIZTJ0NGdpRGxqYXdOSDhUcmxveFNub3VRVWoxVSJ9.O-jINg3bdP9F5-v_ayofk6kZs5LCO2blkk7uyw5PBc8EaSU1JnBEykRSXdtbFHRZd_On4oRPBex3s9ccuzmQV3lVIC8ogt_wMHTQIJB53xrJgy8nfnQ5s2cVpTFZn82z_GqAAUucxvDz9-o_53XKD12taI1EEc-1J5OIOrlkJqhIBmALTdhQrnEA6Cr9B_Ye1xwmQc_Mo3f_tow24BQbMCWNGWb4oMwTChkJfKT56Uo5j6Z-UcRfpokJu1S7mndScg09R9FwVxb28_rFeLvBnWdgrMtGMboqwJV7q_2ee-KTN2ZCXXT4SCR70CMF23TJmJWuz-Gnd4kAZNLHVwU9SA
2026-01-09T08:18:59.524+07:00  INFO 22740 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: oQzC0LkVoe5W3_ZZ46Iq6w3H9wTAKotEViMisWbCONF6UefyeurC7CLWixoSyHzMpXotVPDY4ZyCSWSbh0OTNgnYucIg4pLECdRgI7SN5UtVMuJoV4iW61DwdmSGPpwR
2026-01-09T08:18:59.957+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T08:19:00.030+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T08:19:00.059+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T08:19:00.069+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4182f5d7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T08:19:05.245+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T08:19:05.256+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:19:05.258+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:19:05.269+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:19:05.270+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T08:19:05.284+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:19:05.287+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:19:05.304+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:19:05.304+07:00 DEBUG 22740 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:22:53.357+07:00  INFO 12016 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 12016 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T08:22:53.372+07:00  INFO 12016 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T08:22:53.779+07:00  INFO 12016 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T08:22:53.782+07:00  INFO 12016 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T08:23:00.580+07:00  INFO 12016 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:23:00.587+07:00  INFO 12016 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T08:23:01.365+07:00  INFO 12016 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 748 ms. Found 6 JPA repository interfaces.
2026-01-09T08:23:01.450+07:00  INFO 12016 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:23:01.476+07:00  INFO 12016 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T08:23:01.650+07:00  INFO 12016 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:23:01.652+07:00  INFO 12016 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:23:01.654+07:00  INFO 12016 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:23:01.659+07:00  INFO 12016 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:23:01.663+07:00  INFO 12016 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:23:01.666+07:00  INFO 12016 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:23:01.671+07:00  INFO 12016 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 0 Redis repository interfaces.
2026-01-09T08:23:06.076+07:00  INFO 12016 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T08:23:06.159+07:00  INFO 12016 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T08:23:06.186+07:00  INFO 12016 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T08:23:06.499+07:00  INFO 12016 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T08:23:06.509+07:00  INFO 12016 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 12726 ms
2026-01-09T08:23:08.698+07:00  INFO 12016 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T08:23:08.847+07:00  INFO 12016 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T08:23:08.942+07:00  INFO 12016 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T08:23:10.000+07:00  INFO 12016 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T08:23:10.184+07:00  INFO 12016 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T08:23:11.293+07:00  INFO 12016 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7bdaa235
2026-01-09T08:23:11.299+07:00  INFO 12016 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T08:23:11.402+07:00  WARN 12016 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T08:23:11.445+07:00  INFO 12016 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T08:23:15.024+07:00  INFO 12016 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T08:23:15.469+07:00  INFO 12016 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T08:23:17.434+07:00  INFO 12016 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T08:23:20.441+07:00  INFO 12016 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T08:23:23.467+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:23:23.470+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:23:23.475+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:23:23.480+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:23:23.489+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:23:23.493+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:23:24.185+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:23:24.192+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:23:24.192+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:23:24.201+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:23:24.207+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:23:24.212+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:23:24.553+07:00  WARN 12016 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T08:23:25.955+07:00  INFO 12016 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T08:23:26.513+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000027a01da8cf8@ba1835e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T08:23:26.605+07:00 DEBUG 12016 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T08:23:27.244+07:00  WARN 12016 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T08:23:27.390+07:00  INFO 12016 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T08:23:27.428+07:00  INFO 12016 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T08:23:27.467+07:00  INFO 12016 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 36.015 seconds (process running for 38.289)
2026-01-09T08:23:41.181+07:00  INFO 12016 --- [auth-server] [https-jsse-nio-8282-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T08:23:41.183+07:00  INFO 12016 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T08:23:41.185+07:00  INFO 12016 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T08:23:41.289+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T08:23:41.339+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:23:41.359+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T08:34:03.900+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T08:34:03.922+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:34:03.931+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T08:34:04.180+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:04.187+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T08:34:04.259+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:04.264+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T08:34:04.354+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T08:34:04.414+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:04.414+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:04.454+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:34:04.457+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T08:34:05.887+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T08:34:05.900+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@e801297]
2026-01-09T08:34:05.996+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:05.996+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:34:06.009+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:06.012+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T08:34:06.100+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:06.100+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:08.670+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=COBe1OLo6CbBXZIwox0yvI2sPLSOgYi5Wr1qnRnn0eg%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=9C3pvw9ozPcTCJp5_r0HCQfwou45_TjLmh7mDhUHRxM
2026-01-09T08:34:08.695+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:08.695+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:08.712+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:34:09.505+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.core.session.SessionRegistryImpl   : Registering session 2253a63d-78a6-4f25-ab10-ad4c9d74626b, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T08:34:09.511+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=vWhgqDJORFj5hfOrL1Sghczq8E_xamb6o_78ObOnyJeyiYh4cqOmKAnnP00PXIZqQkj5ThG6mY555tE4FvFXH53AB2vdOpg3eBkDGFLdaAAfQ3LiEokvgRN-7erLLtlR&state=COBe1OLo6CbBXZIwox0yvI2sPLSOgYi5Wr1qnRnn0eg%3D
2026-01-09T08:34:09.515+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:09.517+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:34:09.539+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:09.543+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:10.114+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T08:34:11.529+07:00  INFO 12016 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkyMjQ1MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NTg0NTEsImlhdCI6MTc2NzkyMjQ1MSwianRpIjoiMjM3Yzk1ZTQtY2MxZS00NmFlLTkwYmYtYjg4MGJjYzZiYzY1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.h-LNBk-VHjKiLZ2_j-K11KbHVSiRLyLLj5SN4SpJcmzH0WR47zX-j7QHIFe_9LrnBXJoBx-vFw7wdx1FDYnwigXc4r6Iqob8gd2Tm5pMqalbtBfbAa9SkOgmY2cNSa5TnAzd9n2rRshAgPpjeLNhHLzRwoTRvJ5rXh-qA7QsE3EvqJsxN4Y67EN_aJQkBc-HeFNvJdHhD9Lhddhza5qKo3LQqak3Gxn3ccqQ7IULTT-vhQ9PU5w8uAEyPQdlNit3cKCthzU2oqI14cBvhfgFPrCIp8TQu83gzXsINV-3SNj6pklCiWe5IlZ6roXInvw37sXOvfLj0D_tDJfRL9vgmg
2026-01-09T08:34:11.529+07:00  INFO 12016 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkyMjQ0OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTI0MjUxLCJpYXQiOjE3Njc5MjI0NTEsIm5vbmNlIjoiOUMzcHZ3OW96UGNUQ0pwNV9yMEhDUWZ3b3U0NV9UakxtaDdtRGhVSFJ4TSIsImp0aSI6IjZmZWI0NGFlLWFiY2ItNDFlYS05MWRkLTQ5ZDdmMjAwNDMwZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiVVl4RFBQNlVOejMtYXAwQlBObi1BZnljV3RkN0tZSGZ4QUx0MjVKRk1NayJ9.EtGVsPU4_Y5zWgvmokN3CyvG0WJqJGFYRpgoW1VMs74FUATJs0RlP7Tv_PNH1YG1pR8iKKay1I8JV26pAvz9fYgqHcEJQz3ohCK0jOCktHrKQkTfYvtuCKy9lT5yBnISMWgNV0cOdAm4O52o2vLWy4QogOEY7xl9VSN7EI2YdYjXjVmpElyGqT1P32xfqWWf3FgcQna5clK3B2-X2H58-Q7d71rCEPiXNPIaFh4juIltExKrDnMKBrOo2MUms7E-juIhC7CSm8yc09PiIaTEZnBG9XFs5oIdMkJTQb2QyeUN_I64CFZTdiTjACG4CiAK2G5Hg-Jg3REnPLJt7L2x5w
2026-01-09T08:34:11.532+07:00  INFO 12016 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: msxW3jG48q0oXMT1fUna8JWD8NFGwb-uuVEY8jEof7Se0AbvwM9igC0FHd_W7M2XMu69cvQNRiJVv0glS6VKW57yJBbrtN3HJltqorkBwPeYXBsOP2c91jVY-XHVSzBs
2026-01-09T08:34:12.033+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T08:34:12.115+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T08:34:12.170+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T08:34:12.174+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@cfaaad67, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T08:34:17.168+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T08:34:17.183+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:17.184+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:17.195+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:34:17.195+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T08:34:17.212+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:17.212+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:34:17.232+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:17.235+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:21.587+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T08:34:21.612+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:21.614+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:21.646+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T08:34:21.667+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:34:51.251+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:51.252+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:34:58.244+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:58.244+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:58.258+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:34:58.260+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T08:34:58.278+07:00 TRACE 12016 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [2253a63d-78a6-4f25-ab10-ad4c9d74626b], value class [java.lang.String], SQL type unknown
2026-01-09T08:34:59.734+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T08:34:59.740+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:34:59.742+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:34:59.746+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:34:59.748+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 2253a63d-78a6-4f25-ab10-ad4c9d74626b
2026-01-09T08:34:59.767+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@2cc894a9, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T08:34:59.768+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@5483384e, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T08:34:59.768+07:00 DEBUG 12016 --- [auth-server] [https-jsse-nio-8282-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@30823e7a
2026-01-09T08:52:02.976+07:00  INFO 7916 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 7916 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T08:52:02.987+07:00  INFO 7916 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T08:52:03.230+07:00  INFO 7916 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T08:52:03.242+07:00  INFO 7916 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T08:52:10.046+07:00  INFO 7916 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:52:10.053+07:00  INFO 7916 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T08:52:11.066+07:00  INFO 7916 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 984 ms. Found 6 JPA repository interfaces.
2026-01-09T08:52:11.175+07:00  INFO 7916 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:52:11.185+07:00  INFO 7916 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T08:52:11.242+07:00  INFO 7916 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:52:11.250+07:00  INFO 7916 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:52:11.262+07:00  INFO 7916 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:52:11.270+07:00  INFO 7916 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:52:11.306+07:00  INFO 7916 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:52:11.318+07:00  INFO 7916 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:52:11.348+07:00  INFO 7916 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 0 Redis repository interfaces.
2026-01-09T08:52:14.542+07:00  INFO 7916 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T08:52:14.603+07:00  INFO 7916 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T08:52:14.614+07:00  INFO 7916 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T08:52:14.837+07:00  INFO 7916 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T08:52:14.840+07:00  INFO 7916 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11590 ms
2026-01-09T08:52:15.983+07:00  INFO 7916 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T08:52:16.101+07:00  INFO 7916 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T08:52:16.207+07:00  INFO 7916 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T08:52:17.771+07:00  INFO 7916 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T08:52:17.969+07:00  INFO 7916 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T08:52:21.644+07:00  INFO 7916 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59f896c0
2026-01-09T08:52:21.665+07:00  INFO 7916 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T08:52:21.984+07:00  WARN 7916 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T08:52:22.146+07:00  INFO 7916 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T08:52:25.720+07:00  INFO 7916 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T08:52:25.945+07:00  INFO 7916 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T08:52:26.905+07:00  INFO 7916 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T08:52:27.717+07:00  INFO 7916 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T08:52:29.115+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:52:29.119+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:52:29.130+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:52:29.138+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:52:29.143+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:52:29.157+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:52:29.777+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:52:29.778+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:52:29.778+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:52:29.779+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:52:29.780+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:52:29.780+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:52:30.035+07:00  WARN 7916 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T08:52:32.726+07:00  INFO 7916 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T08:52:33.492+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000017e44da6200@7af4a878 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T08:52:33.603+07:00 DEBUG 7916 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T08:52:34.264+07:00  WARN 7916 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T08:52:34.415+07:00  INFO 7916 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T08:52:34.435+07:00  INFO 7916 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T08:52:34.456+07:00  INFO 7916 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 32.843 seconds (process running for 34.321)
2026-01-09T08:52:35.498+07:00  INFO 7916 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T08:52:35.499+07:00  INFO 7916 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T08:52:35.502+07:00  INFO 7916 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T08:53:00.022+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:53:00.026+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
2026-01-09T08:53:00.039+07:00 TRACE 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1767923580019], value class [java.lang.Long], SQL type unknown
2026-01-09T08:53:00.055+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.s.jdbc.JdbcIndexedSessionRepository  : Cleaned up 0 expired sessions
2026-01-09T08:54:00.012+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:54:00.016+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
2026-01-09T08:54:00.017+07:00 TRACE 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1767923640012], value class [java.lang.Long], SQL type unknown
2026-01-09T08:54:00.028+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.s.jdbc.JdbcIndexedSessionRepository  : Cleaned up 0 expired sessions
2026-01-09T08:55:00.009+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:55:00.010+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
2026-01-09T08:55:00.011+07:00 TRACE 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1767923700009], value class [java.lang.Long], SQL type unknown
2026-01-09T08:55:00.016+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.s.jdbc.JdbcIndexedSessionRepository  : Cleaned up 0 expired sessions
2026-01-09T08:56:00.005+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:56:00.008+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
2026-01-09T08:56:00.008+07:00 TRACE 7916 --- [auth-server] [spring-session-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1767923760005], value class [java.lang.Long], SQL type unknown
2026-01-09T08:56:00.011+07:00 DEBUG 7916 --- [auth-server] [spring-session-1] o.s.s.jdbc.JdbcIndexedSessionRepository  : Cleaned up 0 expired sessions
2026-01-09T08:57:11.261+07:00  INFO 20136 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 20136 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T08:57:11.266+07:00  INFO 20136 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T08:57:11.371+07:00  INFO 20136 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T08:57:11.376+07:00  INFO 20136 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T08:57:15.784+07:00  INFO 20136 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:57:15.789+07:00  INFO 20136 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T08:57:16.203+07:00  INFO 20136 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 390 ms. Found 6 JPA repository interfaces.
2026-01-09T08:57:16.245+07:00  INFO 20136 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T08:57:16.256+07:00  INFO 20136 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T08:57:16.385+07:00  INFO 20136 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:57:16.387+07:00  INFO 20136 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:57:16.391+07:00  INFO 20136 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:57:16.396+07:00  INFO 20136 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:57:16.398+07:00  INFO 20136 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:57:16.398+07:00  INFO 20136 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T08:57:16.400+07:00  INFO 20136 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 0 Redis repository interfaces.
2026-01-09T08:57:19.098+07:00  INFO 20136 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T08:57:19.225+07:00  INFO 20136 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T08:57:19.246+07:00  INFO 20136 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T08:57:19.390+07:00  INFO 20136 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T08:57:19.394+07:00  INFO 20136 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8014 ms
2026-01-09T08:57:21.781+07:00  INFO 20136 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T08:57:21.975+07:00  INFO 20136 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T08:57:22.065+07:00  INFO 20136 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T08:57:23.203+07:00  INFO 20136 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T08:57:23.333+07:00  INFO 20136 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T08:57:24.575+07:00  INFO 20136 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42211187
2026-01-09T08:57:24.581+07:00  INFO 20136 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T08:57:24.664+07:00  WARN 20136 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T08:57:24.726+07:00  INFO 20136 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T08:57:26.904+07:00  INFO 20136 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T08:57:27.107+07:00  INFO 20136 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T08:57:28.155+07:00  INFO 20136 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T08:57:29.305+07:00  INFO 20136 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T08:57:30.325+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:57:30.329+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:57:30.330+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:57:30.331+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:57:30.333+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:57:30.335+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:57:30.599+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T08:57:30.599+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T08:57:30.600+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T08:57:30.600+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T08:57:30.600+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T08:57:30.601+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T08:57:30.746+07:00  WARN 20136 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T08:57:31.763+07:00  INFO 20136 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T08:57:32.216+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001b957d9b628@5d915ffa with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T08:57:32.374+07:00 DEBUG 20136 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T08:57:33.091+07:00  WARN 20136 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T08:57:33.252+07:00  INFO 20136 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T08:57:33.281+07:00  INFO 20136 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T08:57:33.304+07:00  INFO 20136 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 22.987 seconds (process running for 24.214)
2026-01-09T08:57:34.889+07:00  INFO 20136 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T08:57:34.889+07:00  INFO 20136 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T08:57:34.891+07:00  INFO 20136 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T08:58:44.848+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T08:58:44.883+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:58:44.897+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T08:59:15.045+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T08:59:15.047+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:59:15.048+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T08:59:15.086+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:59:15.087+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T08:59:15.116+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:59:15.117+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T08:59:15.167+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T08:59:15.197+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:59:15.199+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:59:15.207+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T08:59:15.210+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T08:59:15.677+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T08:59:15.680+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5f703565]
2026-01-09T08:59:15.718+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:59:15.719+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:59:15.732+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:59:15.732+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T08:59:15.768+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:59:15.769+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:59:17.312+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=8wCKLnF750mDp4uII96xS-MdXmDV7B99oEkXkfB6RSw%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=D5EPuBh_O5CSwl2H2TpfRRvacXj2I6zq4blRJ4QcFtQ
2026-01-09T08:59:17.323+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:59:17.323+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:59:17.335+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:59:17.599+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session 4cba88c9-451e-4df2-836d-42330275dc1c, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T08:59:17.602+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=zUKvpH_Zc3XTC8Ljhq5HKdzD5dQ-hgiQTyIiIqy4hLRoqrmK8OZGvS6lM9Hchkbg8VEXpF4fem9PmGxrtKpI7hS_00DNAQImNNKlMf1NpqBbnDRnQgTiNouTmyb523xJ&state=8wCKLnF750mDp4uII96xS-MdXmDV7B99oEkXkfB6RSw%3D
2026-01-09T08:59:17.603+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:59:17.603+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:59:17.613+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:59:17.613+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:59:17.826+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T08:59:18.445+07:00  INFO 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkyMzk1OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NTk5NTgsImlhdCI6MTc2NzkyMzk1OCwianRpIjoiOTM2ODVhN2ItYWU0NC00NzQ5LWE1ZWQtMjQ1ODRlYjkzNTU2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.siglF2lWEyJ4UmB9XjGMcEffvHg8sWqcB6R6Q8D02AkEmgk3dLvtqgHB1LH1n8l-aBmfOX7YotUvGB-WQQb0PTC7lji-X9zlyIxtwFsFOhY-E_hFZE9D3rR60Vyc-nu9hcHcECG5W5fBtQ94nER12ZnbI0R5ZeCY3_BRe8-DAvide9jKzfVMlcjW8MYdPIsY9S_kV5aFngTXiiZHtfMYB8--x0xUwYQRHtv3gaNRwjQTh10vBn0o8e9Z9zmO19DveCxA-_8-e7qN2KozlNWLwXgiYX6fjK4elo6V_MzWZXV3VH0Cv3yV5W0vSCTHT7LnsLGdIIMGMCXDkCZ79D_xhg
2026-01-09T08:59:18.446+07:00  INFO 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkyMzk1NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTI1NzU4LCJpYXQiOjE3Njc5MjM5NTgsIm5vbmNlIjoiRDVFUHVCaF9PNUNTd2wySDJUcGZSUnZhY1hqMkk2enE0YmxSSjRRY0Z0USIsImp0aSI6ImFjMzc2NjYxLTUyNGYtNGFhYS05OWM0LWQ0OWExNmUyMzIxMiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoicVZWRUIzUmpyM1pUZWY5S2NMMWNlWTBobU8tLU1uT3FnN3N0RUJTSFVMcyJ9.Ab0D_UkH0ihBUszDkWJSzbtzsyc9m-kHC6maUMXQq96ELuAI5a2yc90hyaft-Vj1gGsI1EtvplpY46dnACn88zopApzHTX3rIPmeQ3NRMT7ewltvsEsH3FpiVZeYXY8fwLzfuvbIAnU8X29lItTt_pMlGaxahhkIgKkZfk7GT9JKKa1m8ljBakirsn8uZlfLZdSkJfqSmUf6zFKeoRkFXE3NSJWqNKwDaW15C7cZ0VZnFiOpRhkvqqntpUi_0WjhB7JJeHTTZqoW9ivgtVPdoX1054bRvhG1WaT3yh44IZJtnU_U1Gp0OBwgGqFP6Dxdw3jzZ34dJ6y2gzsCVmp6wA
2026-01-09T08:59:18.446+07:00  INFO 20136 --- [auth-server] [https-jsse-nio-8282-exec-3] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 2kdE9PjW1hABcDHW205H5uqQUNjZ4Aog5TRwHTBWtjNtOiOP9CO_wdaaALV8acyzHtXUuhVzlo01SgQeNvl2J3I4oDnlTnvMLDmx6wL5Jv3LaiTIswG30h1q6cKzbLWW
2026-01-09T08:59:18.661+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T08:59:18.711+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T08:59:18.756+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T08:59:18.760+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c81f8619, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T08:59:20.897+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T08:59:20.907+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:59:20.907+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T08:59:20.916+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T08:59:20.918+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T08:59:20.926+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T08:59:20.926+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T08:59:20.937+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T08:59:20.938+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:00:15.895+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T09:00:15.900+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:00:15.900+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:00:15.906+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T09:00:15.907+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:00:27.586+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:00:27.586+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:00:51.280+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:00:51.282+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:00:51.919+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T09:00:51.922+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:00:51.922+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:00:51.927+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:00:51.928+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T09:00:51.931+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:00:51.932+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:00:51.939+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:00:51.940+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:02:57.064+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T09:02:57.067+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:02:57.068+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:02:57.072+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T09:02:57.074+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:03:03.904+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:03:03.905+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:03:04.499+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:03:04.500+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:03:05.129+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T09:03:05.132+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:03:05.132+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:03:05.136+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:03:05.138+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T09:03:05.143+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:03:05.144+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:03:05.154+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:03:05.154+07:00 DEBUG 20136 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:11:08.622+07:00  INFO 2560 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 2560 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:11:08.624+07:00  INFO 2560 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:11:08.687+07:00  INFO 2560 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T09:11:08.687+07:00  INFO 2560 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T09:11:10.385+07:00  INFO 2560 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:11:10.387+07:00  INFO 2560 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:11:10.568+07:00  INFO 2560 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 170 ms. Found 6 JPA repository interfaces.
2026-01-09T09:11:10.588+07:00  INFO 2560 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:11:10.591+07:00  INFO 2560 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:11:10.619+07:00  INFO 2560 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:11:10.620+07:00  INFO 2560 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:11:10.620+07:00  INFO 2560 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:11:10.622+07:00  INFO 2560 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:11:10.622+07:00  INFO 2560 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:11:10.623+07:00  INFO 2560 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:11:10.623+07:00  INFO 2560 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2026-01-09T09:11:11.679+07:00  INFO 2560 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:11:11.703+07:00  INFO 2560 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:11:11.704+07:00  INFO 2560 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:11:11.780+07:00  INFO 2560 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:11:11.781+07:00  INFO 2560 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3093 ms
2026-01-09T09:11:12.271+07:00  INFO 2560 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:11:12.393+07:00  INFO 2560 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T09:11:12.440+07:00  INFO 2560 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:11:12.805+07:00  INFO 2560 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:11:12.848+07:00  INFO 2560 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T09:11:13.581+07:00  INFO 2560 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a3fa319
2026-01-09T09:11:13.585+07:00  INFO 2560 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T09:11:13.647+07:00  WARN 2560 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:11:13.668+07:00  INFO 2560 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:11:15.165+07:00  INFO 2560 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:11:15.279+07:00  INFO 2560 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:11:15.674+07:00  INFO 2560 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:11:16.154+07:00  INFO 2560 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T09:11:16.647+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:11:16.648+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:11:16.654+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:11:16.656+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:11:16.657+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:11:16.658+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:11:16.848+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:11:16.848+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:11:16.849+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:11:16.849+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:11:16.849+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:11:16.850+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:11:16.963+07:00  WARN 2560 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:11:17.586+07:00  INFO 2560 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:11:17.968+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001e981d99378@465ec872 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:11:18.049+07:00 DEBUG 2560 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:11:18.456+07:00  WARN 2560 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T09:11:18.560+07:00  INFO 2560 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T09:11:18.581+07:00  INFO 2560 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:11:18.597+07:00  INFO 2560 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 10.507 seconds (process running for 11.392)
2026-01-09T09:11:20.390+07:00  INFO 2560 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T09:11:20.390+07:00  INFO 2560 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T09:11:20.391+07:00  INFO 2560 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T09:11:43.554+07:00 DEBUG 2560 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T09:11:43.571+07:00 DEBUG 2560 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:11:43.579+07:00 DEBUG 2560 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T09:13:29.617+07:00  INFO 14356 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 14356 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:13:29.620+07:00  INFO 14356 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:13:29.689+07:00  INFO 14356 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T09:13:29.690+07:00  INFO 14356 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T09:13:31.558+07:00  INFO 14356 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:13:31.559+07:00  INFO 14356 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:13:31.711+07:00  INFO 14356 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 141 ms. Found 6 JPA repository interfaces.
2026-01-09T09:13:31.732+07:00  INFO 14356 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:13:31.733+07:00  INFO 14356 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:13:31.755+07:00  INFO 14356 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:13:31.756+07:00  INFO 14356 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:13:31.756+07:00  INFO 14356 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:13:31.758+07:00  INFO 14356 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:13:31.759+07:00  INFO 14356 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:13:31.759+07:00  INFO 14356 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:13:31.760+07:00  INFO 14356 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2026-01-09T09:13:32.838+07:00  INFO 14356 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:13:32.856+07:00  INFO 14356 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:13:32.856+07:00  INFO 14356 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:13:32.927+07:00  INFO 14356 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:13:32.929+07:00  INFO 14356 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3238 ms
2026-01-09T09:13:33.446+07:00  INFO 14356 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:13:33.527+07:00  INFO 14356 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T09:13:33.578+07:00  INFO 14356 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:13:33.952+07:00  INFO 14356 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:13:33.996+07:00  INFO 14356 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T09:13:34.493+07:00  INFO 14356 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@241f8fba
2026-01-09T09:13:34.496+07:00  INFO 14356 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T09:13:34.574+07:00  WARN 14356 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:13:34.603+07:00  INFO 14356 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:13:35.718+07:00  INFO 14356 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:13:35.814+07:00  INFO 14356 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:13:36.162+07:00  INFO 14356 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:13:36.662+07:00  INFO 14356 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T09:13:37.222+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:13:37.224+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:13:37.225+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:13:37.226+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:13:37.227+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:13:37.228+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:13:37.429+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:13:37.429+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:13:37.430+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:13:37.430+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:13:37.430+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:13:37.430+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:13:37.589+07:00  WARN 14356 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:13:38.312+07:00  INFO 14356 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:13:38.739+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000020740d9a080@2a576421 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:13:38.850+07:00 DEBUG 14356 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:13:39.277+07:00  WARN 14356 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T09:13:39.420+07:00  INFO 14356 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T09:13:39.440+07:00  INFO 14356 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:13:39.458+07:00  INFO 14356 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 10.349 seconds (process running for 11.3)
2026-01-09T09:13:41.328+07:00  INFO 14356 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T09:13:41.328+07:00  INFO 14356 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T09:13:41.330+07:00  INFO 14356 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T09:13:47.407+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T09:13:47.435+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:13:47.451+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T09:14:09.279+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T09:14:09.280+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:14:09.281+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T09:14:09.307+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:09.310+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T09:14:09.321+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:09.321+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T09:14:09.348+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T09:14:09.364+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:09.365+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:09.372+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:14:09.373+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T09:14:09.836+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T09:14:09.839+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@60acb0a0]
2026-01-09T09:14:09.872+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:09.873+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:14:09.879+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:09.880+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T09:14:09.918+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:09.918+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:11.162+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=3RutguvENqeo6Mo_ZXXLEYBLJxty4oQ81x-aPswzbhs%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=7pVJXiF96RvGYzNXd9J1OKl3io5uLbB-mkNOzOjZfT8
2026-01-09T09:14:11.171+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:11.172+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:11.178+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:14:11.441+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.core.session.SessionRegistryImpl   : Registering session 1458f5ec-bdac-4c27-8137-7fd0cd0cc3cf, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T09:14:11.443+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=cicFaQBT14i_nGuy-mDjq_bFH_K8b3uNI-teparjcgcFdm5tvRVYdfAhQj2dbpDZpMPNILERnccbEWkHBdqTlq9q5UPf6gNXE0Eh_PrHDhoNAFQWJ62b3tbYGI7Ijx85&state=3RutguvENqeo6Mo_ZXXLEYBLJxty4oQ81x-aPswzbhs%3D
2026-01-09T09:14:11.444+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:11.445+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:14:11.456+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:11.457+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:11.641+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T09:14:12.254+07:00  INFO 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkyNDg1Miwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NjA4NTIsImlhdCI6MTc2NzkyNDg1MiwianRpIjoiMmJkZmYxYzgtNmYwOS00ODBlLWJjODYtZGI0Nzc4NDYxZTViIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.n-EZviHdoh-DPRnYgQ72jhDvG3eLfloBeHB2IC-plAZEwjnQcUVrvm282w93lNy25ldV-eEma0dI0VIkeVXSnkXXL2x-BG-Q7PpolPSUwBdmiIXngxFWCZ8AUAb32hokTA3gjhP1md5RRefH97FPIaVBtOungd3Yk-uVCLiNZdVZjZ2cdEnw5Lh6AC3raOhSfcFYTf_rdJ8czzFWkBSHVAWZUMvgbhhbWdEat6S6Auo9JAJ0oFh_g3xTc-wksFtk3zv9PMZmKIbF3UpyEAOzIJ8M4yldau_js9owGAnZh4S72xF20T90VA63nfbqPII5M_3q95OnRcQyhHBY0G8vtw
2026-01-09T09:14:12.255+07:00  INFO 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkyNDg1MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTI2NjUyLCJpYXQiOjE3Njc5MjQ4NTIsIm5vbmNlIjoiN3BWSlhpRjk2UnZHWXpOWGQ5SjFPS2wzaW81dUxiQi1ta05Pek9qWmZUOCIsImp0aSI6IjEyYWM4OTY0LWU3YTYtNDg0ZS1iYmU0LTE5ZDk4YjA1NWYzNCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiNW5BSGJzdG5UR2gtRmxpM1AteDJWUU01TThjdUpPU0lqVlFxejFycFZnNCJ9.jDtb8o4hWf_VUeSg7yQ9CD_YaG4v29wCJUdb2sbtR6BDJLHV99Kn4tApeTPuyhjirrzMfIm6pFO-fepBiPjRt9I-WoVjF62kauqZ5gTjOcB9I5pvyu0z5WPXhBFTBhWZO1RfglF7WH-ss2FbDyUF932zwnRPiOW3G0w_faEkGkbRgGFGUGyA4SKDR_ERTVBiTirr5tFdTIhYzXTVZs7WciR8bYTkvWvw_58znZtBYBySAyLtdW6Vt5FCv58GmMBiAMJmkUoAJqAjb5gbuOMsUQYayoksWuUdvlhsOEO2EDmhiuz64E5fClnKxpnYoE213KxHjUwUp0CkZOi53-iQyQ
2026-01-09T09:14:12.255+07:00  INFO 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: _4z0Ed-A-i3ocW2Ag9kRr5vUnMlLf46TZjWimhJve5ZP92a89vYpMyMVrFazoXDeubuouoga3RINsMRtKU9XF8SPrW7nSCYukfvRDL-gEmtaPJiXbk5uWFI5GX_wXoIC
2026-01-09T09:14:12.312+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T09:14:12.346+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T09:14:12.396+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T09:14:12.405+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f96cfc8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T09:14:13.159+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T09:14:13.164+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:13.165+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:13.170+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:14:13.173+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T09:14:13.180+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:13.181+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:14:13.200+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:13.200+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:34.979+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T09:14:34.983+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:34.985+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:34.993+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T09:14:34.997+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:14:39.061+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:39.061+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:14:39.735+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:39.735+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:40.378+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T09:14:40.381+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:40.381+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:14:40.385+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:14:40.386+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T09:14:40.389+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:14:40.389+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:14:40.400+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:14:40.400+07:00 DEBUG 14356 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:16:29.802+07:00  INFO 1716 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 1716 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:16:29.806+07:00  INFO 1716 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:16:29.862+07:00  INFO 1716 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T09:16:29.862+07:00  INFO 1716 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T09:16:31.493+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:16:31.496+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:16:31.638+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132 ms. Found 6 JPA repository interfaces.
2026-01-09T09:16:31.654+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:16:31.656+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:16:31.683+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:16:31.684+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:16:31.684+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:16:31.685+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:16:31.685+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:16:31.685+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:16:31.686+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2026-01-09T09:16:32.677+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:16:32.710+07:00  INFO 1716 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:16:32.712+07:00  INFO 1716 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:16:32.789+07:00  INFO 1716 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:16:32.790+07:00  INFO 1716 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2927 ms
2026-01-09T09:16:33.241+07:00  INFO 1716 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:16:33.336+07:00  INFO 1716 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T09:16:33.384+07:00  INFO 1716 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:16:33.695+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:16:33.732+07:00  INFO 1716 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T09:16:34.096+07:00  INFO 1716 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@463a24f7
2026-01-09T09:16:34.099+07:00  INFO 1716 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T09:16:34.175+07:00  WARN 1716 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:16:34.208+07:00  INFO 1716 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:16:35.328+07:00  INFO 1716 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:16:35.432+07:00  INFO 1716 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:16:35.845+07:00  INFO 1716 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:16:36.279+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T09:16:36.856+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:16:36.860+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:16:36.865+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:16:36.867+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:16:36.870+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:16:36.872+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:16:37.235+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:16:37.235+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:16:37.236+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:16:37.236+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:16:37.237+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:16:37.237+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:16:37.439+07:00  WARN 1716 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:16:38.526+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:16:39.011+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000179dcd98000@29118105 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:16:39.151+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:16:39.607+07:00  WARN 1716 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T09:16:39.722+07:00  INFO 1716 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T09:16:39.741+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:16:39.761+07:00  INFO 1716 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 10.5 seconds (process running for 11.186)
2026-01-09T09:16:41.592+07:00  INFO 1716 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T09:16:41.593+07:00  INFO 1716 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T09:16:41.595+07:00  INFO 1716 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T09:16:53.907+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T09:16:53.936+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:16:53.937+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:16:53.987+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T09:16:53.993+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:17:11.471+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:17:11.472+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:17:13.084+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:17:13.086+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:17:13.801+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T09:17:13.819+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:17:13.819+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:17:13.824+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T09:17:13.826+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T09:17:13.866+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:17:13.867+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:17:13.877+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:17:13.877+07:00 DEBUG 1716 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:19:29.767+07:00  INFO 1716 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-09T09:19:29.801+07:00  INFO 1716 --- [auth-server] [Thread-1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-09T09:19:29.812+07:00  INFO 1716 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-09T09:19:29.888+07:00  INFO 1716 --- [auth-server] [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:19:29.909+07:00  INFO 1716 --- [auth-server] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-09T09:19:29.927+07:00  INFO 1716 --- [auth-server] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-09T09:19:30.110+07:00  INFO 1716 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 1716 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:19:30.111+07:00  INFO 1716 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:19:30.824+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:19:30.824+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:19:30.852+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2026-01-09T09:19:30.855+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:19:30.855+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:19:30.861+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:19:30.861+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:19:30.861+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:19:30.862+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:19:30.862+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:19:30.863+07:00  INFO 1716 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:19:30.863+07:00  INFO 1716 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2026-01-09T09:19:31.009+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:19:31.010+07:00  INFO 1716 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:19:31.010+07:00  INFO 1716 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:19:31.044+07:00  INFO 1716 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:19:31.044+07:00  INFO 1716 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 930 ms
2026-01-09T09:19:31.109+07:00  INFO 1716 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:19:31.111+07:00  INFO 1716 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:19:31.121+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:19:31.122+07:00  INFO 1716 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-09T09:19:31.164+07:00  INFO 1716 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f1e8959
2026-01-09T09:19:31.165+07:00  INFO 1716 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-09T09:19:31.168+07:00  WARN 1716 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:19:31.168+07:00  INFO 1716 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:19:31.355+07:00  INFO 1716 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:19:31.415+07:00  INFO 1716 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:19:31.511+07:00  INFO 1716 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:19:31.641+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:19:31.642+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:19:31.642+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:19:31.643+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:19:31.643+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:19:31.643+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:19:31.666+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:19:31.667+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:19:31.667+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:19:31.669+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:19:31.671+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:19:31.674+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:19:31.729+07:00  WARN 1716 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:19:31.917+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:19:31.979+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000179dcd98000@1dd6f561 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:19:32.004+07:00 DEBUG 1716 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:19:32.097+07:00  WARN 1716 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T09:19:32.147+07:00  INFO 1716 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-09T09:19:32.151+07:00  INFO 1716 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:19:32.158+07:00  INFO 1716 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.088 seconds (process running for 183.583)
2026-01-09T09:19:32.161+07:00  INFO 1716 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-09T09:49:48.514+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:49:48.516+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:49:48.577+07:00  INFO 19732 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T09:49:48.578+07:00  INFO 19732 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T09:49:50.213+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:49:50.216+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:49:50.398+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 171 ms. Found 6 JPA repository interfaces.
2026-01-09T09:49:50.426+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:49:50.429+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:49:50.449+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:49:50.450+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:49:50.451+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:49:50.452+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:49:50.452+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:49:50.453+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:49:50.453+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2026-01-09T09:49:51.453+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:49:51.481+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:49:51.484+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:49:51.541+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:49:51.541+07:00  INFO 19732 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2963 ms
2026-01-09T09:49:51.945+07:00  INFO 19732 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:49:52.079+07:00  INFO 19732 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T09:49:52.151+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:49:52.480+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:49:52.511+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T09:49:52.878+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13fd5be9
2026-01-09T09:49:52.881+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T09:49:52.975+07:00  WARN 19732 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:49:53.008+07:00  INFO 19732 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:49:54.104+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:49:54.241+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:49:54.580+07:00  INFO 19732 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:49:54.980+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T09:49:55.532+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:49:55.533+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:49:55.534+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:49:55.535+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:49:55.535+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:49:55.536+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:49:55.730+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:49:55.730+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:49:55.730+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:49:55.731+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:49:55.731+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:49:55.731+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:49:55.846+07:00  WARN 19732 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:49:56.517+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:49:56.873+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022a19d9fb08@74f54966 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:49:56.958+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:49:57.481+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-09T09:49:57.598+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T09:49:57.617+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:49:57.633+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 9.749 seconds (process running for 10.501)
2026-01-09T09:50:00.267+07:00  INFO 19732 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T09:50:00.268+07:00  INFO 19732 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T09:50:00.270+07:00  INFO 19732 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T09:50:16.673+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T09:50:16.693+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:50:16.696+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:50:16.708+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:50:16.708+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id c0f68292-9d87-4dc2-a5a1-6000a794ccd8
2026-01-09T09:50:16.714+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T09:50:16.775+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:50:16.776+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T09:50:16.802+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:50:16.802+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T09:50:16.832+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:50:16.832+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:50:51.437+07:00  INFO 19732 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-09T09:50:51.446+07:00  INFO 19732 --- [auth-server] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-09T09:50:51.455+07:00  INFO 19732 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-09T09:50:51.507+07:00  INFO 19732 --- [auth-server] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:50:51.521+07:00  INFO 19732 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-09T09:50:51.533+07:00  INFO 19732 --- [auth-server] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-09T09:50:51.792+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:50:51.792+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:50:52.701+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:50:52.701+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:50:52.775+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 6 JPA repository interfaces.
2026-01-09T09:50:52.782+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:50:52.782+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:50:52.805+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:50:52.806+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:50:52.807+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:50:52.810+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:50:52.811+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:50:52.815+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:50:52.816+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2026-01-09T09:50:53.148+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:50:53.153+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:50:53.155+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:50:53.217+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:50:53.220+07:00  INFO 19732 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1421 ms
2026-01-09T09:50:53.361+07:00  INFO 19732 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:50:53.366+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:50:53.400+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:50:53.402+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-09T09:50:53.511+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@403d271d
2026-01-09T09:50:53.512+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-09T09:50:53.516+07:00  WARN 19732 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:50:53.517+07:00  INFO 19732 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:50:53.955+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:50:54.049+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:50:54.112+07:00  INFO 19732 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:50:54.188+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:50:54.189+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:50:54.189+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:50:54.189+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:50:54.190+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:50:54.190+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:50:54.208+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:50:54.208+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:50:54.209+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:50:54.209+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:50:54.209+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:50:54.209+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:50:54.245+07:00  WARN 19732 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:50:54.369+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:50:54.434+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022a19d9fb08@618b8af6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:50:54.491+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:50:54.616+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-09T09:50:54.673+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-09T09:50:54.681+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:50:54.691+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.958 seconds (process running for 67.558)
2026-01-09T09:50:54.694+07:00  INFO 19732 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-09T09:50:58.445+07:00  INFO 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T09:50:58.447+07:00  INFO 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T09:50:58.448+07:00  INFO 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T09:50:58.452+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T09:50:58.458+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:50:58.458+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:50:58.475+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:50:58.476+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T09:50:58.485+07:00 TRACE 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [02f5ca92-e6a8-43c4-a855-bae2a752fdf2], value class [java.lang.String], SQL type unknown
2026-01-09T09:50:58.505+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:50:58.506+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 02f5ca92-e6a8-43c4-a855-bae2a752fdf2
2026-01-09T09:50:58.508+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T09:50:58.515+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:50:58.516+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T09:50:58.521+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:50:58.521+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T09:50:58.535+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:50:58.536+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:50:59.878+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T09:50:59.893+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:50:59.893+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:50:59.899+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:50:59.899+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T09:50:59.906+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:50:59.907+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:50:59.924+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:50:59.925+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:51:00.832+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T09:51:00.834+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:51:00.834+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:51:00.836+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T09:51:00.837+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T09:51:00.841+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T09:51:00.842+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T09:51:00.851+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T09:51:00.852+07:00 DEBUG 19732 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T09:53:26.702+07:00  INFO 19732 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-09T09:53:26.727+07:00  INFO 19732 --- [auth-server] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-09T09:53:26.738+07:00  INFO 19732 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-09T09:53:26.763+07:00  INFO 19732 --- [auth-server] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:53:26.768+07:00  INFO 19732 --- [auth-server] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-09T09:53:26.776+07:00  INFO 19732 --- [auth-server] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-09T09:53:27.070+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:53:27.077+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:53:28.254+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:53:28.256+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:53:28.318+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 6 JPA repository interfaces.
2026-01-09T09:53:28.331+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:53:28.335+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:53:28.348+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:28.355+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:28.356+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:28.358+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:28.359+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:28.361+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:28.363+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2026-01-09T09:53:28.670+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:53:28.671+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:53:28.672+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:53:28.696+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:53:28.696+07:00  INFO 19732 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1613 ms
2026-01-09T09:53:28.757+07:00  INFO 19732 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:53:28.759+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:53:28.768+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:53:28.769+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-09T09:53:28.819+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2748cde5
2026-01-09T09:53:28.819+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-09T09:53:28.821+07:00  WARN 19732 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:53:28.821+07:00  INFO 19732 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:53:28.951+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:53:29.031+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:53:29.112+07:00  INFO 19732 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:53:29.204+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:53:29.205+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:53:29.205+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:53:29.205+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:53:29.206+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:53:29.206+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:53:29.232+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:53:29.233+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:53:29.233+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:53:29.233+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:53:29.233+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:53:29.234+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:53:29.274+07:00  WARN 19732 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:53:29.393+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:53:29.440+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000022a19d9fb08@b27e09c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:53:29.469+07:00 DEBUG 19732 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:53:29.586+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-09T09:53:29.624+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-09T09:53:29.629+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:53:29.634+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.616 seconds (process running for 222.502)
2026-01-09T09:53:29.636+07:00  INFO 19732 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-09T09:53:49.472+07:00  INFO 19732 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
2026-01-09T09:53:49.474+07:00  INFO 19732 --- [auth-server] [Thread-11] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-09T09:53:49.481+07:00  INFO 19732 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-09T09:53:49.495+07:00  INFO 19732 --- [auth-server] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:53:49.496+07:00  INFO 19732 --- [auth-server] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2026-01-09T09:53:49.507+07:00  INFO 19732 --- [auth-server] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2026-01-09T09:53:49.658+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:53:49.659+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:53:50.126+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:53:50.126+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:53:50.156+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2026-01-09T09:53:50.160+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:53:50.160+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:53:50.171+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:50.172+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:50.172+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:50.172+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:50.173+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:50.173+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:53:50.173+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2026-01-09T09:53:50.317+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:53:50.319+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:53:50.319+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:53:50.340+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:53:50.340+07:00  INFO 19732 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 678 ms
2026-01-09T09:53:50.422+07:00  INFO 19732 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:53:50.424+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:53:50.434+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:53:50.435+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2026-01-09T09:53:50.452+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d9e529e
2026-01-09T09:53:50.452+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2026-01-09T09:53:50.455+07:00  WARN 19732 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:53:50.456+07:00  INFO 19732 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:53:50.599+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:53:50.661+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:53:50.668+07:00  WARN 19732 --- [auth-server] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\SecurityConfig.class]: Failed to instantiate [com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0]: Constructor threw exception
2026-01-09T09:53:50.669+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:53:50.669+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2026-01-09T09:53:50.678+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2026-01-09T09:53:50.679+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-09T09:53:50.689+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-09T09:53:50.729+07:00 ERROR 19732 --- [auth-server] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\SecurityConfig.class]: Failed to instantiate [com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1242) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:123) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1351) ~[spring-beans-6.2.15.jar:6.2.15]
	... 22 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problems: 
	The method securityContextRepository() is undefined for the type SecurityConfig
	The method securityContextRepository() is undefined for the type SecurityConfig

	at com.bookommerce.auth_server.config.SecurityConfig.<init>(SecurityConfig.java:112) ~[classes/:na]
	at com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0.<init>(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.2.15.jar:6.2.15]
	... 24 common frames omitted

2026-01-09T09:54:00.430+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:54:00.431+07:00  INFO 19732 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:54:00.823+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:54:00.824+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:54:00.846+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 6 JPA repository interfaces.
2026-01-09T09:54:00.848+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:54:00.848+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:54:00.854+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:54:00.855+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:54:00.855+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:54:00.856+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:54:00.856+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:54:00.857+07:00  INFO 19732 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:54:00.857+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2026-01-09T09:54:00.975+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:54:00.976+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:54:00.976+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:54:00.994+07:00  INFO 19732 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2026-01-09T09:54:00.994+07:00  INFO 19732 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 561 ms
2026-01-09T09:54:01.040+07:00  INFO 19732 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:54:01.043+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:54:01.051+07:00  INFO 19732 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:54:01.052+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2026-01-09T09:54:01.065+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ddee2d5
2026-01-09T09:54:01.065+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2026-01-09T09:54:01.067+07:00  WARN 19732 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:54:01.067+07:00  INFO 19732 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:54:01.180+07:00  INFO 19732 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:54:01.235+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:54:01.241+07:00  WARN 19732 --- [auth-server] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\SecurityConfig.class]: Failed to instantiate [com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0]: Constructor threw exception
2026-01-09T09:54:01.241+07:00  INFO 19732 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:54:01.242+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2026-01-09T09:54:01.273+07:00  INFO 19732 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2026-01-09T09:54:01.274+07:00  INFO 19732 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-09T09:54:01.281+07:00  INFO 19732 --- [auth-server] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-09T09:54:01.283+07:00 ERROR 19732 --- [auth-server] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\SecurityConfig.class]: Failed to instantiate [com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1242) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:123) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1351) ~[spring-beans-6.2.15.jar:6.2.15]
	... 22 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	The method securityContextRepository() is undefined for the type SecurityConfig

	at com.bookommerce.auth_server.config.SecurityConfig.<init>(SecurityConfig.java:112) ~[classes/:na]
	at com.bookommerce.auth_server.config.SecurityConfig$$SpringCGLIB$$0.<init>(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.2.15.jar:6.2.15]
	... 24 common frames omitted

2026-01-09T09:55:40.291+07:00  INFO 16472 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 16472 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:55:40.292+07:00  INFO 16472 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:55:40.347+07:00  INFO 16472 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T09:55:40.348+07:00  INFO 16472 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T09:55:41.873+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:55:41.875+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:55:42.065+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 6 JPA repository interfaces.
2026-01-09T09:55:42.090+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:55:42.094+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:55:42.118+07:00  INFO 16472 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:55:42.119+07:00  INFO 16472 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:55:42.119+07:00  INFO 16472 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:55:42.121+07:00  INFO 16472 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:55:42.121+07:00  INFO 16472 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:55:42.122+07:00  INFO 16472 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:55:42.122+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2026-01-09T09:55:43.075+07:00  INFO 16472 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:55:43.097+07:00  INFO 16472 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:55:43.098+07:00  INFO 16472 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:55:43.169+07:00  INFO 16472 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:55:43.170+07:00  INFO 16472 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2822 ms
2026-01-09T09:55:43.626+07:00  INFO 16472 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:55:43.750+07:00  INFO 16472 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T09:55:43.806+07:00  INFO 16472 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:55:44.164+07:00  INFO 16472 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:55:44.204+07:00  INFO 16472 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T09:55:44.657+07:00  INFO 16472 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b2f6501
2026-01-09T09:55:44.662+07:00  INFO 16472 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T09:55:44.755+07:00  WARN 16472 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:55:44.800+07:00  INFO 16472 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:55:45.918+07:00  INFO 16472 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:55:46.041+07:00  INFO 16472 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:55:46.433+07:00  INFO 16472 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:55:46.437+07:00  WARN 16472 --- [auth-server] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\controller\AuthController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authService' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\service\AuthService.class]: Unsatisfied dependency expressed through constructor parameter 4: No qualifying bean of type 'org.springframework.security.web.context.SecurityContextRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2026-01-09T09:55:46.439+07:00  INFO 16472 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:55:46.445+07:00  INFO 16472 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-09T09:55:46.477+07:00  INFO 16472 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-09T09:55:46.489+07:00  INFO 16472 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-09T09:55:46.536+07:00  INFO 16472 --- [auth-server] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-09T09:55:46.581+07:00 ERROR 16472 --- [auth-server] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 4 of constructor in com.bookommerce.auth_server.service.AuthService required a bean of type 'org.springframework.security.web.context.SecurityContextRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.web.context.SecurityContextRepository' in your configuration.

2026-01-09T09:56:29.807+07:00  INFO 12756 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 12756 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T09:56:29.811+07:00  INFO 12756 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T09:56:29.872+07:00  INFO 12756 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T09:56:29.873+07:00  INFO 12756 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T09:56:31.464+07:00  INFO 12756 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:56:31.466+07:00  INFO 12756 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T09:56:31.605+07:00  INFO 12756 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 132 ms. Found 6 JPA repository interfaces.
2026-01-09T09:56:31.628+07:00  INFO 12756 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T09:56:31.629+07:00  INFO 12756 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T09:56:31.649+07:00  INFO 12756 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:56:31.650+07:00  INFO 12756 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:56:31.651+07:00  INFO 12756 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:56:31.653+07:00  INFO 12756 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:56:31.654+07:00  INFO 12756 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:56:31.655+07:00  INFO 12756 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T09:56:31.655+07:00  INFO 12756 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2026-01-09T09:56:32.591+07:00  INFO 12756 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T09:56:32.620+07:00  INFO 12756 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T09:56:32.621+07:00  INFO 12756 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T09:56:32.685+07:00  INFO 12756 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T09:56:32.687+07:00  INFO 12756 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2811 ms
2026-01-09T09:56:33.088+07:00  INFO 12756 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T09:56:33.163+07:00  INFO 12756 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T09:56:33.213+07:00  INFO 12756 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T09:56:33.553+07:00  INFO 12756 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T09:56:33.609+07:00  INFO 12756 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T09:56:34.047+07:00  INFO 12756 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5382fa6b
2026-01-09T09:56:34.055+07:00  INFO 12756 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T09:56:34.142+07:00  WARN 12756 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T09:56:34.164+07:00  INFO 12756 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T09:56:35.410+07:00  INFO 12756 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T09:56:35.528+07:00  INFO 12756 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T09:56:35.992+07:00  INFO 12756 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T09:56:36.446+07:00  INFO 12756 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T09:56:37.036+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:56:37.038+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:56:37.040+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:56:37.041+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:56:37.042+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:56:37.043+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:56:37.253+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T09:56:37.253+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T09:56:37.254+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T09:56:37.254+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T09:56:37.254+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T09:56:37.254+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T09:56:37.390+07:00  WARN 12756 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T09:56:37.970+07:00  INFO 12756 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T09:56:38.338+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024815d9c2c0@46d407c2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T09:56:38.456+07:00 DEBUG 12756 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T09:56:39.105+07:00  INFO 12756 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-09T09:56:39.246+07:00  INFO 12756 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T09:56:39.267+07:00  INFO 12756 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T09:56:39.287+07:00  INFO 12756 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 10.055 seconds (process running for 10.701)
2026-01-09T10:24:26.457+07:00  INFO 24456 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 24456 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T10:24:26.465+07:00  INFO 24456 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T10:24:26.647+07:00  INFO 24456 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T10:24:26.652+07:00  INFO 24456 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T10:24:32.757+07:00  INFO 24456 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:24:32.761+07:00  INFO 24456 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T10:24:33.178+07:00  INFO 24456 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 399 ms. Found 6 JPA repository interfaces.
2026-01-09T10:24:33.210+07:00  INFO 24456 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:24:33.212+07:00  INFO 24456 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T10:24:33.243+07:00  INFO 24456 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:24:33.248+07:00  INFO 24456 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:24:33.250+07:00  INFO 24456 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:24:33.253+07:00  INFO 24456 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:24:33.262+07:00  INFO 24456 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:24:33.266+07:00  INFO 24456 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:24:33.267+07:00  INFO 24456 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2026-01-09T10:24:35.785+07:00  INFO 24456 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T10:24:36.147+07:00  INFO 24456 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T10:24:36.148+07:00  INFO 24456 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T10:24:36.384+07:00  INFO 24456 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T10:24:36.385+07:00  INFO 24456 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9724 ms
2026-01-09T10:24:37.503+07:00  INFO 24456 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T10:24:37.729+07:00  INFO 24456 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T10:24:37.833+07:00  INFO 24456 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T10:24:39.329+07:00  INFO 24456 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T10:24:39.471+07:00  INFO 24456 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T10:24:40.135+07:00  INFO 24456 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6dff4cc3
2026-01-09T10:24:40.138+07:00  INFO 24456 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T10:24:40.237+07:00  WARN 24456 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T10:24:40.274+07:00  INFO 24456 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T10:24:42.523+07:00  INFO 24456 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T10:24:42.726+07:00  INFO 24456 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T10:24:43.390+07:00  INFO 24456 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T10:24:44.431+07:00  INFO 24456 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T10:24:45.728+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:24:45.730+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:24:45.732+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:24:45.734+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:24:45.736+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:24:45.738+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:24:46.067+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:24:46.078+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:24:46.079+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:24:46.081+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:24:46.081+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:24:46.082+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:24:46.527+07:00  WARN 24456 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T10:24:47.932+07:00  INFO 24456 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T10:24:48.497+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000155b8d9e620@7fc0a942 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T10:24:48.672+07:00 DEBUG 24456 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T10:24:49.389+07:00  WARN 24456 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T10:24:49.643+07:00  INFO 24456 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T10:24:49.679+07:00  INFO 24456 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T10:24:49.729+07:00  INFO 24456 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 24.507 seconds (process running for 25.867)
2026-01-09T10:24:50.059+07:00  INFO 24456 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T10:24:50.060+07:00  INFO 24456 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T10:24:50.062+07:00  INFO 24456 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T10:25:08.630+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:25:08.647+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:25:08.655+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:25:41.684+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:25:41.688+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:25:41.692+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:26:24.683+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/csrf
2026-01-09T10:26:24.685+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:26:24.689+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/csrf
2026-01-09T10:26:24.728+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:26:24.745+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:26:24.746+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:26:24.755+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:26:24.756+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:26:24.757+07:00 DEBUG 24456 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T10:35:33.121+07:00  INFO 13324 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 13324 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T10:35:33.123+07:00  INFO 13324 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T10:35:33.191+07:00  INFO 13324 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T10:35:33.192+07:00  INFO 13324 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T10:35:35.250+07:00  INFO 13324 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:35:35.252+07:00  INFO 13324 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T10:35:35.424+07:00  INFO 13324 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 162 ms. Found 6 JPA repository interfaces.
2026-01-09T10:35:35.442+07:00  INFO 13324 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:35:35.445+07:00  INFO 13324 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T10:35:35.465+07:00  INFO 13324 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:35:35.466+07:00  INFO 13324 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:35:35.468+07:00  INFO 13324 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:35:35.470+07:00  INFO 13324 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:35:35.472+07:00  INFO 13324 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:35:35.473+07:00  INFO 13324 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:35:35.473+07:00  INFO 13324 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2026-01-09T10:35:36.595+07:00  INFO 13324 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T10:35:36.618+07:00  INFO 13324 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T10:35:36.622+07:00  INFO 13324 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T10:35:36.682+07:00  INFO 13324 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T10:35:36.682+07:00  INFO 13324 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3489 ms
2026-01-09T10:35:37.099+07:00  INFO 13324 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T10:35:37.215+07:00  INFO 13324 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T10:35:37.287+07:00  INFO 13324 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T10:35:37.728+07:00  INFO 13324 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T10:35:37.778+07:00  INFO 13324 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T10:35:38.358+07:00  INFO 13324 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4503fff
2026-01-09T10:35:38.361+07:00  INFO 13324 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T10:35:38.441+07:00  WARN 13324 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T10:35:38.465+07:00  INFO 13324 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T10:35:39.795+07:00  INFO 13324 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T10:35:39.958+07:00  INFO 13324 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T10:35:40.388+07:00  INFO 13324 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T10:35:40.868+07:00  INFO 13324 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T10:35:41.429+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:35:41.430+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:35:41.431+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:35:41.432+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:35:41.433+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:35:41.434+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:35:41.706+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:35:41.707+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:35:41.707+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:35:41.707+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:35:41.707+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:35:41.708+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:35:41.824+07:00  WARN 13324 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T10:35:42.584+07:00  INFO 13324 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T10:35:42.946+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000019715d98450@daaa5ec with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T10:35:43.035+07:00 DEBUG 13324 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T10:35:43.533+07:00  INFO 13324 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-09T10:35:43.669+07:00  INFO 13324 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T10:35:43.690+07:00  INFO 13324 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T10:35:43.711+07:00  INFO 13324 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 11.156 seconds (process running for 12.049)
2026-01-09T10:35:44.806+07:00  INFO 13324 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T10:35:44.806+07:00  INFO 13324 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T10:35:44.809+07:00  INFO 13324 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-09T10:36:16.170+07:00 DEBUG 13324 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:36:16.208+07:00 DEBUG 13324 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:36:16.223+07:00 DEBUG 13324 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:42:53.447+07:00  INFO 4036 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 4036 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T10:42:53.452+07:00  INFO 4036 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T10:42:53.561+07:00  INFO 4036 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T10:42:53.564+07:00  INFO 4036 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T10:42:58.526+07:00  INFO 4036 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:42:58.536+07:00  INFO 4036 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T10:42:59.029+07:00  INFO 4036 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 466 ms. Found 6 JPA repository interfaces.
2026-01-09T10:42:59.063+07:00  INFO 4036 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:42:59.066+07:00  INFO 4036 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T10:42:59.108+07:00  INFO 4036 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:42:59.109+07:00  INFO 4036 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:42:59.111+07:00  INFO 4036 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:42:59.113+07:00  INFO 4036 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:42:59.115+07:00  INFO 4036 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:42:59.118+07:00  INFO 4036 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:42:59.119+07:00  INFO 4036 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2026-01-09T10:43:02.303+07:00  INFO 4036 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T10:43:02.342+07:00  INFO 4036 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T10:43:02.344+07:00  INFO 4036 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T10:43:02.449+07:00  INFO 4036 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T10:43:02.451+07:00  INFO 4036 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8883 ms
2026-01-09T10:43:03.825+07:00  INFO 4036 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T10:43:04.036+07:00  INFO 4036 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T10:43:04.155+07:00  INFO 4036 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T10:43:04.943+07:00  INFO 4036 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T10:43:05.051+07:00  INFO 4036 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T10:43:05.657+07:00  INFO 4036 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47c3462b
2026-01-09T10:43:05.663+07:00  INFO 4036 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T10:43:05.746+07:00  WARN 4036 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T10:43:05.806+07:00  INFO 4036 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T10:43:08.450+07:00  INFO 4036 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T10:43:08.620+07:00  INFO 4036 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T10:43:09.721+07:00  INFO 4036 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T10:43:10.890+07:00  INFO 4036 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T10:43:12.004+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:43:12.005+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:43:12.007+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:43:12.010+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:43:12.012+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:43:12.014+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:43:12.557+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:43:12.571+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:43:12.574+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:43:12.576+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:43:12.577+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:43:12.578+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:43:12.885+07:00  WARN 4036 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T10:43:13.975+07:00  INFO 4036 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T10:43:14.548+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002ab81d9c9b0@1af4701f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T10:43:14.661+07:00 DEBUG 4036 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T10:43:15.267+07:00  WARN 4036 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T10:43:15.387+07:00  INFO 4036 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T10:43:15.404+07:00  INFO 4036 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T10:43:15.426+07:00  INFO 4036 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 23.519 seconds (process running for 24.952)
2026-01-09T10:43:16.575+07:00  INFO 4036 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T10:43:16.575+07:00  INFO 4036 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T10:43:16.577+07:00  INFO 4036 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T10:46:07.799+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:46:07.827+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:46:07.842+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:47:04.177+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:47:04.196+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:47:04.196+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:47:04.207+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:47:04.209+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:47:04.211+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T10:47:11.634+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:47:11.636+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:47:11.638+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:47:15.072+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:47:15.073+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:47:15.075+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:47:17.733+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:47:17.736+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:47:17.737+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:47:18.856+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:47:18.857+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:47:18.858+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:47:23.786+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:47:23.787+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:47:23.787+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:47:23.788+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:47:23.789+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:47:23.790+07:00 DEBUG 4036 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T10:47:49.858+07:00  INFO 19248 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19248 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T10:47:49.861+07:00  INFO 19248 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T10:47:49.922+07:00  INFO 19248 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T10:47:49.923+07:00  INFO 19248 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T10:47:51.719+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:47:51.723+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T10:47:51.963+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 224 ms. Found 6 JPA repository interfaces.
2026-01-09T10:47:51.983+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T10:47:51.984+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T10:47:52.009+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:47:52.010+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:47:52.011+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:47:52.013+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:47:52.015+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:47:52.017+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T10:47:52.019+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2026-01-09T10:47:53.034+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T10:47:53.053+07:00  INFO 19248 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T10:47:53.054+07:00  INFO 19248 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T10:47:53.126+07:00  INFO 19248 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T10:47:53.128+07:00  INFO 19248 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3204 ms
2026-01-09T10:47:53.592+07:00  INFO 19248 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T10:47:53.667+07:00  INFO 19248 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T10:47:53.729+07:00  INFO 19248 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T10:47:54.222+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T10:47:54.285+07:00  INFO 19248 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T10:47:54.860+07:00  INFO 19248 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b2c95f8
2026-01-09T10:47:54.865+07:00  INFO 19248 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T10:47:54.957+07:00  WARN 19248 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T10:47:54.999+07:00  INFO 19248 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T10:47:56.853+07:00  INFO 19248 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T10:47:57.012+07:00  INFO 19248 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T10:47:57.680+07:00  INFO 19248 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T10:47:58.525+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T10:47:59.384+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:47:59.386+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:47:59.388+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:47:59.389+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:47:59.391+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:47:59.392+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:47:59.746+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T10:47:59.747+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T10:47:59.747+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T10:47:59.747+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T10:47:59.748+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T10:47:59.748+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T10:47:59.964+07:00  WARN 19248 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T10:48:00.964+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T10:48:01.543+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a25d9e008@2ef8efb2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T10:48:01.692+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T10:48:02.407+07:00  WARN 19248 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T10:48:02.640+07:00  INFO 19248 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T10:48:02.662+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T10:48:02.691+07:00  INFO 19248 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 13.461 seconds (process running for 14.09)
2026-01-09T10:48:04.927+07:00  INFO 19248 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T10:48:04.928+07:00  INFO 19248 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T10:48:04.930+07:00  INFO 19248 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T10:49:04.603+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:49:04.640+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:49:04.651+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:49:38.646+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:49:38.660+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:49:38.661+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:49:38.675+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:49:38.677+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:49:38.679+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T10:52:28.644+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:52:28.667+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:52:28.678+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:52:40.300+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:52:40.306+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:52:40.309+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:52:40.314+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:52:40.315+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:52:40.317+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T10:57:45.529+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T10:57:45.571+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:57:45.577+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T10:57:52.695+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:57:52.700+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:57:52.702+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:57:52.710+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:57:52.723+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:57:52.730+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T10:59:30.676+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T10:59:30.679+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
2026-01-09T10:59:30.679+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2026-01-09T10:59:30.681+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T10:59:30.683+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T10:59:30.684+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T11:00:50.953+07:00  INFO 19248 --- [auth-server] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-09T11:00:51.219+07:00  INFO 19248 --- [auth-server] [Thread-1] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-09T11:00:51.257+07:00  INFO 19248 --- [auth-server] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-09T11:00:51.464+07:00  INFO 19248 --- [auth-server] [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T11:00:51.513+07:00  INFO 19248 --- [auth-server] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-09T11:00:51.542+07:00  INFO 19248 --- [auth-server] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-09T11:00:52.229+07:00  INFO 19248 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 19248 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T11:00:52.230+07:00  INFO 19248 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T11:00:53.214+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T11:00:53.216+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T11:00:53.260+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 6 JPA repository interfaces.
2026-01-09T11:00:53.265+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T11:00:53.266+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T11:00:53.274+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:00:53.275+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:00:53.276+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:00:53.277+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:00:53.278+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:00:53.280+07:00  INFO 19248 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:00:53.280+07:00  INFO 19248 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-01-09T11:00:53.478+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T11:00:53.480+07:00  INFO 19248 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T11:00:53.481+07:00  INFO 19248 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T11:00:53.512+07:00  INFO 19248 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T11:00:53.513+07:00  INFO 19248 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1269 ms
2026-01-09T11:00:53.594+07:00  INFO 19248 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T11:00:53.600+07:00  INFO 19248 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T11:00:53.620+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T11:00:53.623+07:00  INFO 19248 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-09T11:00:53.752+07:00  INFO 19248 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c910edc
2026-01-09T11:00:53.752+07:00  INFO 19248 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-09T11:00:53.758+07:00  WARN 19248 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T11:00:53.759+07:00  INFO 19248 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T11:00:54.088+07:00  INFO 19248 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T11:00:54.247+07:00  INFO 19248 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T11:00:54.395+07:00  INFO 19248 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T11:00:54.533+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T11:00:54.533+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T11:00:54.534+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T11:00:54.534+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T11:00:54.534+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T11:00:54.535+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T11:00:54.567+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T11:00:54.567+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T11:00:54.567+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T11:00:54.569+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T11:00:54.569+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T11:00:54.569+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T11:00:54.607+07:00  WARN 19248 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T11:00:54.719+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T11:00:54.759+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000021a25d9e008@feb09ca with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T11:00:54.795+07:00 DEBUG 19248 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T11:00:54.951+07:00  WARN 19248 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T11:00:55.030+07:00  INFO 19248 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
2026-01-09T11:00:55.038+07:00  INFO 19248 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T11:00:55.077+07:00  INFO 19248 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 2.933 seconds (process running for 786.475)
2026-01-09T11:00:55.081+07:00  INFO 19248 --- [auth-server] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-09T11:01:07.178+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T11:01:07.180+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T11:01:07.182+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T11:01:07.184+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:01:07.187+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:01:07.189+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:01:12.889+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:01:12.890+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:01:12.891+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:01:17.829+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T11:01:17.830+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:01:17.833+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T11:01:18.019+07:00  WARN 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.auth_server.dto.response.ApiSuccessResponse<java.util.Map<java.lang.String, java.lang.String>>> com.bookommerce.auth_server.controller.AuthController.login(com.bookommerce.auth_server.dto.request.LoginRequestDto,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse) with 3 errors: [Field error in object 'loginRequestDto' on field 'email': rejected value []; codes [NotBlank.loginRequestDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.email,email]; arguments []; default message [email]]; default message [1:Email must not be blank]] [Field error in object 'loginRequestDto' on field 'password': rejected value []; codes [Size.loginRequestDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.password,password]; arguments []; default message [password],2147483647,6]; default message [2:Password must be at least 6 characters long]] [Field error in object 'loginRequestDto' on field 'password': rejected value []; codes [NotBlank.loginRequestDto.password,NotBlank.password,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequestDto.password,password]; arguments []; default message [password]]; default message [1:Password must not be blank]] ]
2026-01-09T11:01:22.252+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T11:01:22.253+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:01:22.254+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T11:01:22.565+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T11:01:22.570+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@26a6288e]
2026-01-09T11:01:22.586+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:01:22.587+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T11:01:22.615+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:01:22.615+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T11:01:26.648+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=3cMBLw5I6hvCX0eSlE76FIDXyL1Ez9JOynMlCKX1LN8%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=4-auAhHfbp6lVFlpAxMnsSjAyroNJZympLNmWM06INo
2026-01-09T11:01:26.662+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:01:26.664+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:01:26.676+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:01:26.912+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.core.session.SessionRegistryImpl   : Registering session b97dde52-6575-4563-81ac-56db261ac96e, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T11:01:26.917+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=CNPTi8d_x3H_ZqWt1RrPwVvjf8WM9unfEy-YjSapF97CMivXEP4mj1mfqAbcCo8FqzfnahD45RZOFxbGv6-xs_pnbGlPfyxkrF3hANpsKwiq3OL35Kqpa57t0K_9-sQI&state=3cMBLw5I6hvCX0eSlE76FIDXyL1Ez9JOynMlCKX1LN8%3D
2026-01-09T11:01:26.919+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:01:26.920+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:01:26.936+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:01:26.936+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:01:27.238+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T11:01:27.739+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzMTI4Nywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NjcyODcsImlhdCI6MTc2NzkzMTI4NywianRpIjoiOTI3OGRmODgtZDc3OC00MzRmLWI4ZGUtYWZiNDc5OGM5ZDM0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.DGCvuqWDAx7LB-4RI9ZyI7e1kSbqzjvarmEl6ug4GJcRhLCfJdQmzxDiPai8tsjbRS1EUkbSqkCoTQVrD9iyxBPKNoBvjM1P190SIiR5YhFB6ay3CBbaFf_vQJWk7CrHKgFy6NjdaR9aUGZwNGJkm9OG0s0DWTYws3CtGuur_pxif5iC8AWYqCQfi0ZPLmx-paCLOFOJ60H-pVDqgUEiTgUHV0azikSFpTxgFrO8q095J1pmCniNRBAgoM5bkJXzeznG6pYU9BkCSraLANoQyDWYVKutfzvvSYOqryDWfR2LDktoGItS1x86nW4QYRSeaSies3hAmTDNK70G5vA9Xg
2026-01-09T11:01:27.740+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzMTI4NiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTMzMDg3LCJpYXQiOjE3Njc5MzEyODcsIm5vbmNlIjoiNC1hdUFoSGZicDZsVkZscEF4TW5zU2pBeXJvTkpaeW1wTE5tV00wNklObyIsImp0aSI6ImI4ODY4NmViLThmYTEtNGU3Ny1iMjE0LTVmYjM4MGEwYTg2NyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoicEVYU25ONXN0elRCZGlfYTVoRFBGTDVnSkdLNGhlSDhlT1F2ZzRWM1YtOCJ9.cyGAHIaiv4BihIfe8NkjuFTujdc8LsO85kXnB-3GJk-4HeedJ6ywySV5gMNmATeKgROaJ7Oy15i-dQ_PudbprbmvtOVkLVpIYdpqgu9XOGqE8hFXzF_8F8VTSVarV2Qe18xSgXfrBZEoTTIaKdp703CEwzh_Ca8STP-Av3QO97486HhaAR4a6HzlJmtZR4vA-CVNNEPnoPaEMz0d2siqFwYsrTaah4LUXYoD9UxVL6NGmYhSrDrTbb-3FAuWg26QSkGUS7bHCkYbNUrjlGhjIl2qcVumP2OA-4zEKWjvE2V-ZXewjE6PsBqwXeDcuedalZdnJsR-XnhdVxAmfIDCJA
2026-01-09T11:01:27.740+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: IOU4j5CpQX_r-tzP2BGthmXxK_O1XGNKw-q9gK5Cx_MxhTnzcsRNUfp_kb6FO-ILrg1GCjpyVYrdE83FIRH7kH2BNPBwyhTwKmex8Wouc4nox6uF0V55ZRRR_nxGFwr-
2026-01-09T11:01:28.049+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T11:01:28.093+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T11:01:28.116+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T11:01:28.120+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c45a9896, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T11:01:30.619+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:01:30.624+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:01:30.624+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:01:30.627+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:01:30.627+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T11:01:30.633+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:01:30.633+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:01:30.641+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:01:30.641+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:03:06.710+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:03:06.713+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:03:06.714+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:03:06.723+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:03:06.723+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T11:03:06.733+07:00 TRACE 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [b97dde52-6575-4563-81ac-56db261ac96e], value class [java.lang.String], SQL type unknown
2026-01-09T11:03:06.742+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:03:06.742+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id b97dde52-6575-4563-81ac-56db261ac96e
2026-01-09T11:03:06.758+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3889f257, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T11:03:06.759+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@eeb1c7a, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T11:03:06.759+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@6142e152
2026-01-09T11:03:14.801+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:03:14.805+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:03:14.805+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:03:14.807+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:03:14.807+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id b97dde52-6575-4563-81ac-56db261ac96e
2026-01-09T11:03:14.810+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3889f257, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T11:03:14.810+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@eeb1c7a, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T11:03:14.811+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@6142e152
2026-01-09T11:04:15.534+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:04:15.536+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:15.536+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:15.542+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:04:15.542+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id b97dde52-6575-4563-81ac-56db261ac96e
2026-01-09T11:04:15.544+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:04:20.532+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:04:20.533+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:20.534+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:20.537+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:04:20.537+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id b97dde52-6575-4563-81ac-56db261ac96e
2026-01-09T11:04:20.538+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:04:26.138+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T11:04:26.141+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:26.141+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:26.144+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:04:26.145+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id b97dde52-6575-4563-81ac-56db261ac96e
2026-01-09T11:04:26.145+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T11:04:26.247+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T11:04:26.248+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@5cba892f]
2026-01-09T11:04:26.251+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:04:26.251+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T11:04:26.253+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:04:26.254+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T11:04:26.266+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:26.266+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:27.343+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=XS3skWEs9D2MO-blIXgn6LIaRT2Lkm5oVeCWSzR0c1g%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=zE9y9p6sg8b88SvsOKnBDsF-j3T-1N51TFuMjGdKkA8
2026-01-09T11:04:27.346+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:27.348+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:27.353+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:04:27.374+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session 16f7b130-9f50-4fe6-bcfd-c22831e3805e, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T11:04:27.374+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=5Vyp6jd-9t8_WPwNsdJoR5zjEpGsRuNCPVvS-yPat8CuVypwPYW-lWAYDRRVr6m0ICE9LFDPCyuzdPns9WJBVyeJgKqgXc7DdG2rUM1JT1dmrXEGq9PgsL5D3e4tQOX6&state=XS3skWEs9D2MO-blIXgn6LIaRT2Lkm5oVeCWSzR0c1g%3D
2026-01-09T11:04:27.375+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:04:27.376+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:04:27.384+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:27.385+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:27.418+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T11:04:27.798+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzMTQ2Nywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0Njc0NjcsImlhdCI6MTc2NzkzMTQ2NywianRpIjoiM2U1MjBiZWYtZDIwZS00YjY5LTg4ZGUtYTdmZDc2MjVlZjRhIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.M2LsxTcMzX3enhkXus1YYyFcAhk8EgiqMEA4SouYOvcbcnn0BUMes5Z6axaYa0SHX7pbSWgIDv-Pf5PrIL4j16TjGipmhbtL-oCIRisa7tm6UJ6TeGVoVDmeaE6Dxwc1jtS1G517t_q5t4bMmh7e5dM5ZXxQOnpdZieWvYVRNjepzESDiNvG7aSkMKR6RfNntIm4m0ghXq2_ffxk65hut2bRQFJwcl41SOW8SJ3hxW0LHf1Dqq-T5rftALJ0eZrBPqXRPeySX2-9YCbBp_cpvJogUoVGlkPyHVuo4fAv1F9t91uA9OdF3x-0xoi7NVzN5nrQk2GFe0PfCyahknhPKQ
2026-01-09T11:04:27.799+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzMTQ2NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTMzMjY3LCJpYXQiOjE3Njc5MzE0NjcsIm5vbmNlIjoiekU5eTlwNnNnOGI4OFN2c09LbkJEc0YtajNULTFONTFURnVNakdkS2tBOCIsImp0aSI6IjcyNjM0NzYzLWZhM2MtNDQ3ZS1iY2Q1LTU2N2E5NzExNzYzYyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiczYycndEV1pPVGlUZkp5TlRoYWRVcEl1N1VBdTk1NE1yNW5RZ1NPeGdlVSJ9.Mt48WPZQyeE3NAvkOl4CsqsYrG3yoGsc70iPTyGq3TJ_SneTQ4gnLuaTcmyZ_Yjq50RVHavujXjpuovwYgV_OuLj30qTAY0BZ9jeYalkxOtOHtk9T3gehG6qPiIDfUJzP_QyCuJWThZxW5HPtcVre8RsJb0WEtPFn0mM-W4q9MyWzQBf0NelEhyzGZEm3kGr0w28wE1YZOXC3OuaZ3GOXOgwCkG7Oje73h9P7ZM4vG2zZ0BzO279UXw24C7KYMipuWQaYWjRG5MhHtJb0nepBpZNd288hhODO_UUcz3-aqU7KtOlvaD71e2pD_M1EOQ8iNLSvr5cfKX08rk9xlmLzA
2026-01-09T11:04:27.799+07:00  INFO 19248 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: HyQA7Mg7cE7YCySH-L7hk6tDPhTuShzBWI4YDWW82ywcIsMgedSIk8KqBl8SsSX0SQ7qDIvIFh2lg_ovIojGA5qY1yLGtSEZ9eHjvmTEj726oI0OJ0NBgORnK-7x3bra
2026-01-09T11:04:27.807+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T11:04:27.810+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T11:04:27.811+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7c7d1bfc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T11:04:28.289+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:04:28.293+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:28.293+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:04:28.298+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:04:28.298+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T11:04:28.305+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:04:28.306+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:04:28.319+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:04:28.319+07:00 DEBUG 19248 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:14:46.941+07:00  INFO 14344 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 14344 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T11:14:46.955+07:00  INFO 14344 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T11:14:47.160+07:00  INFO 14344 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T11:14:47.162+07:00  INFO 14344 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T11:14:53.433+07:00  INFO 14344 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T11:14:53.437+07:00  INFO 14344 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T11:14:54.319+07:00  INFO 14344 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 854 ms. Found 6 JPA repository interfaces.
2026-01-09T11:14:54.405+07:00  INFO 14344 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T11:14:54.416+07:00  INFO 14344 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T11:14:54.477+07:00  INFO 14344 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:14:54.487+07:00  INFO 14344 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:14:54.504+07:00  INFO 14344 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:14:54.523+07:00  INFO 14344 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:14:54.530+07:00  INFO 14344 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:14:54.531+07:00  INFO 14344 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:14:54.533+07:00  INFO 14344 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2026-01-09T11:14:58.485+07:00  INFO 14344 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T11:14:58.577+07:00  INFO 14344 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T11:14:58.595+07:00  INFO 14344 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T11:14:58.859+07:00  INFO 14344 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T11:14:58.954+07:00  INFO 14344 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11791 ms
2026-01-09T11:15:01.106+07:00  INFO 14344 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T11:15:01.647+07:00  INFO 14344 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T11:15:01.824+07:00  INFO 14344 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T11:15:02.766+07:00  INFO 14344 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T11:15:02.852+07:00  INFO 14344 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T11:15:04.158+07:00  INFO 14344 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@64ad4c28
2026-01-09T11:15:04.180+07:00  INFO 14344 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T11:15:04.347+07:00  WARN 14344 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T11:15:04.446+07:00  INFO 14344 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T11:15:07.376+07:00  INFO 14344 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T11:15:07.606+07:00  INFO 14344 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T11:15:09.303+07:00  INFO 14344 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T11:15:10.280+07:00  INFO 14344 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T11:15:12.483+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T11:15:12.492+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T11:15:12.500+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T11:15:12.511+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T11:15:12.561+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T11:15:12.579+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T11:15:13.319+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T11:15:13.322+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T11:15:13.323+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T11:15:13.328+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T11:15:13.329+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T11:15:13.330+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T11:15:13.604+07:00  WARN 14344 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T11:15:14.942+07:00  INFO 14344 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T11:15:15.470+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000026b1eda6620@774528e8 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T11:15:15.630+07:00 DEBUG 14344 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T11:15:16.438+07:00  WARN 14344 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T11:15:16.623+07:00  INFO 14344 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T11:15:16.644+07:00  INFO 14344 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T11:15:16.663+07:00  INFO 14344 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 31.22 seconds (process running for 33.341)
2026-01-09T11:15:17.380+07:00  INFO 14344 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T11:15:17.382+07:00  INFO 14344 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T11:15:17.384+07:00  INFO 14344 --- [auth-server] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T11:16:11.026+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:16:11.080+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:16:11.103+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:17:14.045+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /page/signup
2026-01-09T11:17:14.049+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:17:14.054+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /page/signup
2026-01-09T11:17:18.617+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:17:18.621+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:17:18.624+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:17:20.765+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /page/signup
2026-01-09T11:17:20.767+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:17:20.769+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /page/signup
2026-01-09T11:17:30.036+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2026-01-09T11:17:30.094+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:17:30.096+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2026-01-09T11:17:34.664+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:17:34.668+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:17:34.672+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:18:03.817+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T11:18:03.820+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:18:03.822+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T11:18:04.395+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T11:18:04.407+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=vanh2k3@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@28a1afa6]
2026-01-09T11:18:04.456+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:18:04.459+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T11:18:04.477+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:18:04.477+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T11:18:06.700+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=sQIlRI6vQM5F8kic016-IPBEYW4ePiTtcXASp-0rmY8%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=nGXJAME3o7C0Uc8MUgjHdrk2daSqz-tNntv5TGjeOPE
2026-01-09T11:18:06.730+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:06.741+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:06.764+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=vanh2k3@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:18:07.107+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session 1082fa52-4bc5-4df6-96ed-1d4d72492073, for principal org.springframework.security.core.userdetails.User [Username=vanh2k3@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T11:18:07.110+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=k4IQR45iabUcs-XuWK6YoOIfPa_gNkdS-mCzWPLqJMz7mnbJwaq4Db41vNyW02rIJZgzjOKA9_4n5l6Oel7L0OcX1rMv7yrslHE93IP1ir7adJfR2wFkyv3pNiVAeqCo&state=sQIlRI6vQM5F8kic016-IPBEYW4ePiTtcXASp-0rmY8%3D
2026-01-09T11:18:07.111+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:18:07.111+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:18:07.140+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:07.142+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:07.524+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T11:18:08.778+07:00  INFO 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ2YW5oMmszQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzMjI4OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NjgyODgsImlhdCI6MTc2NzkzMjI4OCwianRpIjoiOTdjOThiZDYtMzViZC00MWE4LTk1MzQtNTQyNmNlNGM1YTJjIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.VtRHW1TGYInozx1R_84ncAyeOGGL40ci3L9vFPxq7gm1FIWxm5WsOebve4hjWvVx2ynjb_quT1c3TFnRMxf4uqqydiZqIUWEgft-s4w0CNPfLIU3MoCHZ11cKWCrHMlKY_GDDgJSRFiGbgch6pN6V_b_v_PWDEywrIbpgIILX8XkIrBKfe3329eicZhR-FB6fTyvHAxv_Wbe3DGUx4GGWyEx8w_AisnCcvMejICSiL3jRnDrOMnnx5m1I-GDxcvEGDyoaEoNJGAdgZFE7diGv4hSwAjI_amXOWgNLTF9tRpVGiqhWvdhZPh5wQ6nyMSfVKkOkJSaiBv3EtiXGc3bbA
2026-01-09T11:18:08.780+07:00  INFO 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ2YW5oMmszQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzMjI4NywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM0MDg4LCJpYXQiOjE3Njc5MzIyODgsIm5vbmNlIjoibkdYSkFNRTNvN0MwVWM4TVVnakhkcmsyZGFTcXotdE5udHY1VEdqZU9QRSIsImp0aSI6IjFkZTQxNmIxLWI1ZWQtNDMxNC1iOTZlLTY5N2ZkN2FjZjU4YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiNnpqRWhoZjNfVlEtS0NqQWlWb203UlU5Z1ZDX2tBSkVNRUVHLVpoS21qYyJ9.e2FA081zqH4k2esDkuwQh_gdL_nYBzKjsGJm6u7adTi2u-tZVgqKr_jjTkhhkORox_HjR8Iv0AoE_dmmI4esh0_j5nZbipgZ4GS_RBw4IZRW8RY1FtDjdppY1UbhY5XWAXIo9u7jiuy_nPBNdPLf_FZBXxwcwJdIN5Mhh9Hd1CmNaGq9TSM7G2TOwaV2rKx32JErxHStP0cLQ1IYj9Kl_48FiSqlHPyPlh6JGDWRqUSNSDnTxAiqrnk6NcUlcWH6CDyx8FsK2q_zo3Tl_3YqoAijN_BtnuV8jd-wuuLUenbXUBaHxgHni2G5zCx7KH94UxhylflBHUiw7h4-iAI00A
2026-01-09T11:18:08.780+07:00  INFO 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: xdY5Gf4Ovgu2KM8IBb5W8LX-Ke4XXa5xi5vpYRa7j-B4yLGe7XnElzEqo0-9bq0xOWczcOvEHO94djb6Co6iUHX0m105vdBn8GNCDM1fc9czCRIYIFVUbO2vFjh_WgQc
2026-01-09T11:18:09.204+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T11:18:09.296+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T11:18:09.336+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T11:18:09.340+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@60b04002, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T11:18:10.550+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:18:10.558+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:10.560+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:10.568+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=vanh2k3@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:18:10.568+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T11:18:10.580+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:18:10.582+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:18:10.613+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:10.614+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:18.318+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:18:18.327+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:18.327+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:18.347+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:18:18.352+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=vanh2k3@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:18:18.357+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:18:18.357+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:18:18.375+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:18.380+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:19.086+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:18:19.090+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:19.090+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:18:19.105+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=vanh2k3@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:18:19.112+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T11:18:19.120+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:18:19.122+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:18:19.138+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:18:19.139+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:19:20.768+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:19:20.773+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:19:20.775+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:19:23.168+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /page/store-login
2026-01-09T11:19:23.170+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:19:23.172+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /page/store-login
2026-01-09T11:19:28.444+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login/store
2026-01-09T11:19:28.444+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:19:28.450+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login/store
2026-01-09T11:19:28.727+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T11:19:28.730+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@208f0e47]
2026-01-09T11:19:28.734+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:19:28.734+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T11:19:28.740+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:19:28.740+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T11:19:29.865+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=_snSGFD7IfqnNs_nXf40Xm-EuNmegbpCuZwc44kf5YU%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=wH7h6hcMdILrNvLrfd9oIRfWEj3dS1TeXVTSc0gid3E
2026-01-09T11:19:29.871+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:19:29.873+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:19:29.883+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T11:19:29.944+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.core.session.SessionRegistryImpl   : Registering session 5c8769e1-9156-49a8-9861-e58e1f66a638, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-09T11:19:29.945+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=BbrwMf-kmFJUPgFpboPcyf9oeoLm7UJ0NJUP3npCM61LbpvcpWVfxTu7UbK36g-wycLAw6MdRPQEESrJcrlrbpneKjgeastswzi9oc19R3zsS5m2etZKV8D9N9oV-vMa&state=_snSGFD7IfqnNs_nXf40Xm-EuNmegbpCuZwc44kf5YU%3D
2026-01-09T11:19:29.950+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:19:29.950+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:19:29.963+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:19:29.963+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:19:30.037+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T11:19:31.094+07:00  INFO 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzMjM3MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NjgzNzEsImlhdCI6MTc2NzkzMjM3MSwianRpIjoiMTRiNWM5YjYtMDUzMS00Y2I2LWJmZjYtNzNhYjRhNWE5N2ZmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.l52_8a_7Nby4Pstb-XRc79LkdyE4F_yK5oC0PMRrXuvMDKWiOslyZjYOqwatCp_3bkgPhHPdth3vJ8AYvN-TO7jZIWQQLyWuWyEdbjTlUNIVJ55Subeyb4WW_6EEodlXVbpr9Bq4x_uIppEKtmhUAGPJgXUeJ_YZ9hAFi7qlb8VDvyyUn5S8WWWPgtjfijp_50hskGU2V5iYUzU_obp3-46XsboBpiI2N83J7V28CKLNPb7oDH1s8Bik1bIxW9pWl6FJB7gpbgtxdaXe3N2_NVIgt3XquCI9Ugp9LJOu3F68xNu4dsSYrVYpqmxj80D0Smqk3oWR3Gakv1wwhSY6zw
2026-01-09T11:19:31.100+07:00  INFO 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzMjM2OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM0MTcxLCJpYXQiOjE3Njc5MzIzNzEsIm5vbmNlIjoid0g3aDZoY01kSUxyTnZMcmZkOW9JUmZXRWozZFMxVGVYVlRTYzBnaWQzRSIsImp0aSI6IjczNWYxZGJiLThmYTUtNDYwMi05ZjFhLWZlNDdmNTRhMzNlNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6Ik1nZ2Y1TGQtQ2N6YmtCNGRsM0hoQU1lSWZkMXdDLUE5VFUtaHBqRklNTWcifQ.E_UfJfuY0Gf-4PB8ZsW4Mbm24Ib3Sh328ASaKehNfzzDIDm-e3lNYdqv3oHz-Ouqtk1SZKR0-OFo44t_QzL5bHapIpV-6goLEmj_AOIjkFyoU8kxZqXuoepz9UZUHZQGNLwlUCWNmDqB21BWhjIK5WVXJRnhZVEX_0FJEXNT0jwi2AiqCDLPz0bcNl6gFBJufjMtgUV3kfUK-h1JH-cQQ9HEMgfs3h-Zk3_nYwrt9T-21MP8SVjov1gZEZHowW9vFQk5ZAck2Hu-KpiIaxKSYA2n514zlA3pPhiqr9v5Ax1FttHHq6MrmkP7YDcjiOr-rIhyR_0zCAybUBKyp9asxA
2026-01-09T11:19:31.100+07:00  INFO 14344 --- [auth-server] [https-jsse-nio-8282-exec-5] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 0BJ4cSDafr3RsLbicIJjlxXOm1SYcN4_QeqDtnHwtATqtH-pcF_5oiv6mUscBFjNQVGXJ8SceIaAwtXtPSW3-E3BLDTKUoSjA7Jg5p3JXM-R83iP8mTTU3QvyELD0UDx
2026-01-09T11:19:31.139+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T11:19:31.155+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T11:19:31.157+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-6] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@cc6a461f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T11:19:35.349+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:19:35.354+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:19:35.354+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:19:35.362+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T11:19:35.365+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T11:19:35.372+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:19:35.373+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:19:35.387+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:19:35.387+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:19:42.669+07:00 DEBUG 14344 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T11:52:16.396+07:00  INFO 17232 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Starting AuthServerApplication using Java 21.0.3 with PID 17232 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
2026-01-09T11:52:16.417+07:00  INFO 17232 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : No active profile set, falling back to 1 default profile: "default"
2026-01-09T11:52:16.643+07:00  INFO 17232 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-09T11:52:16.658+07:00  INFO 17232 --- [auth-server] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-09T11:52:22.988+07:00  INFO 17232 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T11:52:22.999+07:00  INFO 17232 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-09T11:52:23.856+07:00  INFO 17232 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 825 ms. Found 6 JPA repository interfaces.
2026-01-09T11:52:23.972+07:00  INFO 17232 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-09T11:52:23.978+07:00  INFO 17232 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-09T11:52:24.077+07:00  INFO 17232 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:52:24.094+07:00  INFO 17232 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:52:24.128+07:00  INFO 17232 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:52:24.163+07:00  INFO 17232 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:52:24.182+07:00  INFO 17232 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:52:24.206+07:00  INFO 17232 --- [auth-server] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2026-01-09T11:52:24.222+07:00  INFO 17232 --- [auth-server] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 179 ms. Found 0 Redis repository interfaces.
2026-01-09T11:52:28.660+07:00  INFO 17232 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8282 (https)
2026-01-09T11:52:28.861+07:00  INFO 17232 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T11:52:28.883+07:00  INFO 17232 --- [auth-server] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-09T11:52:29.032+07:00  INFO 17232 --- [auth-server] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T11:52:29.034+07:00  INFO 17232 --- [auth-server] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 12357 ms
2026-01-09T11:52:30.432+07:00  INFO 17232 --- [auth-server] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-09T11:52:30.572+07:00  INFO 17232 --- [auth-server] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.39.Final
2026-01-09T11:52:30.702+07:00  INFO 17232 --- [auth-server] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-09T11:52:31.531+07:00  INFO 17232 --- [auth-server] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-09T11:52:31.612+07:00  INFO 17232 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T11:52:32.630+07:00  INFO 17232 --- [auth-server] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f36e8e8
2026-01-09T11:52:32.638+07:00  INFO 17232 --- [auth-server] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T11:52:32.773+07:00  WARN 17232 --- [auth-server] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-09T11:52:32.875+07:00  INFO 17232 --- [auth-server] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-09T11:52:36.465+07:00  INFO 17232 --- [auth-server] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-09T11:52:36.642+07:00  INFO 17232 --- [auth-server] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-09T11:52:37.944+07:00  INFO 17232 --- [auth-server] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
2026-01-09T11:52:39.325+07:00  INFO 17232 --- [auth-server] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-09T11:52:41.765+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T11:52:41.769+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T11:52:41.772+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T11:52:41.776+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T11:52:41.779+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T11:52:41.780+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T11:52:42.287+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2026-01-09T11:52:42.295+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2026-01-09T11:52:42.296+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2026-01-09T11:52:42.298+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2026-01-09T11:52:42.299+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
2026-01-09T11:52:42.300+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2026-01-09T11:52:43.055+07:00  WARN 17232 --- [auth-server] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-09T11:52:44.784+07:00  INFO 17232 --- [auth-server] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-09T11:52:45.724+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001d7bbda6200@53347a2d with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2026-01-09T11:52:45.900+07:00 DEBUG 17232 --- [auth-server] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T11:52:46.613+07:00  WARN 17232 --- [auth-server] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2026-01-09T11:52:46.794+07:00  INFO 17232 --- [auth-server] [restartedMain] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
2026-01-09T11:52:46.833+07:00  INFO 17232 --- [auth-server] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8282 (https) with context path '/'
2026-01-09T11:52:46.874+07:00  INFO 17232 --- [auth-server] [restartedMain] c.b.auth_server.AuthServerApplication    : Started AuthServerApplication in 32.246 seconds (process running for 34.801)
2026-01-09T11:52:49.098+07:00  INFO 17232 --- [auth-server] [RMI TCP Connection(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T11:52:49.098+07:00  INFO 17232 --- [auth-server] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T11:52:49.101+07:00  INFO 17232 --- [auth-server] [RMI TCP Connection(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-09T11:54:56.789+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T11:54:56.843+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:54:56.863+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T11:55:07.831+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T11:55:07.889+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:55:07.890+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T11:55:09.117+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T11:55:09.134+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@221c5b4e]
2026-01-09T11:55:09.227+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:55:09.230+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T11:55:09.240+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:55:09.247+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T11:55:11.525+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=7ROMY_7QkeIBeFrzCmrjSCtACdfIHxRwpw-3lZNvqxs%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=E2FomX0luUw826P7cp_WhBWPLVYp-GjNHJ3EehCH0NQ
2026-01-09T11:55:11.551+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:55:11.557+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:55:11.588+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:55:12.020+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session cc11db78-8796-4e7c-ae17-79d90d973d3c, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T11:55:12.024+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=TFDRoE0uNepU742xAo_gdUa_86TvzIHYQf4L7Zat9OL1rKFVgUlEzLo5ufQhAxQHIaveGRYDQ3x91uFFDADLkELP_qs4Rd3XCNxfESWfPbEykMKwHkJIZXgmUaHQoI1-&state=7ROMY_7QkeIBeFrzCmrjSCtACdfIHxRwpw-3lZNvqxs%3D
2026-01-09T11:55:12.029+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:55:12.031+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:55:12.057+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:55:12.057+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:55:12.527+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T11:55:13.894+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzNDUxMywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NzA1MTMsImlhdCI6MTc2NzkzNDUxMywianRpIjoiMWU4N2VkZWYtNzI3YS00MGEwLTk0ZjItNjBiYTgwYmU5ZGNjIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.kfDcnCetjS4Vo2xQBxeoisAZKMAG0mp1upaStQ3ioHgDKKEhG6zpw1wpXWwEzSy3BnfowLaghd2tC2QtMM6WP2DPaZXGLSx7pa4-Q0O2Mx5rOA_voc6ZZU3T53lDgEwyHFCrOYRJMjGWuIK69778vWG83gomsuJZWvAX8Ln1982fWmMxy77vWUYuhJq4vkDIpgn5pbQ8VYia4pcf8xb11LEMekQDPvvdpQcpWNaqfwo8hcjvo0YSA9zJn9u9MWlMJVWII9NGgQNMxtThgvitDQJ6g3Np9Sj8MaHerS9lQBPjnsoU99JNlnVOoZKZnzQC0346BVAQ_gsMYquWbrWXoA
2026-01-09T11:55:13.897+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNDUxMiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM2MzEzLCJpYXQiOjE3Njc5MzQ1MTMsIm5vbmNlIjoiRTJGb21YMGx1VXc4MjZQN2NwX1doQldQTFZZcC1Hak5ISjNFZWhDSDBOUSIsImp0aSI6ImJiZWZiYWQwLTNkYjktNDk0ZS05NTI3LTA1NDVjNGMzMTJlYiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiUlRvbDNoOGJHUnBqc2ZoR2ExbzU2WlVPTzVfV2JOdkZDX1BlNjFKVG1xbyJ9.AZu0y66tglgNEJf2r1cvaWzZAxSk8b_ZI3XcqL368oUtUodyzILr-K_y6kdgR83wtmGQ6M4MgM_1qAb0UcY0BKIuZIbPdic4eZsFWl60O-kR9Mj5Sw1JVTVrk6D6SO084uBq_ffFH2lfz5jOXLwGMRCL1HjnT5a0MA3uSFLncsyy7gt5hWwla46sfYXBY2pUjeTlIqmpE6hT-FeKMI5FObh7hLvw9BAG5DWn0i-OfhnYMljH2nu42GcXTk0lkSqv10Xnm-YaG8IiMrMfTggx3khUrHLhJng545g948WhOxLYbKz7MWllL89VNxSn3nvwEqpvs-jSRPHKtxchqBABcw
2026-01-09T11:55:13.898+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 1Cu5bhK5CU00cI_QmMgfFecYs38x5xBn-zli8zZhvy3tF3owjSjDxYLoaBz3bQYmu3P6HLWQM7cD4KbmErdSbgAFf__CLUbpwIQflrFvB2nRn_ippFwEj6H1CCaT_YdW
2026-01-09T11:55:14.364+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T11:55:14.449+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T11:55:14.503+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T11:55:14.506+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@13244da2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T11:55:18.748+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:55:18.759+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:55:18.760+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:55:18.770+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:55:18.772+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T11:55:18.786+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:55:18.788+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T11:55:18.805+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:55:18.807+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:56:16.798+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNDUxMiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM2MzEzLCJpYXQiOjE3Njc5MzQ1MTMsIm5vbmNlIjoiRTJGb21YMGx1VXc4MjZQN2NwX1doQldQTFZZcC1Hak5ISjNFZWhDSDBOUSIsImp0aSI6ImJiZWZiYWQwLTNkYjktNDk0ZS05NTI3LTA1NDVjNGMzMTJlYiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiUlRvbDNoOGJHUnBqc2ZoR2ExbzU2WlVPTzVfV2JOdkZDX1BlNjFKVG1xbyJ9.AZu0y66tglgNEJf2r1cvaWzZAxSk8b_ZI3XcqL368oUtUodyzILr-K_y6kdgR83wtmGQ6M4MgM_1qAb0UcY0BKIuZIbPdic4eZsFWl60O-kR9Mj5Sw1JVTVrk6D6SO084uBq_ffFH2lfz5jOXLwGMRCL1HjnT5a0MA3uSFLncsyy7gt5hWwla46sfYXBY2pUjeTlIqmpE6hT-FeKMI5FObh7hLvw9BAG5DWn0i-OfhnYMljH2nu42GcXTk0lkSqv10Xnm-YaG8IiMrMfTggx3khUrHLhJng545g948WhOxLYbKz7MWllL89VNxSn3nvwEqpvs-jSRPHKtxchqBABcw&post_logout_redirect_uri=https://app.bookommerce.com:8080
2026-01-09T11:56:16.863+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:56:16.863+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:56:16.899+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T11:56:17.226+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T11:56:17.226+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T11:56:17.258+07:00 TRACE 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [cc11db78-8796-4e7c-ae17-79d90d973d3c], value class [java.lang.String], SQL type unknown
2026-01-09T11:56:17.275+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session cc11db78-8796-4e7c-ae17-79d90d973d3c
2026-01-09T11:56:17.284+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T11:56:17.284+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T11:56:17.291+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://app.bookommerce.com:8080
2026-01-09T11:56:18.086+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T11:56:18.092+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T11:56:18.135+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T11:56:18.139+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T11:56:18.139+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:00:46.965+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:00:46.998+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:00:47.012+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:00:47.015+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:00:47.015+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:00:49.956+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:00:49.961+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:00:49.964+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:00:49.965+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:00:49.965+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:02:52.501+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:02:52.510+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:02:52.510+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:02:52.515+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:02:52.516+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:04:46.869+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T12:04:46.875+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:04:46.879+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T12:04:49.660+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:04:49.670+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:04:49.686+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:04:49.693+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:04:49.696+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:04:53.487+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T12:04:53.491+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:04:53.494+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T12:04:55.824+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:04:55.831+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:04:55.839+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:04:55.840+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:04:55.840+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:05:09.145+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=72ZG0QQeUbveZNgwb343vOWYzbLX7-4oCWnJFan-2Qg%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=q5MHIGmVntbSvWlHMHrtBxnBx5r5CfDSY4ufVbG1V4g
2026-01-09T12:05:09.320+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:05:09.358+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=72ZG0QQeUbveZNgwb343vOWYzbLX7-4oCWnJFan-2Qg%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=q5MHIGmVntbSvWlHMHrtBxnBx5r5CfDSY4ufVbG1V4g&continue to session
2026-01-09T12:05:09.405+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-09T12:05:09.413+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:09.413+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T12:05:09.426+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:09.428+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T12:05:09.597+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T12:05:09.601+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:09.602+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:09.616+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:05:09.620+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T12:05:09.754+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:09.754+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:05:09.820+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:09.820+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:24.574+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2026-01-09T12:05:24.612+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:24.614+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:24.625+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=722886029697-prvrbn20cvrv7l5mgqviu5a35rjrco1p.apps.googleusercontent.com&scope=openid%20profile%20email%20address%20phone&state=OpYHlOqAOODT_bnOOY_f633Euu8C3DiOun0XL3N2dLQ%3D&redirect_uri=https://auth.bookommerce.com:8282/login/oauth2/code/google&nonce=kJb3hKbSfM88Sh-1WoshXXFNkgr8x7KgCfJ0mwjlGco
2026-01-09T12:05:24.629+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:24.633+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:05:24.638+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:24.639+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T12:05:24.678+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:24.678+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:39.677+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T12:05:39.692+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:39.693+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:39.705+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:05:39.706+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T12:05:39.956+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T12:05:39.956+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6529c2ff]
2026-01-09T12:05:39.969+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:39.972+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:05:39.978+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:39.978+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T12:05:40.000+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:40.000+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:41.117+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=GwZOPgw_pyf9rVFMLoPm07yoIWLg4ZxZeA2QNdVrnps%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=sjyOc3LNugilawpuIUyLK_KpVo_lO74qenruhLzxzPc
2026-01-09T12:05:41.125+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:41.127+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:41.138+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T12:05:41.215+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.core.session.SessionRegistryImpl   : Registering session bfa69c09-681c-4ec0-9dce-8a2d7dde8c90, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
2026-01-09T12:05:41.218+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=OTjURQKIq5MNtFVabIq4KMdorYE0AJmgRnhNEGoaSHY5fWnKt4Cm-T7BxyQlQCobK_eMxZ0_riY6ExkSRY3JvJveduRT2AfqATg9V5EGduT0QOgKlZgfVtfAZVorX7Xc&state=GwZOPgw_pyf9rVFMLoPm07yoIWLg4ZxZeA2QNdVrnps%3D
2026-01-09T12:05:41.219+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:41.222+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:05:41.239+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:41.239+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:41.343+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T12:05:42.389+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzNTE0Miwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NzExNDIsImlhdCI6MTc2NzkzNTE0MiwianRpIjoiMTcwZTNmNzAtMWE4MC00YzY3LWI3NTktNmVjOTNiMTVmZTRiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.Bgfp-kXqEzNACEENKhAZEFQ2bMbYQ99supS_0GJpNlwb1N6R4mVElkuJe_mAcZA2ZdgklnnQByd_PPHIYijOnXW49Oq-PQJ6Baqzeq-oETTIzi63AWumfDG7bamGjUznZdjPoPTLqbT3ULccSD8TPdBUB0zqA5dgO7mViCXn8tJgM7Ha-NdF-lxM8EY0GGJ0mqbNQHYOkyS7hQ_41SvAtkRexvhLOU0hYuQG-ebFfpSm4Eahu18blP_tkZALhyg9qlyhZddOGl1yJNCwQ4jMqcnDTp6Sok_u_zyBf8FCZ-eMs2qIka49RazklMom9-7L48kpgUwmmZDD5cazHVsbjw
2026-01-09T12:05:42.389+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNTE0MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM2OTQyLCJpYXQiOjE3Njc5MzUxNDIsIm5vbmNlIjoic2p5T2MzTE51Z2lsYXdwdUlVeUxLX0twVm9fbE83NHFlbnJ1aEx6eHpQYyIsImp0aSI6ImYyYjY4MWE5LTE4NTMtNGZlMC05ZTM2LWIzNWRmMzNlZGVjMCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiWUpNZDB2VzFyNDBGQ3Iza0tkTXFWVVB6YTJDX3lib2Q4aFlrdUprMjh5ayJ9.SeYMy-1gk8vdVMTEad6bwevfdGd75J42G5-ew7dGSNMurX_mDDOZeGx6-fkli7GElIXUpbvy8l6-wJLlLVA5NcKJanPa4StVU22k9PAP8eaDyOOVMjAC-lp4nBo2IAKgui5hdgJnwFlsaqKfAkfe3HRKphrMcZD7lAatZjD4hEzp9pRszNyt6lucGpgBjynwe_fUETg7T7ZPy8b5DGKUe7vfRmjnqbB4I88wbFcTWLMP0iHHyqm5I0m7TxnhE8nCkVQcWwmeZ_B1epJ5ahWqLVSwIAKRO9lDOmC8CMiae_2a6ssMtHTrwJ3rCAtZpQ5qYTnu0cLSz9oBgL2kAvqTQg
2026-01-09T12:05:42.389+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: G8nJJ0MXiH7ZbtmoU7OhzoZ8ZJ_1da8EycMizeTqqQC6qDF7HLGhw0oakowGimoy7K5N8JyqT_Y5RPepCSU7sFXuwkh4GuQ6n6EkWq5-llYunxGpjA6Ob2XBUx2FGaY7
2026-01-09T12:05:42.412+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2026-01-09T12:05:42.431+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T12:05:42.445+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T12:05:42.448+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4e6f6192, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T12:05:43.222+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:05:43.228+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:43.228+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:05:43.238+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T12:05:43.239+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T12:05:43.253+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:05:43.254+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:05:43.268+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:05:43.270+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:06:16.130+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:42.622+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:46.621+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:47.706+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:50.854+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:54.200+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:55.861+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:57.505+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:06:59.519+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:01.085+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:03.003+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:09.151+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:22.943+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:24.088+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:29.496+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:30.526+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:41.675+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:07:52.136+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:00.794+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:02.006+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:23.761+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:24.915+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:25.847+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:27.076+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:28.227+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:32.943+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:34.089+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:36.495+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:37.597+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:08:57.329+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNTE0MSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM2OTQyLCJpYXQiOjE3Njc5MzUxNDIsIm5vbmNlIjoic2p5T2MzTE51Z2lsYXdwdUlVeUxLX0twVm9fbE83NHFlbnJ1aEx6eHpQYyIsImp0aSI6ImYyYjY4MWE5LTE4NTMtNGZlMC05ZTM2LWIzNWRmMzNlZGVjMCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiWUpNZDB2VzFyNDBGQ3Iza0tkTXFWVVB6YTJDX3lib2Q4aFlrdUprMjh5ayJ9.SeYMy-1gk8vdVMTEad6bwevfdGd75J42G5-ew7dGSNMurX_mDDOZeGx6-fkli7GElIXUpbvy8l6-wJLlLVA5NcKJanPa4StVU22k9PAP8eaDyOOVMjAC-lp4nBo2IAKgui5hdgJnwFlsaqKfAkfe3HRKphrMcZD7lAatZjD4hEzp9pRszNyt6lucGpgBjynwe_fUETg7T7ZPy8b5DGKUe7vfRmjnqbB4I88wbFcTWLMP0iHHyqm5I0m7TxnhE8nCkVQcWwmeZ_B1epJ5ahWqLVSwIAKRO9lDOmC8CMiae_2a6ssMtHTrwJ3rCAtZpQ5qYTnu0cLSz9oBgL2kAvqTQg&post_logout_redirect_uri=https://app.bookommerce.com:8080
2026-01-09T12:08:57.337+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:08:57.337+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:08:57.350+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
2026-01-09T12:08:57.442+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:08:57.442+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T12:08:57.442+07:00 TRACE 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [bfa69c09-681c-4ec0-9dce-8a2d7dde8c90], value class [java.lang.String], SQL type unknown
2026-01-09T12:08:57.462+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session bfa69c09-681c-4ec0-9dce-8a2d7dde8c90
2026-01-09T12:08:57.464+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:08:57.465+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:08:57.473+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://app.bookommerce.com:8080
2026-01-09T12:08:58.149+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:08:58.151+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:08:58.154+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@1950e750, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:08:58.156+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@528e97a3, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
2026-01-09T12:08:58.158+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@176a6138
2026-01-09T12:09:00.626+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=G4LoVaCPk9l2QnntpEDxJtLTfLgvIPd8C6ZMZ5XUrpM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=FMjYkLorAK-JfMW_CpM3DIjhC7YCXQjdGWnRy2x5G2k
2026-01-09T12:09:00.653+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:00.658+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.s.HttpSessionRequestCache        : Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=G4LoVaCPk9l2QnntpEDxJtLTfLgvIPd8C6ZMZ5XUrpM%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=FMjYkLorAK-JfMW_CpM3DIjhC7YCXQjdGWnRy2x5G2k&continue to session
2026-01-09T12:09:00.660+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/login
2026-01-09T12:09:00.663+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:00.665+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T12:09:00.675+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:00.679+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T12:09:00.703+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /page/login
2026-01-09T12:09:00.709+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:00.709+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:00.718+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:00.720+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /page/login
2026-01-09T12:09:00.749+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:00.749+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:00.791+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:00.791+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:09.190+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login/customer
2026-01-09T12:09:09.195+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:09.195+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:09.204+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:09.207+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login/customer
2026-01-09T12:09:09.474+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T12:09:09.510+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:09.510+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:09.524+07:00  WARN 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.bookommerce.auth_server.exception.AccessDeniedException]
2026-01-09T12:09:09.531+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:09.533+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:09.606+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T12:09:09.606+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T12:09:09.657+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:09.658+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:09.661+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:09.661+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:09.675+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:12.660+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/store-login
2026-01-09T12:09:12.664+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:12.664+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:12.664+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:12.670+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/store-login
2026-01-09T12:09:12.689+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:12.689+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:12.722+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:12.723+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:19.603+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login/store
2026-01-09T12:09:19.607+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:19.609+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:19.616+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:19.616+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login/store
2026-01-09T12:09:19.880+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T12:09:19.892+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:19.892+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:19.909+07:00  WARN 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] .w.s.m.a.ResponseStatusExceptionResolver : Resolved [com.bookommerce.auth_server.exception.AccessDeniedException]
2026-01-09T12:09:19.913+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:19.914+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:19.924+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /error
2026-01-09T12:09:19.926+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /error
2026-01-09T12:09:19.940+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:19.942+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:19.946+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:19.950+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:19.962+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:37.109+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login/store
2026-01-09T12:09:37.113+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:37.113+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:37.123+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:37.125+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login/store
2026-01-09T12:09:37.389+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T12:09:37.389+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1046530d]
2026-01-09T12:09:37.392+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:37.392+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:37.399+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:37.399+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T12:09:37.420+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:37.422+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:38.522+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=5NgPbmACUfUSqPrZGPx2vloYUBcWE2meAFc6TEmq01s%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=bIOsIA_sGUuw1-aFPE7fB62Si-3fUH8iyacIN7TE9gA
2026-01-09T12:09:38.527+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:38.527+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:38.540+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T12:09:38.611+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.core.session.SessionRegistryImpl   : Registering session cdeb014e-b651-4714-8f3a-460e9bc12d24, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-09T12:09:38.613+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=SO_hH2daetvLUyoCoJt-NbGSCMfpFVbWjjqNhFfrg29MdDLE2-PwSmqs1pdlroHn4Xy6lvkDSLzbXfYIGtdSKOcI1iGSqYVGYamFy6o_ATO2__Vd6lQCem_SrsQCQy6e&state=5NgPbmACUfUSqPrZGPx2vloYUBcWE2meAFc6TEmq01s%3D
2026-01-09T12:09:38.624+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:38.625+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:38.643+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:38.643+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:38.707+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T12:09:39.714+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzNTM3OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NzEzNzksImlhdCI6MTc2NzkzNTM3OSwianRpIjoiNzZkZWRhOTgtOTFmOS00ZmFkLTk4NmEtNmJjNzMxMjM1MGJkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.OvjSofj8W0iqWGk1hvKlICo91rU_OPtyIm29Icm6XRoClzu4uILzUOxGt5-6AD4c1fKYlHg_NiubYQ2esgeAAHyykmQjYHqqv6MZURnWdjcW3LOIQjD8_IGPMzeqyJuuKxzq1R21yb6Kb-YwWZrqRNaaDRUOFSTc6R5Bb0ymQcINeABu89kbTOxJ05AWQoGYQwP7l4LtnKfetWYREt_0mgmGloCy15dQWpP3H8wmZUZO6sdmib9EhTPNOwDy0nrRgB19HHhcET8i3j9vhtOLSf9pYux3S_8bNitLynGrlt2nszSQzxMI6IPfMuMIUxHLvghTNvZRunT2zPT5usaqjw
2026-01-09T12:09:39.714+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNTM3OCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM3MTc5LCJpYXQiOjE3Njc5MzUzNzksIm5vbmNlIjoiYklPc0lBX3NHVXV3MS1hRlBFN2ZCNjJTaS0zZlVIOGl5YWNJTjdURTlnQSIsImp0aSI6ImFiOWRjZTJlLWEyZjMtNDUzZC04MmQzLTFhZGE4NzdlNmY3MCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjU0a3FDekRuelBtSjBweGhBanNmZVNYLWotV2N4T1pCYWc4UzVBYTFQYUkifQ.VPL1doIc-xOILz-TAHqcMCaNBs5lDQLeGlmgVRP6DvZ0BruT5Bh_yPjyUZfDxi6u5MUkBlpMBPrO-ZjP1j8ZwiQhUuwJkXvrEeE_ZWD0UB0i4LH-UM7A01phz_sDZjpwZcj0tHoSWLNdXK8qkr9KtXpJhlTZr-v42JrfdqzYAzC-5KzZzq2vcT8FcasXPj0Jp41cZMheVfAZR3mxOjtyx6lndPRtZB3dgOQnAhFZfMH_K35Wr686crKtZBTJyIBuK1ZBkdmRaBaFVNs6uQJVf5iRCyOGxQ1u5xPiVJExIfGSDq0QsXi48UT9Ls99DtIhp59cfJ1rL95tCLsU49d3Yg
2026-01-09T12:09:39.715+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: OK75AeSN69B1d_di4GkmkfbyCISB38301cUPhDCz_BEwWhl1XCsMhh5qRWxiimAtGh9PdrmkPpuM3hkXHaVfkqx9QvBw5dPf7WYvCxxj6WvwjgHIBmVrNibSFbs5Lo3M
2026-01-09T12:09:39.733+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T12:09:39.746+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T12:09:39.747+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c0f869a4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T12:09:43.985+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:09:43.990+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:43.991+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:43.996+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T12:09:44.001+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T12:09:44.008+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:44.008+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:44.028+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:44.029+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:53.674+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNTM3OCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM3MTc5LCJpYXQiOjE3Njc5MzUzNzksIm5vbmNlIjoiYklPc0lBX3NHVXV3MS1hRlBFN2ZCNjJTaS0zZlVIOGl5YWNJTjdURTlnQSIsImp0aSI6ImFiOWRjZTJlLWEyZjMtNDUzZC04MmQzLTFhZGE4NzdlNmY3MCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjU0a3FDekRuelBtSjBweGhBanNmZVNYLWotV2N4T1pCYWc4UzVBYTFQYUkifQ.VPL1doIc-xOILz-TAHqcMCaNBs5lDQLeGlmgVRP6DvZ0BruT5Bh_yPjyUZfDxi6u5MUkBlpMBPrO-ZjP1j8ZwiQhUuwJkXvrEeE_ZWD0UB0i4LH-UM7A01phz_sDZjpwZcj0tHoSWLNdXK8qkr9KtXpJhlTZr-v42JrfdqzYAzC-5KzZzq2vcT8FcasXPj0Jp41cZMheVfAZR3mxOjtyx6lndPRtZB3dgOQnAhFZfMH_K35Wr686crKtZBTJyIBuK1ZBkdmRaBaFVNs6uQJVf5iRCyOGxQ1u5xPiVJExIfGSDq0QsXi48UT9Ls99DtIhp59cfJ1rL95tCLsU49d3Yg&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-09T12:09:53.681+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:53.681+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:53.692+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T12:09:53.806+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:53.806+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T12:09:53.806+07:00 TRACE 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [cdeb014e-b651-4714-8f3a-460e9bc12d24], value class [java.lang.String], SQL type unknown
2026-01-09T12:09:53.821+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session cdeb014e-b651-4714-8f3a-460e9bc12d24
2026-01-09T12:09:53.823+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:53.824+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:53.830+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/store-login
2026-01-09T12:09:53.843+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /page/store-login
2026-01-09T12:09:53.843+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:53.847+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /page/store-login
2026-01-09T12:09:57.026+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login/store
2026-01-09T12:09:57.028+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:09:57.028+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login/store
2026-01-09T12:09:57.291+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2026-01-09T12:09:57.295+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7aff1a16]
2026-01-09T12:09:57.299+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:57.300+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
2026-01-09T12:09:57.305+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:57.306+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
2026-01-09T12:09:58.387+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=IdRPGGRSYyrdtcCc-EbTFA2hWtdkd8fXfyT-7FyT01U%3D&redirect_uri=https://bff.bookommerce.com:8181/login/oauth2/code/bff&nonce=ADUneUPL1res7EZ4mSGk9zD2oiOWEXfNPEtf00fKWPs
2026-01-09T12:09:58.392+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:58.393+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:58.397+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T12:09:58.441+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.core.session.SessionRegistryImpl   : Registering session a40fc117-161a-4d62-895f-36a48b97ca46, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
2026-01-09T12:09:58.444+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://bff.bookommerce.com:8181/login/oauth2/code/bff?code=5PCK3REf32UeSnx9ey9jcxMLHf8UibE-S3vd0JX2dpDLaovE6bMT9ErE3yX3bXwvz7NJWQhu9tApcqaKYTEnGidznVv7u0RNtYiAjhG4wYERSMxObdfaPso5KNUY118I&state=IdRPGGRSYyrdtcCc-EbTFA2hWtdkd8fXfyT-7FyT01U%3D
2026-01-09T12:09:58.446+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:09:58.446+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:09:58.460+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:09:58.460+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:09:58.499+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2026-01-09T12:09:59.466+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2NzkzNTM5OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3OTk0NzEzOTksImlhdCI6MTc2NzkzNTM5OSwianRpIjoiMmM2NjNkOWUtZGNkNC00MjUyLTliYTMtOWQ3NTFhZmM4NDRmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.RUkkebqzZkZ9TVeMzIm-uqh5-eXdOa8zozf_CNUoR1zy_DThbTtsoYAK6RMtBzGZBp84TzKebT5YNQJkcwQrWxKcL3uY0ALGJTMhfqwAQFcmfx8ZE72hGRK1BCi7uwwAT51pXpGudC32ykZTlVnbpc5grpqVl5_YcG2mgSg3BMR37VNCGhKll-5jm4LQZ5X0WSRLoLAUAeB8aWS460DKNJkwvKOVDMWa2LtJIWRcXMwtlXXsem_sBP4xzkDUeDpPshBDR7-xDtDdBifrKDRcS5NSPalOmYjmz_6Z4CQBtC4u_UO5Qc0mMwdkIBvvuffSJcMZA-IVoMslqoF3bJLJ9A
2026-01-09T12:09:59.466+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNTM5OCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM3MTk5LCJpYXQiOjE3Njc5MzUzOTksIm5vbmNlIjoiQURVbmVVUEwxcmVzN0VaNG1TR2s5ekQyb2lPV0VYZk5QRXRmMDBmS1dQcyIsImp0aSI6ImMxN2Q1MGFiLTcyZTYtNDdiMC1iM2ZmLTE3ZjNjN2ExODYyYSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6ImN6Tzlka0t5VkxETjFnRWJaTFdib3VIS0ZfMDlpb0N2NUo1U2NlOVdpeGMifQ.FGG53txRO6-2q4Z0DwmqQ2f2jJ1HmVVybDD7KttjXvjuX8Nt-18L8buzFdptACkgSpayx9KEy18W9lI-88oTzB4ZgYhEnvfXpTR1ZJwWPiKuvCeZVCbGOKM9bw6vOY5HW8YfKuvQMxqh9nqzsGej-dQmVpy_7OODzdTQmaDWRlkBYP2vrk5IMJ1r5C-y22m4MHzwzHyvCuo1G53x37K2v5J4HmNVyO32cvTlNlFIE4zRD48qSo0Ui8tJYpp3ocpjRJXJds-wRdr_Ah0OkPsJNcQfZu6QNln-MCtj6drjoVZD2x3VbkvZKw7wnQSHXvLgx9rhpNlFUR5PmWGW47t5Jw
2026-01-09T12:09:59.466+07:00  INFO 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] CustomOAuth2AuthenticationSuccessHandler : >>>>>>>>>>>>>>>>>>>> Refresh token value: 95JYVqzA-iSJuNhVrZgpdak4eBFLYPkQPQAdhkl41ZQnuCbIPhkuB8depdz0GyekWcXA2xPNMSiPP5UyoGGEgbq9CU1mTmOcR3NpJ8pECsRGfOTRTMkbBEphtPhppppC
2026-01-09T12:09:59.488+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /userinfo
2026-01-09T12:09:59.498+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2026-01-09T12:09:59.500+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@ff0bdaec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
2026-01-09T12:10:00.345+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/me
2026-01-09T12:10:00.351+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:10:00.351+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:10:00.360+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T12:10:00.362+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/me
2026-01-09T12:10:00.367+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:10:00.367+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
2026-01-09T12:10:00.383+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:10:00.383+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:10:53.976+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:10:59.807+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:11:08.454+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/introspect
2026-01-09T12:11:13.988+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2NzkzNTM5OCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY3OTM3MTk5LCJpYXQiOjE3Njc5MzUzOTksIm5vbmNlIjoiQURVbmVVUEwxcmVzN0VaNG1TR2s5ekQyb2lPV0VYZk5QRXRmMDBmS1dQcyIsImp0aSI6ImMxN2Q1MGFiLTcyZTYtNDdiMC1iM2ZmLTE3ZjNjN2ExODYyYSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6ImN6Tzlka0t5VkxETjFnRWJaTFdib3VIS0ZfMDlpb0N2NUo1U2NlOVdpeGMifQ.FGG53txRO6-2q4Z0DwmqQ2f2jJ1HmVVybDD7KttjXvjuX8Nt-18L8buzFdptACkgSpayx9KEy18W9lI-88oTzB4ZgYhEnvfXpTR1ZJwWPiKuvCeZVCbGOKM9bw6vOY5HW8YfKuvQMxqh9nqzsGej-dQmVpy_7OODzdTQmaDWRlkBYP2vrk5IMJ1r5C-y22m4MHzwzHyvCuo1G53x37K2v5J4HmNVyO32cvTlNlFIE4zRD48qSo0Ui8tJYpp3ocpjRJXJds-wRdr_Ah0OkPsJNcQfZu6QNln-MCtj6drjoVZD2x3VbkvZKw7wnQSHXvLgx9rhpNlFUR5PmWGW47t5Jw&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
2026-01-09T12:11:13.995+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:11:13.995+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:11:14.020+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
2026-01-09T12:11:14.124+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2026-01-09T12:11:14.127+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
2026-01-09T12:11:14.127+07:00 TRACE 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [a40fc117-161a-4d62-895f-36a48b97ca46], value class [java.lang.String], SQL type unknown
2026-01-09T12:11:14.139+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session a40fc117-161a-4d62-895f-36a48b97ca46
2026-01-09T12:11:14.141+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2026-01-09T12:11:14.143+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
2026-01-09T12:11:14.150+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://auth.bookommerce.com:8282/page/store-login
2026-01-09T12:11:14.166+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /page/store-login
2026-01-09T12:11:14.171+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T12:11:14.175+07:00 DEBUG 17232 --- [auth-server] [https-jsse-nio-8282-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /page/store-login
