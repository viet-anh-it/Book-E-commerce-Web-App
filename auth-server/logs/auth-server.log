09:21:26.397 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
09:21:26.407 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
09:21:26.517 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
09:21:26.519 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
09:21:35.066 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:21:35.087 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:21:35.734 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 614 ms. Found 6 JPA repository interfaces.
09:21:35.800 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:21:35.803 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:21:35.874 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.879 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.889 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.893 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.894 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.898 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
09:21:38.547 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
09:21:38.600 | INFO | StandardService: Starting service [Tomcat]
09:21:38.604 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:21:38.738 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:21:38.754 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 12231 ms
09:21:39.582 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:21:41.673 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
09:21:41.777 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:21:43.176 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:21:43.320 | INFO | HikariDataSource: HikariPool-1 - Starting...
09:21:46.539 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57f8a196
09:21:46.546 | INFO | HikariDataSource: HikariPool-1 - Start completed.
09:21:46.686 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:21:46.743 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:21:53.803 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:21:54.244 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:21:57.693 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
09:21:59.344 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
09:22:01.461 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
09:22:01.462 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
09:22:01.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
09:22:01.475 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
09:22:01.478 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
09:22:01.484 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
09:22:03.494 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
09:22:03.498 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
09:22:03.498 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
09:22:03.499 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
09:22:03.499 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
09:22:03.499 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
09:22:03.795 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:22:05.174 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
09:22:05.752 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@34886ae4 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
09:22:05.887 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:22:07.670 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:22:08.154 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
09:22:08.217 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
09:22:08.276 | INFO | AuthServerApplication: Started AuthServerApplication in 44.725 seconds (process running for 48.772)
09:23:15.311 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:23:15.312 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:23:15.320 | INFO | DispatcherServlet: Completed initialization in 6 ms
09:23:15.432 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=gvFh7HzP5uqACnmpRnmJFkrjYmYgBq0Fq5ZX1GkWFvA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=BdM4O9AklJZd3Kqo-MbwRJdH6eLBnnPC26GUjvjMabo
09:23:16.129 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:23:16.174 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=gvFh7HzP5uqACnmpRnmJFkrjYmYgBq0Fq5ZX1GkWFvA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=BdM4O9AklJZd3Kqo-MbwRJdH6eLBnnPC26GUjvjMabo&continue to session
09:23:16.177 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
09:23:16.305 | DEBUG | FilterChainProxy: Securing GET /page/login
09:23:16.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:23:16.328 | DEBUG | FilterChainProxy: Secured GET /page/login
09:23:25.673 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
09:23:25.680 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:23:25.688 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
09:23:26.599 | DEBUG | DaoAuthenticationProvider: Authenticated user
09:23:26.606 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@67e123d1]
09:23:27.907 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=rjON7gX3PuXJeW1GfcUIbAYsFML9VzV0-JP2ixZpio4%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=fkNBKxsWdCsEdZqq246Jq41i7JH58HZRYxDxa8k_HNE
09:23:27.930 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
09:23:28.198 | DEBUG | SessionRegistryImpl: Registering session 1bd22dda-65d9-49b0-bc23-7d984de252a3, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
09:23:28.201 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=Yy3udBctnEebUK7B2-_QZ7ryz2fvyroHvzV9IYQ5bxfaCCv2rACwax_M2Ffky4dkFYGB8WwjjEy8ogWsXJE-aiesyMHYJU8NqTmqswzkVI4wIr8TT2tMceM1s4zE71h1&state=rjON7gX3PuXJeW1GfcUIbAYsFML9VzV0-JP2ixZpio4%3D
09:23:28.445 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
09:23:29.913 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODQ0MzgwOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3Njg0NDQxMDksImlhdCI6MTc2ODQ0MzgwOSwianRpIjoiZDFlNjViOGEtZGNjZC00NTNhLTkzNDItNjNmODIwMjYzMDQ0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.ghFvQ4fUE4DcOKxezN6r56Ix27DPXqWM5VDWqU2W82QFxlIfEOB-TmlCFKtVwo4kCFBLfgi24-XyFkyejfHUYjPAztO11jnKtYNkCLPbdo9IVYXs1tBg2U87dYlDGELbLVhtDR2lkgG_XiB07Qw0yljmPOjCnkAl5GQW6IedeTgvfIc0SCZbdyWguHBTVjRcOyy1nd6uV49fQRlrcwwGhGOEilfOcAbGPtnLrvL7a0izHTaiiVSrrY2dzTxkUT6mIog9MhYtLEnIviw25yEGUlxmm9CZ4RQNHUnM4ChxiE0JEq0FZw_p3RoNNiLVZZRNkavDGM-mzUDEP3WJrE_-qg
09:23:29.914 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ0MzgwOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDQ1NjA5LCJpYXQiOjE3Njg0NDM4MDksIm5vbmNlIjoiZmtOQkt4c1dkQ3NFZFpxcTI0NkpxNDFpN0pINThIWlJZeER4YThrX0hORSIsImp0aSI6IjNhMDZlYzU4LWZlM2UtNGE4MS1iZDU2LTczNzQ0OTBkZjRhMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiaUcwYUV5VDYtQXI3UWkyRGgza0p5a1BtazdLSnZjcWtGRmxkSFlYNXhrbyJ9.KPj9Xs6Qx4Gsr5SMtgaC1XNSFxAVXZMrdki1D-zpqRor416C0Hd8tuflecNpb73tewFfYm-A4mIIZCHl7CKg0LDF819sQ3DtKstziMjXJwZ5wiYpYig2IIqz9I2gjj-8IqmUUdN0AhbD2KwT8lOd6y0SLTPmr2WB_F5ykyBQQ93Ps4GkFiqiPxKJ045kgdvxd2bWXvi2tb5O4WwY8BDwXJ3RVXKEX7GcYs9JlSW-xdkZ15h2Xj4RsJc4ZZ9KmuQatV60sX1Beo7dHRKUq7lcBV3lcsGfsG4wW1oTONCm1bftiZiTB0cGashz--ixpbJ3GC3BkBPYdcIgtD1DgsMXHg
09:23:29.915 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: P3tckxNNIF9fHvpBDZkGUMbYRZpekSCCjb6Soav-mourg27dhBMuPHpvzJ0dKQiF0zC1Bi88dcEVf5H-gNCKgMJcusuMQ6aSe1kutj_-BTlQPIAR3tL-hnMUdkfC1VfC
09:23:30.343 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
09:23:30.413 | DEBUG | FilterChainProxy: Securing GET /userinfo
09:23:30.473 | DEBUG | JwtAuthenticationProvider: Authenticated token
09:23:30.482 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@17025259, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
09:23:41.909 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
09:25:07.965 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
09:26:06.242 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:12:37.617 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
10:12:37.704 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
10:12:37.737 | INFO | GracefulShutdown: Graceful shutdown complete
10:12:37.870 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
10:12:37.903 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
10:12:37.917 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
10:12:38.596 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
10:12:38.598 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
10:12:39.746 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:12:39.746 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
10:12:39.810 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 61 ms. Found 6 JPA repository interfaces.
10:12:39.818 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:12:39.819 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:12:39.832 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.832 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.833 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.833 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.834 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.834 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.834 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
10:12:40.147 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
10:12:40.151 | INFO | StandardService: Starting service [Tomcat]
10:12:40.153 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
10:12:40.221 | INFO | [/]: Initializing Spring embedded WebApplicationContext
10:12:40.221 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1608 ms
10:12:40.464 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
10:12:40.472 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
10:12:40.509 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
10:12:40.513 | INFO | HikariDataSource: HikariPool-2 - Starting...
10:12:40.547 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@150e7d1c
10:12:40.547 | INFO | HikariDataSource: HikariPool-2 - Start completed.
10:12:40.554 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
10:12:40.557 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
10:12:41.041 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
10:12:41.167 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
10:12:41.303 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
10:12:41.453 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
10:12:41.454 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
10:12:41.455 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
10:12:41.455 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
10:12:41.456 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
10:12:41.456 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
10:12:41.487 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
10:12:41.487 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
10:12:41.487 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
10:12:41.488 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
10:12:41.488 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
10:12:41.488 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
10:12:41.560 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
10:12:41.739 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
10:12:41.806 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@daf8bca with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
10:12:41.862 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
10:12:42.071 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
10:12:42.180 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
10:12:42.187 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
10:12:42.242 | INFO | AuthServerApplication: Started AuthServerApplication in 3.876 seconds (process running for 3082.738)
10:12:42.254 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
10:40:33.160 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
10:40:33.172 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
10:40:33.247 | INFO | DispatcherServlet: Completed initialization in 73 ms
10:40:33.281 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
10:40:34.010 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODQ0ODQzMywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3Njg0NDg3MzMsImlhdCI6MTc2ODQ0ODQzMywianRpIjoiODgyMzE0MTgtYzk3MC00NTliLTlkZjgtNjliOWMzODQ1YjRiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.DQJ2WpBmqTl4qkb4cPxBmxHQ5Quw_JB21cIFGZZuvVnLGqK55wt-NNYJ6uCTaRZDW_ypNzqnYfwDc9wtzZM4ee6iBT_IJnqMGmpF5sv5C_4snwYu7-09NRy-10rhGk8azKc4bCNcl64XWzafRwZm41zpXZaUj80skB_3Z89_lQs3NxHJQlbVlbdTF-sPMangAMOZQ8Gp0z_VRc7Yv9yyWJ1tZTE2Hy6-ZgOZ52ezCCTVQcyOkEVn40CZb8HeXsFIw7Mhjh_WNxxRGJAazgv4ZEW-eqTDDnHyu3vcD-6F-K78i4kZHb4U_vTNnTBuHGQeqLSt_991DMTYIl6RhXXDsA
10:40:34.012 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ0MzgwOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDUwMjMzLCJpYXQiOjE3Njg0NDg0MzMsImp0aSI6IjY0NjA1NjY4LWJiMjAtNDQxZS04MWQxLTA5YmY0NjZjOTkzNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiaUcwYUV5VDYtQXI3UWkyRGgza0p5a1BtazdLSnZjcWtGRmxkSFlYNXhrbyJ9.YB0dUkqmxsTigEPr0Neo3ZBVZPMD4mv1GNhttXBNu6NApl6fAP5zYCD1MBf5g7qoXT5mviLsYf-6TnmSbeYxcszVYJwb70yTjIuBqhVA2nGTsblj1cWdIWEl7PX111zz4y3tnLuMa3ftKL5B-55oNuAWouCK_NkRZph-50UR3dRzoFuzvNLFu33ZE6OI2HNv70vy4YflwgYpX-jAtJEJ3JVQZDH9wa4sqyNon-iD_4UIe24bTvWR8B-KA28ckk3uW0RUzMc8H9LDHCOsQqeJA0vuKSNUFM2DVnxNFHutJOfFwS8vY5MbLse2bB7XLLad3ISpYxGpOMxRcRhZDsMvQw
10:40:34.012 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: OGrLVXHjyrymjrQoM9pUFSVLFXjHjpE0D9pCSQs2eSW96JwM7IU1gaAX2l8Lj2q4t3X4u_YOslYXAnaOhswKdEq00ThNrkV4IMS0bH7uT7rkHSfI1UasP0De3BHA2ztY
10:40:34.048 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
10:40:34.065 | DEBUG | FilterChainProxy: Securing GET /userinfo
10:40:34.074 | DEBUG | JwtAuthenticationProvider: Authenticated token
10:40:34.077 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@bc3f06bf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
10:40:34.342 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:40:38.958 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:40:40.354 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:40:42.216 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ0MzgwOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDUwMjMzLCJpYXQiOjE3Njg0NDg0MzMsImp0aSI6IjY0NjA1NjY4LWJiMjAtNDQxZS04MWQxLTA5YmY0NjZjOTkzNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiaUcwYUV5VDYtQXI3UWkyRGgza0p5a1BtazdLSnZjcWtGRmxkSFlYNXhrbyJ9.YB0dUkqmxsTigEPr0Neo3ZBVZPMD4mv1GNhttXBNu6NApl6fAP5zYCD1MBf5g7qoXT5mviLsYf-6TnmSbeYxcszVYJwb70yTjIuBqhVA2nGTsblj1cWdIWEl7PX111zz4y3tnLuMa3ftKL5B-55oNuAWouCK_NkRZph-50UR3dRzoFuzvNLFu33ZE6OI2HNv70vy4YflwgYpX-jAtJEJ3JVQZDH9wa4sqyNon-iD_4UIe24bTvWR8B-KA28ckk3uW0RUzMc8H9LDHCOsQqeJA0vuKSNUFM2DVnxNFHutJOfFwS8vY5MbLse2bB7XLLad3ISpYxGpOMxRcRhZDsMvQw&post_logout_redirect_uri=https://app.bookommerce.com:8080
10:40:42.330 | DEBUG | DefaultRedirectStrategy: Redirecting to https://app.bookommerce.com:8080
10:45:53.387 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=yxw_IcUvzBERuWp95sZbfk21sKXHcDNFheiK3KEwcHo%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=sAmaQuIO6CDMwX7SB5HuctuhTrTUUGilpZyHMkcChXI
10:45:53.633 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:45:53.698 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=yxw_IcUvzBERuWp95sZbfk21sKXHcDNFheiK3KEwcHo%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=sAmaQuIO6CDMwX7SB5HuctuhTrTUUGilpZyHMkcChXI&continue to session
10:45:53.698 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
10:45:53.862 | DEBUG | FilterChainProxy: Securing GET /page/login
10:45:53.867 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:45:53.873 | DEBUG | FilterChainProxy: Secured GET /page/login
10:54:41.325 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=VLFD9lakKIDSv7QjTHttN236tA0FDpSxCUR-yYK39tw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=lLk2Wg4AinTotkfnyf6-_9rdRi-FkvQKQ4gBZWzyttM
10:54:41.462 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:54:41.471 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=VLFD9lakKIDSv7QjTHttN236tA0FDpSxCUR-yYK39tw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=lLk2Wg4AinTotkfnyf6-_9rdRi-FkvQKQ4gBZWzyttM&continue to session
10:54:41.472 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
10:54:41.507 | DEBUG | FilterChainProxy: Securing GET /page/login
10:54:41.511 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:54:41.512 | DEBUG | FilterChainProxy: Secured GET /page/login
11:01:15.394 | DEBUG | FilterChainProxy: Securing OPTIONS /api/login/customer
11:07:53.192 | DEBUG | FilterChainProxy: Securing OPTIONS /api/login/customer
11:12:13.435 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:12:13.583 | DEBUG | CsrfFilter: Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
11:12:13.683 | DEBUG | AccessDeniedHandlerImpl: Responding with 403 status code
11:12:13.956 | DEBUG | FilterChainProxy: Securing POST /error
11:12:13.968 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:12:13.986 | DEBUG | FilterChainProxy: Secured POST /error
11:27:02.693 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:27:02.732 | DEBUG | CsrfFilter: Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
11:27:02.735 | DEBUG | AccessDeniedHandlerImpl: Responding with 403 status code
11:27:02.752 | DEBUG | FilterChainProxy: Securing POST /error
11:27:02.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:27:02.769 | DEBUG | FilterChainProxy: Secured POST /error
11:29:11.058 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
11:29:11.120 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:29:11.134 | INFO | GracefulShutdown: Graceful shutdown complete
11:29:11.228 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:29:11.260 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
11:29:11.276 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
11:29:11.722 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
11:29:11.724 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
11:29:13.284 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:29:13.286 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:29:13.417 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 127 ms. Found 6 JPA repository interfaces.
11:29:13.430 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:29:13.431 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:29:13.448 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.449 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.450 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.453 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.456 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.463 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.463 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
11:29:13.852 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
11:29:13.857 | INFO | StandardService: Starting service [Tomcat]
11:29:13.858 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:29:13.927 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:29:13.928 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2195 ms
11:29:14.094 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:29:14.104 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:29:14.156 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:29:14.160 | INFO | HikariDataSource: HikariPool-3 - Starting...
11:29:14.216 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36909188
11:29:14.219 | INFO | HikariDataSource: HikariPool-3 - Start completed.
11:29:14.236 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:29:14.240 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:29:14.778 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:29:14.896 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:29:15.110 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
11:29:15.290 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:29:15.291 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:29:15.292 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:29:15.293 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:29:15.294 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:29:15.294 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:29:15.333 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:29:15.419 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:29:15.609 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
11:29:15.710 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@725508ad with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
11:29:15.782 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:29:16.097 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:29:16.191 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
11:29:16.201 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
11:29:16.288 | INFO | AuthServerApplication: Started AuthServerApplication in 4.675 seconds (process running for 7676.784)
11:29:16.294 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:29:21.818 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
11:29:21.818 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
11:29:21.822 | INFO | DispatcherServlet: Completed initialization in 3 ms
11:29:21.829 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:29:21.831 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:29:21.832 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:29:22.088 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:29:22.092 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@792f0cfd]
11:30:55.500 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:30:55.503 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:30:55.508 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:30:55.591 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:30:55.591 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@572215c2]
11:31:45.748 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:31:45.754 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:31:45.758 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:31:45.892 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:31:45.894 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@719185f3]
11:32:59.581 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:32:59.602 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:32:59.610 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:32:59.851 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:32:59.861 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1f20cd1c]
11:33:00.422 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=LOTXmh4nUayn5aPXLDZnTU2u8uUN_zCuT26nLRCtDgg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=4A64eEgzZM2LLl7BdbbBfXjnoaSECUmvXMBGLH4L-jI
11:33:01.169 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:33:01.245 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=LOTXmh4nUayn5aPXLDZnTU2u8uUN_zCuT26nLRCtDgg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=4A64eEgzZM2LLl7BdbbBfXjnoaSECUmvXMBGLH4L-jI&continue to session
11:33:01.250 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
11:33:01.383 | DEBUG | FilterChainProxy: Securing GET /page/login
11:33:01.384 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:33:01.386 | DEBUG | FilterChainProxy: Secured GET /page/login
11:34:38.554 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
11:34:39.122 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:34:39.287 | INFO | GracefulShutdown: Graceful shutdown complete
11:34:39.626 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:34:39.704 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
11:34:39.811 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
11:34:42.286 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
11:34:42.350 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
11:34:44.498 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:34:44.503 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:34:44.706 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 198 ms. Found 6 JPA repository interfaces.
11:34:44.742 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:34:44.744 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:34:44.785 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.801 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.805 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.827 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.833 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.842 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 75 ms. Found 0 Redis repository interfaces.
11:34:45.455 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
11:34:45.458 | INFO | StandardService: Starting service [Tomcat]
11:34:45.459 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:34:45.526 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:34:45.527 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3081 ms
11:34:45.677 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:34:45.683 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:34:45.735 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:34:45.738 | INFO | HikariDataSource: HikariPool-4 - Starting...
11:34:45.774 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31384bf1
11:34:45.775 | INFO | HikariDataSource: HikariPool-4 - Start completed.
11:34:45.781 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:34:45.782 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:34:46.420 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:34:46.646 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:34:46.931 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
11:34:47.138 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:34:47.139 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:34:47.142 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:34:47.143 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:34:47.144 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:34:47.144 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:34:47.192 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:34:47.220 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:34:47.221 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:34:47.226 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:34:47.231 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:34:47.234 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:34:47.354 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:34:47.598 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
11:34:47.697 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@7692f60c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
11:34:47.743 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:34:47.933 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:34:48.071 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
11:34:48.081 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
11:34:48.098 | INFO | AuthServerApplication: Started AuthServerApplication in 6.848 seconds (process running for 8008.594)
11:34:48.103 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:35:28.858 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
11:35:28.860 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
11:35:28.868 | INFO | DispatcherServlet: Completed initialization in 8 ms
11:35:28.876 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:35:28.884 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:35:28.885 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:35:29.084 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:35:29.087 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7d354ee9]
11:35:30.268 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=dzMAfAXIoch0IL19Fcd-bt4y4UEPkZmWH37Ie9L65pg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=aiyE-12VhnsweNkATwewNXoD6jy5uCrR2QMvD771PGw
11:35:30.282 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
11:35:30.472 | DEBUG | SessionRegistryImpl: Registering session 3b751860-b0ec-4b5f-bf19-0431ff982d3a, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
11:35:30.473 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=0GxsqjXkJj2ENTy9GYlEb_ZU4OkLEJI88GN1BDoCZ8s1Q3bh96-WM0J6fKA3qCoTuX_1MyaP2UZrkVpWKA-toDModVZPVIpI6Vf_UeVP4hRBVJsvq5TX06fwOOxbSn2X&state=dzMAfAXIoch0IL19Fcd-bt4y4UEPkZmWH37Ie9L65pg%3D
11:35:30.539 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
11:35:30.967 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODQ1MTczMCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3Njg0NTIwMzAsImlhdCI6MTc2ODQ1MTczMCwianRpIjoiODk0MzA5MDctMzJhYi00ZTk1LTgzNGQtODg2MGZkYTMxZTkxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.vVt9XaxhUCfaqOgOgqh_n-hp7JyyBqcKv_uwOTBnF8K2XTgqPWOGbpaLeW3XCSi_s53bRGjIcxmuG7HOvBW8QitTN5j5WgFR9NKRDsywnufs0AJMLq9itqEd-b-V63jeRN-MxYPOH65gTXrFpKmuzPT100lqQNAYNZDrhTv6rqbgA_lmPFymHdIEtp1GrIV3Knykm2UBncsz4wcllF6JqoEJZm0cWlv8wac4M3nyDwqHRQ2EZwupGO1GFUoqe_6SY9BllCKezM7d6nJw-ZMkvYt7kAUbzt8X7qVcm6IbbcE1GonkL2aDc63avZw7v5IEkXgCSYvFcDheewF0oyz-ag
11:35:30.967 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ1MTczMCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDUzNTMwLCJpYXQiOjE3Njg0NTE3MzAsIm5vbmNlIjoiYWl5RS0xMlZobnN3ZU5rQVR3ZXdOWG9ENmp5NXVDclIyUU12RDc3MVBHdyIsImp0aSI6ImVkMThiY2NkLWIwZTktNDIxOS1hMDYxLThiZDZmMWM1NDc0OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiVTFnRGd3UXpEN2hkOXB3bUlVMEsyalpuZE04MTBxNTB0VkI3T1kzS3NiMCJ9.dvQBbUnk76ZwdQuCWqYo4ASJjcnRlZbMtNqTInnyhHrXjCA4YKgAs9o4tnz-uqOPad1w8QCI5dvgwWIS7obEt-JQJw4IS_EoN3P52qTS_tzsnDt6ANPgm86myV-s5W2txDqNBe5iZlA64EUPHsbY7hBkwHs8DV4IU8toUhBlxQp27DNS6em9UpM_brTAedpxuE7qoGcJITxrRT-ledkAZMfIHEXiSMS5CqUtEDWZv4PSFjTEQIPBQwm3NmiMu0dJsl1O9IWaLL5Q2nQaCMQM5H_1CB3xjGVY_h0d3zHaA3uWz3ZsoMBVT6lYmuF683mxE2cAb6j5NmHBqJh6RVF6Ow
11:35:30.968 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: fp3DJM_KmSJ5rutq-y7kfAjW77vw0_D3mda_CfNDeoEwcDDM-NCo82LC7lSXjBKMNJ6Uu2793q333chAeQ3E-RYis7g5kXOXt-L2mT_Bs38Ekp5Gymmt6m4x5a7wmT3M
11:35:30.992 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
11:35:31.002 | DEBUG | FilterChainProxy: Securing GET /userinfo
11:35:31.006 | DEBUG | JwtAuthenticationProvider: Authenticated token
11:35:31.006 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@309bf61c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
11:35:35.092 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
12:10:25.989 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:10:25.992 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:10:26.060 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
12:10:26.060 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
12:10:28.568 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:10:28.570 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:10:28.834 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 245 ms. Found 6 JPA repository interfaces.
12:10:28.867 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:10:28.871 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:10:28.910 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.911 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.912 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.913 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.914 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.914 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.915 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
12:10:30.313 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:10:30.345 | INFO | StandardService: Starting service [Tomcat]
12:10:30.346 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:10:30.428 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:10:30.429 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4368 ms
12:10:30.856 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:10:30.952 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
12:10:31.008 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:10:31.584 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:10:31.652 | INFO | HikariDataSource: HikariPool-1 - Starting...
12:10:32.450 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34f9690f
12:10:32.458 | INFO | HikariDataSource: HikariPool-1 - Start completed.
12:10:32.752 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:10:32.893 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:10:35.980 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:10:36.396 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:10:37.031 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:10:37.632 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
12:10:38.363 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:10:38.364 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:10:38.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:10:38.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:10:38.369 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:10:38.370 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:10:38.747 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:10:38.748 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:10:38.918 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:10:40.167 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:10:40.798 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@16915275 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:10:40.913 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:10:41.586 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:10:41.806 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
12:10:41.834 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:10:41.861 | INFO | AuthServerApplication: Started AuthServerApplication in 16.731 seconds (process running for 19.434)
12:10:43.170 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:10:43.171 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:10:43.174 | INFO | DispatcherServlet: Completed initialization in 3 ms
12:11:02.326 | DEBUG | FilterChainProxy: Securing POST /api/register
12:11:02.389 | DEBUG | CsrfFilter: Invalid CSRF token found for https://auth.bookommerce.com:8282/api/register
12:11:02.390 | DEBUG | AccessDeniedHandlerImpl: Responding with 403 status code
12:11:02.427 | DEBUG | FilterChainProxy: Securing POST /error
12:11:02.450 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:11:02.452 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:11:02.482 | DEBUG | FilterChainProxy: Secured POST /error
12:12:31.005 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
12:12:31.146 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:12:31.174 | INFO | GracefulShutdown: Graceful shutdown complete
12:12:31.310 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:12:31.362 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
12:12:31.388 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
12:12:31.994 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:12:31.997 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:12:33.137 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:12:33.137 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:12:33.190 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
12:12:33.200 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:12:33.200 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:12:33.214 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.215 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.216 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.218 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.219 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.220 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.221 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
12:12:33.445 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:12:33.447 | INFO | StandardService: Starting service [Tomcat]
12:12:33.447 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:12:33.487 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:12:33.487 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1484 ms
12:12:33.564 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:12:33.567 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:12:33.581 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:12:33.582 | INFO | HikariDataSource: HikariPool-2 - Starting...
12:12:33.712 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@39a7c2b3
12:12:33.713 | INFO | HikariDataSource: HikariPool-2 - Start completed.
12:12:33.716 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:12:33.718 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:12:34.043 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:12:34.208 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:12:34.361 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:12:34.476 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:12:34.477 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:12:34.478 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:12:34.478 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:12:34.479 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:12:34.480 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:12:34.514 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:12:34.515 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:12:34.516 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:12:34.517 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:12:34.517 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:12:34.519 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:12:34.579 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:12:34.793 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:12:34.879 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@708b8959 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:12:34.943 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:12:35.198 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:12:35.295 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:12:35.301 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:12:35.313 | INFO | AuthServerApplication: Started AuthServerApplication in 3.479 seconds (process running for 132.886)
12:12:35.318 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:12:38.331 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:12:38.332 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:12:38.337 | INFO | DispatcherServlet: Completed initialization in 5 ms
12:12:38.341 | DEBUG | FilterChainProxy: Securing POST /api/register
12:12:38.358 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:12:38.359 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:12:38.365 | DEBUG | FilterChainProxy: Secured POST /api/register
12:14:27.266 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
12:14:27.290 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:14:27.321 | INFO | GracefulShutdown: Graceful shutdown complete
12:14:27.380 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:14:27.383 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
12:14:27.392 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
12:14:27.646 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:14:27.646 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:14:28.511 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:14:28.512 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:14:28.548 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
12:14:28.555 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:14:28.555 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:14:28.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.565 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.566 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.568 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
12:14:28.834 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:14:28.835 | INFO | StandardService: Starting service [Tomcat]
12:14:28.835 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:14:28.865 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:14:28.866 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1216 ms
12:14:28.933 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:14:28.936 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:14:28.946 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:14:28.949 | INFO | HikariDataSource: HikariPool-3 - Starting...
12:14:28.983 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2381515e
12:14:28.984 | INFO | HikariDataSource: HikariPool-3 - Start completed.
12:14:28.988 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:14:28.989 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:14:29.221 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:14:29.315 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:14:29.329 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.data.redis.stream.StreamListener<java.lang.String, org.springframework.data.redis.connection.stream.MapRecord<java.lang.String, java.lang.String, java.lang.String>>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
12:14:29.329 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:14:29.330 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
12:14:29.358 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
12:14:29.360 | INFO | StandardService: Stopping service [Tomcat]
12:14:29.370 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:14:29.412 | ERROR | LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bookommerce.auth_server.config.EventConfig required a bean of type 'org.springframework.data.redis.stream.StreamListener' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.stream.StreamListener' in your configuration.

12:15:15.734 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:15:15.735 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:15:16.327 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:15:16.328 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:15:16.377 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 6 JPA repository interfaces.
12:15:16.382 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:15:16.382 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:15:16.393 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.395 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.395 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.396 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
12:15:16.579 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:15:16.580 | INFO | StandardService: Starting service [Tomcat]
12:15:16.581 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:15:16.606 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:15:16.606 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 864 ms
12:15:16.665 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:15:16.667 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:15:16.676 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:15:16.677 | INFO | HikariDataSource: HikariPool-4 - Starting...
12:15:16.701 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b17966f
12:15:16.702 | INFO | HikariDataSource: HikariPool-4 - Start completed.
12:15:16.705 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:15:16.706 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:15:16.868 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:15:16.932 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:15:16.945 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.data.redis.stream.StreamListener<java.lang.String, org.springframework.data.redis.connection.stream.MapRecord<java.lang.String, java.lang.String, java.lang.String>>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
12:15:16.946 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:15:16.946 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
12:15:16.988 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
12:15:16.989 | INFO | StandardService: Stopping service [Tomcat]
12:15:16.994 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:15:17.002 | ERROR | LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bookommerce.auth_server.config.EventConfig required a bean of type 'org.springframework.data.redis.stream.StreamListener' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.stream.StreamListener' in your configuration.

12:16:52.235 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:16:52.235 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:16:52.866 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:16:52.867 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:16:52.913 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 6 JPA repository interfaces.
12:16:52.919 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:16:52.920 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:16:52.927 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.928 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.928 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.930 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.930 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.930 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.931 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
12:16:53.099 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:16:53.100 | INFO | StandardService: Starting service [Tomcat]
12:16:53.101 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:16:53.136 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:16:53.136 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 898 ms
12:16:53.204 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:16:53.205 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:16:53.215 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:16:53.216 | INFO | HikariDataSource: HikariPool-5 - Starting...
12:16:53.238 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7417b61d
12:16:53.239 | INFO | HikariDataSource: HikariPool-5 - Start completed.
12:16:53.243 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:16:53.244 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:16:53.427 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:16:53.501 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:16:53.512 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationSuccessEventListener': Resolution of declared constructors on bean Class [com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2bbaa981] failed
12:16:53.512 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:16:53.513 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
12:16:53.519 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
12:16:53.520 | INFO | StandardService: Stopping service [Tomcat]
12:16:53.527 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:16:53.532 | ERROR | SpringApplication: Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationSuccessEventListener': Resolution of declared constructors on bean Class [com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2bbaa981] failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'registrationSuccessEventListener': Resolution of declared constructors on bean Class [com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2bbaa981] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 24 common frames omitted
Caused by: java.lang.NoClassDefFoundError: ProfileService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.15.jar:6.2.15]
	... 37 common frames omitted
Caused by: java.lang.ClassNotFoundException: ProfileService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 41 common frames omitted
12:17:05.436 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:17:05.437 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:17:06.017 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:06.018 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:17:06.080 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 59 ms. Found 6 JPA repository interfaces.
12:17:06.086 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:06.087 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:17:06.098 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.099 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.100 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.101 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.102 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.102 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.102 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
12:17:06.221 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:17:06.222 | INFO | StandardService: Starting service [Tomcat]
12:17:06.223 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:17:06.249 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:17:06.249 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 808 ms
12:17:06.320 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:17:06.323 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:17:06.336 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:17:06.337 | INFO | HikariDataSource: HikariPool-6 - Starting...
12:17:06.360 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d68594b
12:17:06.361 | INFO | HikariDataSource: HikariPool-6 - Start completed.
12:17:06.364 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:17:06.365 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:17:06.556 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:17:06.625 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:17:06.791 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:17:06.984 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:06.985 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:06.985 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:06.986 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:06.986 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:06.986 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:07.023 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:07.023 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:07.023 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:07.025 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:07.025 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:07.025 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:07.043 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:17:07.145 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:17:07.182 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:17:07.373 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:17:07.457 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@53d8d1dc with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:17:07.499 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:17:07.635 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:17:07.699 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:17:07.703 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:17:07.710 | INFO | AuthServerApplication: Started AuthServerApplication in 2.352 seconds (process running for 405.283)
12:17:07.714 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:17:10.166 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
12:17:10.170 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:17:10.180 | INFO | GracefulShutdown: Graceful shutdown complete
12:17:10.201 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:17:10.202 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
12:17:10.218 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
12:17:10.423 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:17:10.424 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:17:11.018 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:11.018 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:17:11.054 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
12:17:11.059 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:11.059 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:17:11.069 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.070 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.071 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.071 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.072 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.072 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.072 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
12:17:11.275 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:17:11.277 | INFO | StandardService: Starting service [Tomcat]
12:17:11.277 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:17:11.300 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:17:11.301 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 873 ms
12:17:11.379 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:17:11.382 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:17:11.393 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:17:11.394 | INFO | HikariDataSource: HikariPool-7 - Starting...
12:17:11.415 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1eddfbf2
12:17:11.415 | INFO | HikariDataSource: HikariPool-7 - Start completed.
12:17:11.417 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:17:11.418 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:17:11.567 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:17:11.634 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:17:11.720 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:17:11.805 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:11.807 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:11.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:11.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:11.809 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:11.809 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:11.834 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:11.834 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:11.834 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:11.835 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:11.835 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:11.835 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:11.854 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:17:11.891 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
12:17:11.894 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:17:11.918 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:17:12.081 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:17:12.140 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@7ca1004 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:17:12.185 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:17:12.378 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:17:12.444 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:17:12.452 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:17:12.461 | INFO | AuthServerApplication: Started AuthServerApplication in 2.081 seconds (process running for 410.034)
12:17:12.463 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:18:12.047 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
12:18:12.052 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:18:12.075 | INFO | GracefulShutdown: Graceful shutdown complete
12:18:12.085 | WARN | RedisChannelHandler: Connection is already closed
12:18:12.090 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
12:18:12.116 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:18:12.119 | INFO | HikariDataSource: HikariPool-7 - Shutdown initiated...
12:18:12.135 | INFO | HikariDataSource: HikariPool-7 - Shutdown completed.
12:18:12.352 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:18:12.353 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:18:12.765 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:18:12.766 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:18:12.793 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
12:18:12.797 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:18:12.797 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:18:12.803 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.804 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.805 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.807 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
12:18:12.948 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:18:12.949 | INFO | StandardService: Starting service [Tomcat]
12:18:12.950 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:18:12.977 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:18:12.979 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 620 ms
12:18:13.083 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:18:13.087 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:18:13.099 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:18:13.102 | INFO | HikariDataSource: HikariPool-8 - Starting...
12:18:13.133 | INFO | HikariPool: HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5795a704
12:18:13.135 | INFO | HikariDataSource: HikariPool-8 - Start completed.
12:18:13.139 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:18:13.142 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:18:13.304 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:18:13.365 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:18:13.433 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:18:13.534 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:18:13.534 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:18:13.535 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:18:13.535 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:18:13.536 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:18:13.536 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:18:13.570 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:18:13.590 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:18:13.610 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
12:18:13.613 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:18:13.636 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:18:13.797 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:18:13.880 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@765d9c4e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:18:13.940 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:18:14.117 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:18:14.164 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:18:14.167 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:18:14.173 | INFO | AuthServerApplication: Started AuthServerApplication in 1.873 seconds (process running for 471.746)
12:18:14.175 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:20:08.840 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:20:08.845 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:20:08.882 | INFO | DispatcherServlet: Completed initialization in 36 ms
12:20:08.934 | DEBUG | FilterChainProxy: Securing POST /api/register
12:20:09.002 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:20:09.003 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:20:09.016 | DEBUG | FilterChainProxy: Secured POST /api/register
12:20:09.939 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.shopping@gmail.com
