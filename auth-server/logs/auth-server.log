09:21:26.397 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
09:21:26.407 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
09:21:26.517 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
09:21:26.519 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
09:21:35.066 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:21:35.087 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:21:35.734 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 614 ms. Found 6 JPA repository interfaces.
09:21:35.800 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:21:35.803 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:21:35.874 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.879 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.889 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.893 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.894 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:21:35.898 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
09:21:38.547 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
09:21:38.600 | INFO | StandardService: Starting service [Tomcat]
09:21:38.604 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:21:38.738 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:21:38.754 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 12231 ms
09:21:39.582 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:21:41.673 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
09:21:41.777 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:21:43.176 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:21:43.320 | INFO | HikariDataSource: HikariPool-1 - Starting...
09:21:46.539 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57f8a196
09:21:46.546 | INFO | HikariDataSource: HikariPool-1 - Start completed.
09:21:46.686 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:21:46.743 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:21:53.803 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:21:54.244 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:21:57.693 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
09:21:59.344 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
09:22:01.461 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
09:22:01.462 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
09:22:01.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
09:22:01.475 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
09:22:01.478 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
09:22:01.484 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
09:22:03.494 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
09:22:03.498 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
09:22:03.498 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
09:22:03.499 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
09:22:03.499 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
09:22:03.499 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
09:22:03.795 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
09:22:05.174 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
09:22:05.752 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@34886ae4 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
09:22:05.887 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:22:07.670 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:22:08.154 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
09:22:08.217 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
09:22:08.276 | INFO | AuthServerApplication: Started AuthServerApplication in 44.725 seconds (process running for 48.772)
09:23:15.311 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:23:15.312 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:23:15.320 | INFO | DispatcherServlet: Completed initialization in 6 ms
09:23:15.432 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=gvFh7HzP5uqACnmpRnmJFkrjYmYgBq0Fq5ZX1GkWFvA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=BdM4O9AklJZd3Kqo-MbwRJdH6eLBnnPC26GUjvjMabo
09:23:16.129 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:23:16.174 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=gvFh7HzP5uqACnmpRnmJFkrjYmYgBq0Fq5ZX1GkWFvA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=BdM4O9AklJZd3Kqo-MbwRJdH6eLBnnPC26GUjvjMabo&continue to session
09:23:16.177 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
09:23:16.305 | DEBUG | FilterChainProxy: Securing GET /page/login
09:23:16.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:23:16.328 | DEBUG | FilterChainProxy: Secured GET /page/login
09:23:25.673 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
09:23:25.680 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:23:25.688 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
09:23:26.599 | DEBUG | DaoAuthenticationProvider: Authenticated user
09:23:26.606 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@67e123d1]
09:23:27.907 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=rjON7gX3PuXJeW1GfcUIbAYsFML9VzV0-JP2ixZpio4%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=fkNBKxsWdCsEdZqq246Jq41i7JH58HZRYxDxa8k_HNE
09:23:27.930 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
09:23:28.198 | DEBUG | SessionRegistryImpl: Registering session 1bd22dda-65d9-49b0-bc23-7d984de252a3, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
09:23:28.201 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=Yy3udBctnEebUK7B2-_QZ7ryz2fvyroHvzV9IYQ5bxfaCCv2rACwax_M2Ffky4dkFYGB8WwjjEy8ogWsXJE-aiesyMHYJU8NqTmqswzkVI4wIr8TT2tMceM1s4zE71h1&state=rjON7gX3PuXJeW1GfcUIbAYsFML9VzV0-JP2ixZpio4%3D
09:23:28.445 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
09:23:29.913 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODQ0MzgwOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3Njg0NDQxMDksImlhdCI6MTc2ODQ0MzgwOSwianRpIjoiZDFlNjViOGEtZGNjZC00NTNhLTkzNDItNjNmODIwMjYzMDQ0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.ghFvQ4fUE4DcOKxezN6r56Ix27DPXqWM5VDWqU2W82QFxlIfEOB-TmlCFKtVwo4kCFBLfgi24-XyFkyejfHUYjPAztO11jnKtYNkCLPbdo9IVYXs1tBg2U87dYlDGELbLVhtDR2lkgG_XiB07Qw0yljmPOjCnkAl5GQW6IedeTgvfIc0SCZbdyWguHBTVjRcOyy1nd6uV49fQRlrcwwGhGOEilfOcAbGPtnLrvL7a0izHTaiiVSrrY2dzTxkUT6mIog9MhYtLEnIviw25yEGUlxmm9CZ4RQNHUnM4ChxiE0JEq0FZw_p3RoNNiLVZZRNkavDGM-mzUDEP3WJrE_-qg
09:23:29.914 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ0MzgwOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDQ1NjA5LCJpYXQiOjE3Njg0NDM4MDksIm5vbmNlIjoiZmtOQkt4c1dkQ3NFZFpxcTI0NkpxNDFpN0pINThIWlJZeER4YThrX0hORSIsImp0aSI6IjNhMDZlYzU4LWZlM2UtNGE4MS1iZDU2LTczNzQ0OTBkZjRhMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiaUcwYUV5VDYtQXI3UWkyRGgza0p5a1BtazdLSnZjcWtGRmxkSFlYNXhrbyJ9.KPj9Xs6Qx4Gsr5SMtgaC1XNSFxAVXZMrdki1D-zpqRor416C0Hd8tuflecNpb73tewFfYm-A4mIIZCHl7CKg0LDF819sQ3DtKstziMjXJwZ5wiYpYig2IIqz9I2gjj-8IqmUUdN0AhbD2KwT8lOd6y0SLTPmr2WB_F5ykyBQQ93Ps4GkFiqiPxKJ045kgdvxd2bWXvi2tb5O4WwY8BDwXJ3RVXKEX7GcYs9JlSW-xdkZ15h2Xj4RsJc4ZZ9KmuQatV60sX1Beo7dHRKUq7lcBV3lcsGfsG4wW1oTONCm1bftiZiTB0cGashz--ixpbJ3GC3BkBPYdcIgtD1DgsMXHg
09:23:29.915 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: P3tckxNNIF9fHvpBDZkGUMbYRZpekSCCjb6Soav-mourg27dhBMuPHpvzJ0dKQiF0zC1Bi88dcEVf5H-gNCKgMJcusuMQ6aSe1kutj_-BTlQPIAR3tL-hnMUdkfC1VfC
09:23:30.343 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
09:23:30.413 | DEBUG | FilterChainProxy: Securing GET /userinfo
09:23:30.473 | DEBUG | JwtAuthenticationProvider: Authenticated token
09:23:30.482 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@17025259, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
09:23:41.909 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
09:25:07.965 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
09:26:06.242 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:12:37.617 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
10:12:37.704 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
10:12:37.737 | INFO | GracefulShutdown: Graceful shutdown complete
10:12:37.870 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
10:12:37.903 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
10:12:37.917 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
10:12:38.596 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
10:12:38.598 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
10:12:39.746 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:12:39.746 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
10:12:39.810 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 61 ms. Found 6 JPA repository interfaces.
10:12:39.818 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:12:39.819 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:12:39.832 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.832 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.833 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.833 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.834 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.834 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:39.834 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
10:12:40.147 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
10:12:40.151 | INFO | StandardService: Starting service [Tomcat]
10:12:40.153 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
10:12:40.221 | INFO | [/]: Initializing Spring embedded WebApplicationContext
10:12:40.221 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1608 ms
10:12:40.464 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
10:12:40.472 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
10:12:40.509 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
10:12:40.513 | INFO | HikariDataSource: HikariPool-2 - Starting...
10:12:40.547 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@150e7d1c
10:12:40.547 | INFO | HikariDataSource: HikariPool-2 - Start completed.
10:12:40.554 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
10:12:40.557 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
10:12:41.041 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
10:12:41.167 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
10:12:41.303 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
10:12:41.453 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
10:12:41.454 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
10:12:41.455 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
10:12:41.455 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
10:12:41.456 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
10:12:41.456 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
10:12:41.487 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
10:12:41.487 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
10:12:41.487 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
10:12:41.488 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
10:12:41.488 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
10:12:41.488 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
10:12:41.560 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
10:12:41.739 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
10:12:41.806 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@daf8bca with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
10:12:41.862 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
10:12:42.071 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
10:12:42.180 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
10:12:42.187 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
10:12:42.242 | INFO | AuthServerApplication: Started AuthServerApplication in 3.876 seconds (process running for 3082.738)
10:12:42.254 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
10:40:33.160 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
10:40:33.172 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
10:40:33.247 | INFO | DispatcherServlet: Completed initialization in 73 ms
10:40:33.281 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
10:40:34.010 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODQ0ODQzMywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3Njg0NDg3MzMsImlhdCI6MTc2ODQ0ODQzMywianRpIjoiODgyMzE0MTgtYzk3MC00NTliLTlkZjgtNjliOWMzODQ1YjRiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.DQJ2WpBmqTl4qkb4cPxBmxHQ5Quw_JB21cIFGZZuvVnLGqK55wt-NNYJ6uCTaRZDW_ypNzqnYfwDc9wtzZM4ee6iBT_IJnqMGmpF5sv5C_4snwYu7-09NRy-10rhGk8azKc4bCNcl64XWzafRwZm41zpXZaUj80skB_3Z89_lQs3NxHJQlbVlbdTF-sPMangAMOZQ8Gp0z_VRc7Yv9yyWJ1tZTE2Hy6-ZgOZ52ezCCTVQcyOkEVn40CZb8HeXsFIw7Mhjh_WNxxRGJAazgv4ZEW-eqTDDnHyu3vcD-6F-K78i4kZHb4U_vTNnTBuHGQeqLSt_991DMTYIl6RhXXDsA
10:40:34.012 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ0MzgwOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDUwMjMzLCJpYXQiOjE3Njg0NDg0MzMsImp0aSI6IjY0NjA1NjY4LWJiMjAtNDQxZS04MWQxLTA5YmY0NjZjOTkzNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiaUcwYUV5VDYtQXI3UWkyRGgza0p5a1BtazdLSnZjcWtGRmxkSFlYNXhrbyJ9.YB0dUkqmxsTigEPr0Neo3ZBVZPMD4mv1GNhttXBNu6NApl6fAP5zYCD1MBf5g7qoXT5mviLsYf-6TnmSbeYxcszVYJwb70yTjIuBqhVA2nGTsblj1cWdIWEl7PX111zz4y3tnLuMa3ftKL5B-55oNuAWouCK_NkRZph-50UR3dRzoFuzvNLFu33ZE6OI2HNv70vy4YflwgYpX-jAtJEJ3JVQZDH9wa4sqyNon-iD_4UIe24bTvWR8B-KA28ckk3uW0RUzMc8H9LDHCOsQqeJA0vuKSNUFM2DVnxNFHutJOfFwS8vY5MbLse2bB7XLLad3ISpYxGpOMxRcRhZDsMvQw
10:40:34.012 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: OGrLVXHjyrymjrQoM9pUFSVLFXjHjpE0D9pCSQs2eSW96JwM7IU1gaAX2l8Lj2q4t3X4u_YOslYXAnaOhswKdEq00ThNrkV4IMS0bH7uT7rkHSfI1UasP0De3BHA2ztY
10:40:34.048 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
10:40:34.065 | DEBUG | FilterChainProxy: Securing GET /userinfo
10:40:34.074 | DEBUG | JwtAuthenticationProvider: Authenticated token
10:40:34.077 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@bc3f06bf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
10:40:34.342 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:40:38.958 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:40:40.354 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
10:40:42.216 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ0MzgwOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDUwMjMzLCJpYXQiOjE3Njg0NDg0MzMsImp0aSI6IjY0NjA1NjY4LWJiMjAtNDQxZS04MWQxLTA5YmY0NjZjOTkzNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiaUcwYUV5VDYtQXI3UWkyRGgza0p5a1BtazdLSnZjcWtGRmxkSFlYNXhrbyJ9.YB0dUkqmxsTigEPr0Neo3ZBVZPMD4mv1GNhttXBNu6NApl6fAP5zYCD1MBf5g7qoXT5mviLsYf-6TnmSbeYxcszVYJwb70yTjIuBqhVA2nGTsblj1cWdIWEl7PX111zz4y3tnLuMa3ftKL5B-55oNuAWouCK_NkRZph-50UR3dRzoFuzvNLFu33ZE6OI2HNv70vy4YflwgYpX-jAtJEJ3JVQZDH9wa4sqyNon-iD_4UIe24bTvWR8B-KA28ckk3uW0RUzMc8H9LDHCOsQqeJA0vuKSNUFM2DVnxNFHutJOfFwS8vY5MbLse2bB7XLLad3ISpYxGpOMxRcRhZDsMvQw&post_logout_redirect_uri=https://app.bookommerce.com:8080
10:40:42.330 | DEBUG | DefaultRedirectStrategy: Redirecting to https://app.bookommerce.com:8080
10:45:53.387 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=yxw_IcUvzBERuWp95sZbfk21sKXHcDNFheiK3KEwcHo%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=sAmaQuIO6CDMwX7SB5HuctuhTrTUUGilpZyHMkcChXI
10:45:53.633 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:45:53.698 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=yxw_IcUvzBERuWp95sZbfk21sKXHcDNFheiK3KEwcHo%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=sAmaQuIO6CDMwX7SB5HuctuhTrTUUGilpZyHMkcChXI&continue to session
10:45:53.698 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
10:45:53.862 | DEBUG | FilterChainProxy: Securing GET /page/login
10:45:53.867 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:45:53.873 | DEBUG | FilterChainProxy: Secured GET /page/login
10:54:41.325 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=VLFD9lakKIDSv7QjTHttN236tA0FDpSxCUR-yYK39tw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=lLk2Wg4AinTotkfnyf6-_9rdRi-FkvQKQ4gBZWzyttM
10:54:41.462 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:54:41.471 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=VLFD9lakKIDSv7QjTHttN236tA0FDpSxCUR-yYK39tw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=lLk2Wg4AinTotkfnyf6-_9rdRi-FkvQKQ4gBZWzyttM&continue to session
10:54:41.472 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
10:54:41.507 | DEBUG | FilterChainProxy: Securing GET /page/login
10:54:41.511 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:54:41.512 | DEBUG | FilterChainProxy: Secured GET /page/login
11:01:15.394 | DEBUG | FilterChainProxy: Securing OPTIONS /api/login/customer
11:07:53.192 | DEBUG | FilterChainProxy: Securing OPTIONS /api/login/customer
11:12:13.435 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:12:13.583 | DEBUG | CsrfFilter: Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
11:12:13.683 | DEBUG | AccessDeniedHandlerImpl: Responding with 403 status code
11:12:13.956 | DEBUG | FilterChainProxy: Securing POST /error
11:12:13.968 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:12:13.986 | DEBUG | FilterChainProxy: Secured POST /error
11:27:02.693 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:27:02.732 | DEBUG | CsrfFilter: Invalid CSRF token found for https://auth.bookommerce.com:8282/api/login/customer
11:27:02.735 | DEBUG | AccessDeniedHandlerImpl: Responding with 403 status code
11:27:02.752 | DEBUG | FilterChainProxy: Securing POST /error
11:27:02.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:27:02.769 | DEBUG | FilterChainProxy: Secured POST /error
11:29:11.058 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
11:29:11.120 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:29:11.134 | INFO | GracefulShutdown: Graceful shutdown complete
11:29:11.228 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:29:11.260 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
11:29:11.276 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
11:29:11.722 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
11:29:11.724 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
11:29:13.284 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:29:13.286 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:29:13.417 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 127 ms. Found 6 JPA repository interfaces.
11:29:13.430 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:29:13.431 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:29:13.448 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.449 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.450 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.453 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.456 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.463 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:29:13.463 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
11:29:13.852 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
11:29:13.857 | INFO | StandardService: Starting service [Tomcat]
11:29:13.858 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:29:13.927 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:29:13.928 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2195 ms
11:29:14.094 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:29:14.104 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:29:14.156 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:29:14.160 | INFO | HikariDataSource: HikariPool-3 - Starting...
11:29:14.216 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36909188
11:29:14.219 | INFO | HikariDataSource: HikariPool-3 - Start completed.
11:29:14.236 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:29:14.240 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:29:14.778 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:29:14.896 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:29:15.110 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
11:29:15.290 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:29:15.291 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:29:15.292 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:29:15.293 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:29:15.294 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:29:15.294 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:29:15.333 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:29:15.334 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:29:15.419 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:29:15.609 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
11:29:15.710 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@725508ad with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
11:29:15.782 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:29:16.097 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:29:16.191 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
11:29:16.201 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
11:29:16.288 | INFO | AuthServerApplication: Started AuthServerApplication in 4.675 seconds (process running for 7676.784)
11:29:16.294 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:29:21.818 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
11:29:21.818 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
11:29:21.822 | INFO | DispatcherServlet: Completed initialization in 3 ms
11:29:21.829 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:29:21.831 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:29:21.832 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:29:22.088 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:29:22.092 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@792f0cfd]
11:30:55.500 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:30:55.503 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:30:55.508 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:30:55.591 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:30:55.591 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@572215c2]
11:31:45.748 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:31:45.754 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:31:45.758 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:31:45.892 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:31:45.894 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@719185f3]
11:32:59.581 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:32:59.602 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:32:59.610 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:32:59.851 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:32:59.861 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1f20cd1c]
11:33:00.422 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=LOTXmh4nUayn5aPXLDZnTU2u8uUN_zCuT26nLRCtDgg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=4A64eEgzZM2LLl7BdbbBfXjnoaSECUmvXMBGLH4L-jI
11:33:01.169 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:33:01.245 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=LOTXmh4nUayn5aPXLDZnTU2u8uUN_zCuT26nLRCtDgg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=4A64eEgzZM2LLl7BdbbBfXjnoaSECUmvXMBGLH4L-jI&continue to session
11:33:01.250 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
11:33:01.383 | DEBUG | FilterChainProxy: Securing GET /page/login
11:33:01.384 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:33:01.386 | DEBUG | FilterChainProxy: Secured GET /page/login
11:34:38.554 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
11:34:39.122 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:34:39.287 | INFO | GracefulShutdown: Graceful shutdown complete
11:34:39.626 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:34:39.704 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
11:34:39.811 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
11:34:42.286 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 9856 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
11:34:42.350 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
11:34:44.498 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:34:44.503 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:34:44.706 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 198 ms. Found 6 JPA repository interfaces.
11:34:44.742 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:34:44.744 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:34:44.785 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.801 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.805 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.827 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.833 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:34:44.842 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 75 ms. Found 0 Redis repository interfaces.
11:34:45.455 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
11:34:45.458 | INFO | StandardService: Starting service [Tomcat]
11:34:45.459 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:34:45.526 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:34:45.527 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3081 ms
11:34:45.677 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:34:45.683 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:34:45.735 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:34:45.738 | INFO | HikariDataSource: HikariPool-4 - Starting...
11:34:45.774 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31384bf1
11:34:45.775 | INFO | HikariDataSource: HikariPool-4 - Start completed.
11:34:45.781 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:34:45.782 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:34:46.420 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:34:46.646 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:34:46.931 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
11:34:47.138 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:34:47.139 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:34:47.142 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:34:47.143 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:34:47.144 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:34:47.144 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:34:47.192 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
11:34:47.220 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
11:34:47.221 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
11:34:47.226 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
11:34:47.231 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
11:34:47.234 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
11:34:47.354 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
11:34:47.598 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
11:34:47.697 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001a72bdb7c20@7692f60c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
11:34:47.743 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:34:47.933 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:34:48.071 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
11:34:48.081 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
11:34:48.098 | INFO | AuthServerApplication: Started AuthServerApplication in 6.848 seconds (process running for 8008.594)
11:34:48.103 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:35:28.858 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
11:35:28.860 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
11:35:28.868 | INFO | DispatcherServlet: Completed initialization in 8 ms
11:35:28.876 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
11:35:28.884 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:35:28.885 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
11:35:29.084 | DEBUG | DaoAuthenticationProvider: Authenticated user
11:35:29.087 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7d354ee9]
11:35:30.268 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=dzMAfAXIoch0IL19Fcd-bt4y4UEPkZmWH37Ie9L65pg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=aiyE-12VhnsweNkATwewNXoD6jy5uCrR2QMvD771PGw
11:35:30.282 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
11:35:30.472 | DEBUG | SessionRegistryImpl: Registering session 3b751860-b0ec-4b5f-bf19-0431ff982d3a, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
11:35:30.473 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=0GxsqjXkJj2ENTy9GYlEb_ZU4OkLEJI88GN1BDoCZ8s1Q3bh96-WM0J6fKA3qCoTuX_1MyaP2UZrkVpWKA-toDModVZPVIpI6Vf_UeVP4hRBVJsvq5TX06fwOOxbSn2X&state=dzMAfAXIoch0IL19Fcd-bt4y4UEPkZmWH37Ie9L65pg%3D
11:35:30.539 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
11:35:30.967 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODQ1MTczMCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3Njg0NTIwMzAsImlhdCI6MTc2ODQ1MTczMCwianRpIjoiODk0MzA5MDctMzJhYi00ZTk1LTgzNGQtODg2MGZkYTMxZTkxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.vVt9XaxhUCfaqOgOgqh_n-hp7JyyBqcKv_uwOTBnF8K2XTgqPWOGbpaLeW3XCSi_s53bRGjIcxmuG7HOvBW8QitTN5j5WgFR9NKRDsywnufs0AJMLq9itqEd-b-V63jeRN-MxYPOH65gTXrFpKmuzPT100lqQNAYNZDrhTv6rqbgA_lmPFymHdIEtp1GrIV3Knykm2UBncsz4wcllF6JqoEJZm0cWlv8wac4M3nyDwqHRQ2EZwupGO1GFUoqe_6SY9BllCKezM7d6nJw-ZMkvYt7kAUbzt8X7qVcm6IbbcE1GonkL2aDc63avZw7v5IEkXgCSYvFcDheewF0oyz-ag
11:35:30.967 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODQ1MTczMCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4NDUzNTMwLCJpYXQiOjE3Njg0NTE3MzAsIm5vbmNlIjoiYWl5RS0xMlZobnN3ZU5rQVR3ZXdOWG9ENmp5NXVDclIyUU12RDc3MVBHdyIsImp0aSI6ImVkMThiY2NkLWIwZTktNDIxOS1hMDYxLThiZDZmMWM1NDc0OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiVTFnRGd3UXpEN2hkOXB3bUlVMEsyalpuZE04MTBxNTB0VkI3T1kzS3NiMCJ9.dvQBbUnk76ZwdQuCWqYo4ASJjcnRlZbMtNqTInnyhHrXjCA4YKgAs9o4tnz-uqOPad1w8QCI5dvgwWIS7obEt-JQJw4IS_EoN3P52qTS_tzsnDt6ANPgm86myV-s5W2txDqNBe5iZlA64EUPHsbY7hBkwHs8DV4IU8toUhBlxQp27DNS6em9UpM_brTAedpxuE7qoGcJITxrRT-ledkAZMfIHEXiSMS5CqUtEDWZv4PSFjTEQIPBQwm3NmiMu0dJsl1O9IWaLL5Q2nQaCMQM5H_1CB3xjGVY_h0d3zHaA3uWz3ZsoMBVT6lYmuF683mxE2cAb6j5NmHBqJh6RVF6Ow
11:35:30.968 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: fp3DJM_KmSJ5rutq-y7kfAjW77vw0_D3mda_CfNDeoEwcDDM-NCo82LC7lSXjBKMNJ6Uu2793q333chAeQ3E-RYis7g5kXOXt-L2mT_Bs38Ekp5Gymmt6m4x5a7wmT3M
11:35:30.992 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
11:35:31.002 | DEBUG | FilterChainProxy: Securing GET /userinfo
11:35:31.006 | DEBUG | JwtAuthenticationProvider: Authenticated token
11:35:31.006 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@309bf61c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
11:35:35.092 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
12:10:25.989 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:10:25.992 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:10:26.060 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
12:10:26.060 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
12:10:28.568 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:10:28.570 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:10:28.834 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 245 ms. Found 6 JPA repository interfaces.
12:10:28.867 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:10:28.871 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:10:28.910 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.911 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.912 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.913 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.914 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.914 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:10:28.915 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
12:10:30.313 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:10:30.345 | INFO | StandardService: Starting service [Tomcat]
12:10:30.346 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:10:30.428 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:10:30.429 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4368 ms
12:10:30.856 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:10:30.952 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
12:10:31.008 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:10:31.584 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:10:31.652 | INFO | HikariDataSource: HikariPool-1 - Starting...
12:10:32.450 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34f9690f
12:10:32.458 | INFO | HikariDataSource: HikariPool-1 - Start completed.
12:10:32.752 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:10:32.893 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:10:35.980 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:10:36.396 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:10:37.031 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:10:37.632 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
12:10:38.363 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:10:38.364 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:10:38.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:10:38.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:10:38.369 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:10:38.370 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:10:38.747 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:10:38.748 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:10:38.749 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:10:38.918 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:10:40.167 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:10:40.798 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@16915275 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:10:40.913 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:10:41.586 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:10:41.806 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
12:10:41.834 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:10:41.861 | INFO | AuthServerApplication: Started AuthServerApplication in 16.731 seconds (process running for 19.434)
12:10:43.170 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:10:43.171 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:10:43.174 | INFO | DispatcherServlet: Completed initialization in 3 ms
12:11:02.326 | DEBUG | FilterChainProxy: Securing POST /api/register
12:11:02.389 | DEBUG | CsrfFilter: Invalid CSRF token found for https://auth.bookommerce.com:8282/api/register
12:11:02.390 | DEBUG | AccessDeniedHandlerImpl: Responding with 403 status code
12:11:02.427 | DEBUG | FilterChainProxy: Securing POST /error
12:11:02.450 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:11:02.452 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:11:02.482 | DEBUG | FilterChainProxy: Secured POST /error
12:12:31.005 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
12:12:31.146 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:12:31.174 | INFO | GracefulShutdown: Graceful shutdown complete
12:12:31.310 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:12:31.362 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
12:12:31.388 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
12:12:31.994 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:12:31.997 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:12:33.137 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:12:33.137 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:12:33.190 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
12:12:33.200 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:12:33.200 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:12:33.214 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.215 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.216 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.218 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.219 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.220 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:12:33.221 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
12:12:33.445 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:12:33.447 | INFO | StandardService: Starting service [Tomcat]
12:12:33.447 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:12:33.487 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:12:33.487 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1484 ms
12:12:33.564 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:12:33.567 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:12:33.581 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:12:33.582 | INFO | HikariDataSource: HikariPool-2 - Starting...
12:12:33.712 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@39a7c2b3
12:12:33.713 | INFO | HikariDataSource: HikariPool-2 - Start completed.
12:12:33.716 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:12:33.718 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:12:34.043 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:12:34.208 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:12:34.361 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:12:34.476 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:12:34.477 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:12:34.478 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:12:34.478 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:12:34.479 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:12:34.480 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:12:34.514 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:12:34.515 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:12:34.516 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:12:34.517 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:12:34.517 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:12:34.519 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:12:34.579 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:12:34.793 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:12:34.879 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@708b8959 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:12:34.943 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:12:35.198 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:12:35.295 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:12:35.301 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:12:35.313 | INFO | AuthServerApplication: Started AuthServerApplication in 3.479 seconds (process running for 132.886)
12:12:35.318 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:12:38.331 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:12:38.332 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:12:38.337 | INFO | DispatcherServlet: Completed initialization in 5 ms
12:12:38.341 | DEBUG | FilterChainProxy: Securing POST /api/register
12:12:38.358 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:12:38.359 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:12:38.365 | DEBUG | FilterChainProxy: Secured POST /api/register
12:14:27.266 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
12:14:27.290 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:14:27.321 | INFO | GracefulShutdown: Graceful shutdown complete
12:14:27.380 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:14:27.383 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
12:14:27.392 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
12:14:27.646 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:14:27.646 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:14:28.511 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:14:28.512 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:14:28.548 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
12:14:28.555 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:14:28.555 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:14:28.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.565 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.566 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:14:28.568 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
12:14:28.834 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:14:28.835 | INFO | StandardService: Starting service [Tomcat]
12:14:28.835 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:14:28.865 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:14:28.866 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1216 ms
12:14:28.933 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:14:28.936 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:14:28.946 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:14:28.949 | INFO | HikariDataSource: HikariPool-3 - Starting...
12:14:28.983 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2381515e
12:14:28.984 | INFO | HikariDataSource: HikariPool-3 - Start completed.
12:14:28.988 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:14:28.989 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:14:29.221 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:14:29.315 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:14:29.329 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.data.redis.stream.StreamListener<java.lang.String, org.springframework.data.redis.connection.stream.MapRecord<java.lang.String, java.lang.String, java.lang.String>>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
12:14:29.329 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:14:29.330 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
12:14:29.358 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
12:14:29.360 | INFO | StandardService: Stopping service [Tomcat]
12:14:29.370 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:14:29.412 | ERROR | LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bookommerce.auth_server.config.EventConfig required a bean of type 'org.springframework.data.redis.stream.StreamListener' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.stream.StreamListener' in your configuration.

12:15:15.734 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:15:15.735 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:15:16.327 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:15:16.328 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:15:16.377 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 6 JPA repository interfaces.
12:15:16.382 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:15:16.382 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:15:16.393 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.395 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.395 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:15:16.396 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
12:15:16.579 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:15:16.580 | INFO | StandardService: Starting service [Tomcat]
12:15:16.581 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:15:16.606 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:15:16.606 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 864 ms
12:15:16.665 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:15:16.667 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:15:16.676 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:15:16.677 | INFO | HikariDataSource: HikariPool-4 - Starting...
12:15:16.701 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b17966f
12:15:16.702 | INFO | HikariDataSource: HikariPool-4 - Start completed.
12:15:16.705 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:15:16.706 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:15:16.868 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:15:16.932 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:15:16.945 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.data.redis.stream.StreamListener<java.lang.String, org.springframework.data.redis.connection.stream.MapRecord<java.lang.String, java.lang.String, java.lang.String>>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
12:15:16.946 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:15:16.946 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
12:15:16.988 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
12:15:16.989 | INFO | StandardService: Stopping service [Tomcat]
12:15:16.994 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:15:17.002 | ERROR | LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bookommerce.auth_server.config.EventConfig required a bean of type 'org.springframework.data.redis.stream.StreamListener' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.stream.StreamListener' in your configuration.

12:16:52.235 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:16:52.235 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:16:52.866 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:16:52.867 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:16:52.913 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 6 JPA repository interfaces.
12:16:52.919 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:16:52.920 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:16:52.927 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.928 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.928 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.930 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.930 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.930 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:16:52.931 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
12:16:53.099 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:16:53.100 | INFO | StandardService: Starting service [Tomcat]
12:16:53.101 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:16:53.136 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:16:53.136 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 898 ms
12:16:53.204 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:16:53.205 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:16:53.215 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:16:53.216 | INFO | HikariDataSource: HikariPool-5 - Starting...
12:16:53.238 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7417b61d
12:16:53.239 | INFO | HikariDataSource: HikariPool-5 - Start completed.
12:16:53.243 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:16:53.244 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:16:53.427 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:16:53.501 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:16:53.512 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationSuccessEventListener': Resolution of declared constructors on bean Class [com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2bbaa981] failed
12:16:53.512 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:16:53.513 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
12:16:53.519 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
12:16:53.520 | INFO | StandardService: Stopping service [Tomcat]
12:16:53.527 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:16:53.532 | ERROR | SpringApplication: Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationSuccessEventListener': Resolution of declared constructors on bean Class [com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2bbaa981] failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1228) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1194) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1130) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:990) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'registrationSuccessEventListener': Resolution of declared constructors on bean Class [com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@2bbaa981] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1770) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1653) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.15.jar:6.2.15]
	... 24 common frames omitted
Caused by: java.lang.NoClassDefFoundError: ProfileService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.15.jar:6.2.15]
	... 37 common frames omitted
Caused by: java.lang.ClassNotFoundException: ProfileService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 41 common frames omitted
12:17:05.436 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:17:05.437 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:17:06.017 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:06.018 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:17:06.080 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 59 ms. Found 6 JPA repository interfaces.
12:17:06.086 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:06.087 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:17:06.098 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.099 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.100 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.101 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.102 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.102 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:06.102 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
12:17:06.221 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:17:06.222 | INFO | StandardService: Starting service [Tomcat]
12:17:06.223 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:17:06.249 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:17:06.249 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 808 ms
12:17:06.320 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:17:06.323 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:17:06.336 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:17:06.337 | INFO | HikariDataSource: HikariPool-6 - Starting...
12:17:06.360 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d68594b
12:17:06.361 | INFO | HikariDataSource: HikariPool-6 - Start completed.
12:17:06.364 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:17:06.365 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:17:06.556 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:17:06.625 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:17:06.791 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:17:06.984 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:06.985 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:06.985 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:06.986 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:06.986 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:06.986 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:07.023 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:07.023 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:07.023 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:07.025 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:07.025 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:07.025 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:07.043 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:17:07.145 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:17:07.182 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:17:07.373 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:17:07.457 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@53d8d1dc with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:17:07.499 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:17:07.635 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:17:07.699 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:17:07.703 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:17:07.710 | INFO | AuthServerApplication: Started AuthServerApplication in 2.352 seconds (process running for 405.283)
12:17:07.714 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:17:10.166 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
12:17:10.170 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:17:10.180 | INFO | GracefulShutdown: Graceful shutdown complete
12:17:10.201 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:17:10.202 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
12:17:10.218 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
12:17:10.423 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:17:10.424 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:17:11.018 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:11.018 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:17:11.054 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
12:17:11.059 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:17:11.059 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:17:11.069 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.070 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.071 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.071 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.072 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.072 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:17:11.072 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
12:17:11.275 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:17:11.277 | INFO | StandardService: Starting service [Tomcat]
12:17:11.277 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:17:11.300 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:17:11.301 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 873 ms
12:17:11.379 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:17:11.382 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:17:11.393 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:17:11.394 | INFO | HikariDataSource: HikariPool-7 - Starting...
12:17:11.415 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1eddfbf2
12:17:11.415 | INFO | HikariDataSource: HikariPool-7 - Start completed.
12:17:11.417 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:17:11.418 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:17:11.567 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:17:11.634 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:17:11.720 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:17:11.805 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:11.807 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:11.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:11.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:11.809 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:11.809 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:11.834 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:17:11.834 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:17:11.834 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:17:11.835 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:17:11.835 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:17:11.835 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:17:11.854 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:17:11.891 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
12:17:11.894 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:17:11.918 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:17:12.081 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:17:12.140 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@7ca1004 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:17:12.185 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:17:12.378 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:17:12.444 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:17:12.452 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:17:12.461 | INFO | AuthServerApplication: Started AuthServerApplication in 2.081 seconds (process running for 410.034)
12:17:12.463 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:18:12.047 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
12:18:12.052 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
12:18:12.075 | INFO | GracefulShutdown: Graceful shutdown complete
12:18:12.085 | WARN | RedisChannelHandler: Connection is already closed
12:18:12.090 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
12:18:12.116 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:18:12.119 | INFO | HikariDataSource: HikariPool-7 - Shutdown initiated...
12:18:12.135 | INFO | HikariDataSource: HikariPool-7 - Shutdown completed.
12:18:12.352 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 16928 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:18:12.353 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:18:12.765 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:18:12.766 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:18:12.793 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
12:18:12.797 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:18:12.797 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:18:12.803 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.804 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.805 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.806 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:18:12.807 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
12:18:12.948 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:18:12.949 | INFO | StandardService: Starting service [Tomcat]
12:18:12.950 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:18:12.977 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:18:12.979 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 620 ms
12:18:13.083 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:18:13.087 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:18:13.099 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:18:13.102 | INFO | HikariDataSource: HikariPool-8 - Starting...
12:18:13.133 | INFO | HikariPool: HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5795a704
12:18:13.135 | INFO | HikariDataSource: HikariPool-8 - Start completed.
12:18:13.139 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:18:13.142 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:18:13.304 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:18:13.365 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:18:13.433 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:18:13.534 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:18:13.534 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:18:13.535 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:18:13.535 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:18:13.536 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:18:13.536 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:18:13.569 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:18:13.570 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:18:13.590 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:18:13.610 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
12:18:13.613 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:18:13.636 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:18:13.797 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:18:13.880 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c049da0688@765d9c4e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:18:13.940 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:18:14.117 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:18:14.164 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
12:18:14.167 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:18:14.173 | INFO | AuthServerApplication: Started AuthServerApplication in 1.873 seconds (process running for 471.746)
12:18:14.175 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
12:20:08.840 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:20:08.845 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:20:08.882 | INFO | DispatcherServlet: Completed initialization in 36 ms
12:20:08.934 | DEBUG | FilterChainProxy: Securing POST /api/register
12:20:09.002 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:20:09.003 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:20:09.016 | DEBUG | FilterChainProxy: Secured POST /api/register
12:20:09.939 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.shopping@gmail.com
12:28:27.845 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 1292 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:28:27.849 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:28:27.920 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
12:28:27.921 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
12:28:32.698 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:28:32.707 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:28:33.518 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 756 ms. Found 6 JPA repository interfaces.
12:28:33.592 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:28:33.599 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:28:33.738 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:28:33.740 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:28:33.743 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:28:33.750 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:28:33.752 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:28:33.753 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:28:33.755 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 81 ms. Found 0 Redis repository interfaces.
12:28:37.071 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:28:37.143 | INFO | StandardService: Starting service [Tomcat]
12:28:37.145 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:28:37.346 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:28:37.348 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 9426 ms
12:28:38.427 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:28:38.680 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
12:28:38.840 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:28:40.148 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:28:40.265 | INFO | HikariDataSource: HikariPool-1 - Starting...
12:28:41.842 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6903d35f
12:28:41.854 | INFO | HikariDataSource: HikariPool-1 - Start completed.
12:28:42.173 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:28:42.267 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:28:44.520 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:28:45.179 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:28:45.308 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventConfig' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\config\EventConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'registrationSuccessEventListener' defined in file [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\com\bookommerce\auth_server\service\event\RegistrationSuccessEventListener.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.mail.javamail.JavaMailSender' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
12:28:45.314 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
12:28:45.342 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
12:28:45.400 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
12:28:45.412 | INFO | StandardService: Stopping service [Tomcat]
12:28:45.597 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
12:28:45.848 | ERROR | LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener required a bean of type 'org.springframework.mail.javamail.JavaMailSender' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.mail.javamail.JavaMailSender' in your configuration.

12:32:00.959 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 11352 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
12:32:00.962 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
12:32:01.042 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
12:32:01.042 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
12:32:03.429 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:32:03.431 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:32:03.635 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 186 ms. Found 6 JPA repository interfaces.
12:32:03.665 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
12:32:03.668 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
12:32:03.718 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:32:03.720 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:32:03.721 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:32:03.722 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:32:03.724 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:32:03.724 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
12:32:03.725 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
12:32:05.110 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
12:32:05.136 | INFO | StandardService: Starting service [Tomcat]
12:32:05.137 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
12:32:05.224 | INFO | [/]: Initializing Spring embedded WebApplicationContext
12:32:05.225 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4181 ms
12:32:05.736 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
12:32:05.832 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
12:32:05.888 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
12:32:06.378 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
12:32:06.433 | INFO | HikariDataSource: HikariPool-1 - Starting...
12:32:07.762 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@191e3aef
12:32:07.775 | INFO | HikariDataSource: HikariPool-1 - Start completed.
12:32:08.258 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:32:08.515 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:32:10.517 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:32:10.734 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
12:32:11.350 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
12:32:11.966 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
12:32:12.671 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:32:12.673 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:32:12.675 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:32:12.677 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:32:12.679 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:32:12.680 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:32:12.985 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
12:32:12.987 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
12:32:12.987 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
12:32:12.988 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
12:32:12.988 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
12:32:12.989 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
12:32:13.043 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
12:32:13.734 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
12:32:13.755 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
12:32:14.023 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:32:14.933 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
12:32:15.384 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f639e85e48@664b98f2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
12:32:15.473 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:32:16.190 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
12:32:16.395 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
12:32:16.410 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
12:32:16.452 | INFO | AuthServerApplication: Started AuthServerApplication in 16.464 seconds (process running for 18.066)
12:32:18.249 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
12:32:18.249 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
12:32:18.251 | INFO | DispatcherServlet: Completed initialization in 2 ms
12:32:33.596 | DEBUG | FilterChainProxy: Securing POST /api/register
12:32:33.678 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
12:32:33.679 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
12:32:33.700 | DEBUG | FilterChainProxy: Secured POST /api/register
12:32:35.019 | ERROR | RegistrationSuccessEventListener: Failed to send email
org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exceptions (1) are:
Failed message 1: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:410)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:350)
	at org.springframework.mail.javamail.JavaMailSender.send(JavaMailSender.java:101)
	at com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener.send(RegistrationSuccessEventListener.java:50)
	at com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener.onMessage(RegistrationSuccessEventListener.java:32)
	at com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener.onMessage(RegistrationSuccessEventListener.java:1)
	at org.springframework.data.redis.stream.StreamPollTask.deserializeAndEmitRecords(StreamPollTask.java:156)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:127)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:729)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:399)
	... 9 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at org.eclipse.angus.mail.util.SocketFetcher.createSocket(SocketFetcher.java:368)
	at org.eclipse.angus.mail.util.SocketFetcher.getSocket(SocketFetcher.java:243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2193)
	... 13 common frames omitted
12:32:35.036 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.work@gmail.com
15:38:29.350 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.dao.QueryTimeoutException: Redis command timed out
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:68)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisCommandTimeoutException: XREADGROUP. Command timed out after 1 minute(s)
	at io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:75)
	at io.lettuce.core.protocol.CommandExpiryWriter.lambda$null$0(CommandExpiryWriter.java:183)
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:96)
	at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
15:38:58.064 | WARN | HikariPool: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h5m55s324ms600s400ns).
15:39:45.847 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
15:39:45.951 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
15:39:45.968 | INFO | GracefulShutdown: Graceful shutdown complete
15:39:45.991 | WARN | RedisChannelHandler: Connection is already closed
15:39:45.992 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
15:39:46.105 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
15:39:46.134 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
15:39:46.144 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
15:39:46.506 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 11352 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:39:46.508 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:39:48.919 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:39:48.920 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:39:48.969 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 6 JPA repository interfaces.
15:39:48.975 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:39:48.975 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:39:48.986 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:39:48.988 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:39:48.988 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:39:48.989 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:39:48.990 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:39:48.990 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:39:48.991 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
15:39:49.272 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:39:49.279 | INFO | StandardService: Starting service [Tomcat]
15:39:49.280 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:39:49.340 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:39:49.341 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2826 ms
15:39:49.517 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:39:49.520 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:39:49.545 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:39:49.549 | INFO | HikariDataSource: HikariPool-2 - Starting...
15:39:49.575 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@11d07914
15:39:49.576 | INFO | HikariDataSource: HikariPool-2 - Start completed.
15:39:49.582 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:39:49.589 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:39:50.119 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:39:50.302 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:39:50.487 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:39:50.601 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:39:50.602 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:39:50.602 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:39:50.604 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:39:50.604 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:39:50.605 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:39:50.635 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:39:50.637 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:39:50.638 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:39:50.638 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:39:50.638 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:39:50.638 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:39:50.657 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:39:50.694 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:39:50.699 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:39:50.745 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:39:50.936 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:39:51.072 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001f639e85e48@5490e530 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:39:51.138 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:39:51.423 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:39:51.520 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
15:39:51.524 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:39:51.530 | INFO | AuthServerApplication: Started AuthServerApplication in 5.111 seconds (process running for 11278.302)
15:39:51.535 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
15:42:25.855 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 3864 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:42:25.858 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:42:25.933 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
15:42:25.933 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
15:42:29.290 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:42:29.296 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:42:30.465 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 1126 ms. Found 6 JPA repository interfaces.
15:42:30.698 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:42:30.713 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:42:30.999 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:42:31.033 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:42:31.053 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:42:31.188 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:42:31.196 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:42:31.196 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:42:31.199 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 348 ms. Found 0 Redis repository interfaces.
15:42:34.689 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:42:34.792 | INFO | StandardService: Starting service [Tomcat]
15:42:34.794 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:42:35.036 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:42:35.039 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 9104 ms
15:42:36.264 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:42:36.589 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
15:42:36.759 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:42:38.209 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:42:38.352 | INFO | HikariDataSource: HikariPool-1 - Starting...
15:42:39.959 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5eb81b43
15:42:39.967 | INFO | HikariDataSource: HikariPool-1 - Start completed.
15:42:40.188 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:42:40.273 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:42:44.825 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:42:45.182 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:42:46.953 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:42:48.482 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
15:42:50.506 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:42:50.510 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:42:50.515 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:42:50.520 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:42:50.527 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:42:50.532 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:42:51.220 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:42:51.222 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:42:51.223 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:42:51.224 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:42:51.225 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:42:51.226 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:42:51.306 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:42:52.767 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:42:52.813 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:42:53.233 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:42:55.408 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:42:56.875 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c1d5e864c8@bb9d7df with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:42:57.152 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:42:58.571 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:42:59.016 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
15:42:59.060 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:42:59.138 | INFO | AuthServerApplication: Started AuthServerApplication in 34.089 seconds (process running for 35.257)
15:44:10.135 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
15:44:10.137 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
15:44:10.145 | INFO | DispatcherServlet: Completed initialization in 7 ms
15:44:10.243 | DEBUG | FilterChainProxy: Securing POST /api/register
15:44:10.315 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:44:10.317 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
15:44:10.333 | DEBUG | FilterChainProxy: Secured POST /api/register
15:44:11.025 | WARN | ExceptionHandlerExceptionResolver: Resolved [com.bookommerce.auth_server.exception.EmailAlreadyExistedException]
15:45:15.050 | DEBUG | FilterChainProxy: Securing POST /api/register
15:45:15.066 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:45:15.067 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
15:45:15.069 | DEBUG | FilterChainProxy: Secured POST /api/register
15:45:15.654 | ERROR | RegistrationSuccessEventListener: Failed to send email
org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exceptions (1) are:
Failed message 1: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:410)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:350)
	at org.springframework.mail.javamail.JavaMailSender.send(JavaMailSender.java:101)
	at com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener.send(RegistrationSuccessEventListener.java:50)
	at com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener.onMessage(RegistrationSuccessEventListener.java:32)
	at com.bookommerce.auth_server.service.event.RegistrationSuccessEventListener.onMessage(RegistrationSuccessEventListener.java:1)
	at org.springframework.data.redis.stream.StreamPollTask.deserializeAndEmitRecords(StreamPollTask.java:156)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:127)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:729)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:399)
	... 9 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at org.eclipse.angus.mail.util.SocketFetcher.createSocket(SocketFetcher.java:368)
	at org.eclipse.angus.mail.util.SocketFetcher.getSocket(SocketFetcher.java:243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2193)
	... 13 common frames omitted
15:45:15.671 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh@gmail.com
15:46:32.326 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
15:46:32.341 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
15:46:32.355 | INFO | GracefulShutdown: Graceful shutdown complete
15:46:32.368 | WARN | RedisChannelHandler: Connection is already closed
15:46:32.368 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
15:46:32.416 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
15:46:32.426 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
15:46:32.445 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
15:46:32.652 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 3864 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:46:32.653 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:46:33.545 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:46:33.545 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:46:33.595 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 6 JPA repository interfaces.
15:46:33.601 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:46:33.602 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:46:33.611 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:33.611 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:33.612 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:33.613 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:33.614 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:33.615 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:33.615 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
15:46:33.950 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:46:33.951 | INFO | StandardService: Starting service [Tomcat]
15:46:33.951 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:46:33.980 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:46:33.980 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1322 ms
15:46:34.070 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:46:34.073 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:46:34.084 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:46:34.085 | INFO | HikariDataSource: HikariPool-2 - Starting...
15:46:34.108 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2bda503f
15:46:34.109 | INFO | HikariDataSource: HikariPool-2 - Start completed.
15:46:34.111 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:46:34.112 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:46:34.310 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:46:34.393 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:46:34.497 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:46:34.581 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:46:34.582 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:46:34.583 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:46:34.583 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:46:34.583 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:46:34.583 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:46:34.607 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:46:34.608 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:46:34.608 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:46:34.608 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:46:34.609 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:46:34.609 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:46:34.625 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:46:34.659 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:46:34.664 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:46:34.716 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:46:34.901 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:46:34.963 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c1d5e864c8@91612d8 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:46:34.997 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:46:35.134 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:46:35.264 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
15:46:35.273 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:46:35.296 | INFO | AuthServerApplication: Started AuthServerApplication in 2.718 seconds (process running for 251.415)
15:46:35.304 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
15:46:36.808 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
15:46:36.813 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
15:46:36.845 | INFO | GracefulShutdown: Graceful shutdown complete
15:46:36.892 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
15:46:36.896 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
15:46:36.924 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
15:46:37.243 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 3864 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:46:37.244 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:46:37.827 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:46:37.828 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:46:37.860 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
15:46:37.865 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:46:37.865 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:46:37.872 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:37.872 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:37.873 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:37.873 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:37.874 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:37.874 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:37.874 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
15:46:38.009 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:46:38.011 | INFO | StandardService: Starting service [Tomcat]
15:46:38.011 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:46:38.033 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:46:38.033 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 784 ms
15:46:38.098 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:46:38.102 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:46:38.113 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:46:38.115 | INFO | HikariDataSource: HikariPool-3 - Starting...
15:46:38.134 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6803d49e
15:46:38.135 | INFO | HikariDataSource: HikariPool-3 - Start completed.
15:46:38.136 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:46:38.138 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:46:38.311 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:46:38.384 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:46:38.467 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:46:38.557 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:46:38.558 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:46:38.559 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:46:38.560 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:46:38.561 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:46:38.561 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:46:38.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:46:38.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:46:38.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:46:38.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:46:38.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:46:38.588 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:46:38.612 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:46:38.641 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:46:38.646 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:46:38.693 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:46:38.866 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:46:38.928 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001c1d5e864c8@489aa6b4 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:46:38.976 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:46:39.147 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:46:39.227 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
15:46:39.256 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:46:39.290 | INFO | AuthServerApplication: Started AuthServerApplication in 2.108 seconds (process running for 255.409)
15:46:39.293 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
15:46:54.492 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:46:54.496 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:46:54.574 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
15:46:54.574 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
15:46:58.256 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:46:58.259 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:46:58.545 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 274 ms. Found 6 JPA repository interfaces.
15:46:58.568 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:46:58.570 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:46:58.618 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:58.618 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:58.620 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:58.621 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:58.622 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:58.624 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:46:58.624 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
15:46:59.839 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:46:59.873 | INFO | StandardService: Starting service [Tomcat]
15:46:59.875 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:46:59.958 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:46:59.959 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5384 ms
15:47:00.420 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:47:00.536 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
15:47:00.608 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:47:01.077 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:47:01.145 | INFO | HikariDataSource: HikariPool-1 - Starting...
15:47:02.939 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44b98dec
15:47:02.997 | INFO | HikariDataSource: HikariPool-1 - Start completed.
15:47:03.183 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:47:03.245 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:47:05.102 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:47:05.329 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:47:06.064 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:47:06.558 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
15:47:07.229 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:47:07.230 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:47:07.233 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:47:07.234 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:47:07.235 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:47:07.236 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:47:07.479 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:47:07.480 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:47:07.480 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:47:07.480 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:47:07.481 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:47:07.481 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:47:07.510 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:47:08.220 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:47:08.249 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:47:08.426 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:47:09.386 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:47:09.886 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@cd29975 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:47:10.017 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:47:10.661 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:47:10.884 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
15:47:10.938 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:47:10.976 | INFO | AuthServerApplication: Started AuthServerApplication in 17.281 seconds (process running for 18.666)
15:47:12.482 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
15:47:12.482 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
15:47:12.485 | INFO | DispatcherServlet: Completed initialization in 1 ms
15:47:25.720 | DEBUG | FilterChainProxy: Securing POST /api/register
15:47:25.784 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:47:25.785 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
15:47:25.803 | DEBUG | FilterChainProxy: Secured POST /api/register
15:47:27.274 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh@outlook.com
15:47:56.284 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
15:47:56.297 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
15:47:56.312 | INFO | GracefulShutdown: Graceful shutdown complete
15:47:56.323 | WARN | RedisChannelHandler: Connection is already closed
15:47:56.324 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
15:47:56.372 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
15:47:56.380 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
15:47:56.396 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
15:47:56.584 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:47:56.585 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:47:57.401 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:47:57.401 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:47:57.441 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
15:47:57.444 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:47:57.445 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:47:57.452 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:47:57.452 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:47:57.453 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:47:57.453 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:47:57.454 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:47:57.454 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:47:57.454 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
15:47:57.679 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:47:57.680 | INFO | StandardService: Starting service [Tomcat]
15:47:57.681 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:47:57.724 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:47:57.726 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1134 ms
15:47:57.822 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:47:57.824 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:47:57.836 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:47:57.837 | INFO | HikariDataSource: HikariPool-2 - Starting...
15:47:57.861 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70edced0
15:47:57.862 | INFO | HikariDataSource: HikariPool-2 - Start completed.
15:47:57.870 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:47:57.871 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:47:58.104 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:47:58.184 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:47:58.298 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:47:58.398 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:47:58.399 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:47:58.399 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:47:58.400 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:47:58.400 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:47:58.400 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:47:58.428 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:47:58.429 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:47:58.429 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:47:58.429 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:47:58.430 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:47:58.430 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:47:58.452 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:47:58.485 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:47:58.492 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:47:58.540 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:47:58.679 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:47:58.739 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@358454a8 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:47:58.798 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:47:59.049 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:47:59.146 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
15:47:59.151 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:47:59.161 | INFO | AuthServerApplication: Started AuthServerApplication in 2.646 seconds (process running for 66.85)
15:47:59.165 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
15:49:10.220 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
15:49:10.224 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
15:49:10.247 | INFO | GracefulShutdown: Graceful shutdown complete
15:49:10.256 | WARN | RedisChannelHandler: Connection is already closed
15:49:10.260 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
15:49:10.294 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
15:49:10.296 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
15:49:10.315 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
15:49:10.505 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
15:49:10.505 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
15:49:11.201 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:49:11.201 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
15:49:11.254 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 50 ms. Found 6 JPA repository interfaces.
15:49:11.258 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
15:49:11.259 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
15:49:11.269 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:49:11.270 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:49:11.271 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:49:11.272 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:49:11.273 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:49:11.274 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
15:49:11.274 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
15:49:11.528 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
15:49:11.529 | INFO | StandardService: Starting service [Tomcat]
15:49:11.530 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
15:49:11.566 | INFO | [/]: Initializing Spring embedded WebApplicationContext
15:49:11.566 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1057 ms
15:49:11.626 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
15:49:11.629 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
15:49:11.639 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
15:49:11.641 | INFO | HikariDataSource: HikariPool-3 - Starting...
15:49:11.660 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d465b3f
15:49:11.661 | INFO | HikariDataSource: HikariPool-3 - Start completed.
15:49:11.663 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
15:49:11.664 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
15:49:11.845 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
15:49:11.911 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
15:49:11.986 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
15:49:12.076 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:49:12.076 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:49:12.077 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:49:12.077 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:49:12.077 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:49:12.078 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:49:12.105 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
15:49:12.105 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
15:49:12.106 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
15:49:12.106 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
15:49:12.106 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
15:49:12.107 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
15:49:12.131 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
15:49:12.174 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
15:49:12.178 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
15:49:12.216 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
15:49:12.534 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
15:49:12.584 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@5cbcbf89 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
15:49:12.633 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
15:49:12.823 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
15:49:12.926 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
15:49:12.939 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
15:49:12.954 | INFO | AuthServerApplication: Started AuthServerApplication in 2.502 seconds (process running for 140.644)
15:49:12.959 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:01:17.945 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:01:18.028 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:01:18.052 | INFO | GracefulShutdown: Graceful shutdown complete
16:01:18.062 | WARN | RedisChannelHandler: Connection is already closed
16:01:18.067 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:01:18.103 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:01:18.127 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
16:01:18.140 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
16:01:18.553 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:01:18.554 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:01:19.075 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:01:19.075 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:01:19.108 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
16:01:19.111 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:01:19.111 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:01:19.116 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:01:19.117 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:01:19.117 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:01:19.118 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:01:19.119 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:01:19.119 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:01:19.119 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
16:01:19.288 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:01:19.289 | INFO | StandardService: Starting service [Tomcat]
16:01:19.290 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:01:19.310 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:01:19.311 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 754 ms
16:01:19.369 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:01:19.375 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:01:19.386 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:01:19.388 | INFO | HikariDataSource: HikariPool-4 - Starting...
16:01:19.474 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7c6842b2
16:01:19.474 | INFO | HikariDataSource: HikariPool-4 - Start completed.
16:01:19.478 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:01:19.479 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:01:19.660 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:01:19.730 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:01:19.809 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:01:19.864 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:01:19.864 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:01:19.864 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:01:19.865 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:01:19.865 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:01:19.865 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:01:19.889 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:01:19.889 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:01:19.889 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:01:19.890 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:01:19.890 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:01:19.890 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:01:19.899 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:01:19.919 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:01:19.923 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:01:19.949 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:01:20.059 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:01:20.094 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@5b26836 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:01:20.118 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:01:20.269 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:01:20.319 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:01:20.324 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:01:20.331 | INFO | AuthServerApplication: Started AuthServerApplication in 1.835 seconds (process running for 868.02)
16:01:20.334 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:04:44.200 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:04:44.216 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:04:44.225 | INFO | GracefulShutdown: Graceful shutdown complete
16:04:44.233 | WARN | RedisChannelHandler: Connection is already closed
16:04:44.254 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:04:44.258 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
16:04:44.234 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:04:44.281 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
16:04:44.490 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:04:44.491 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:04:44.837 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:04:44.837 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:04:44.873 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 6 JPA repository interfaces.
16:04:44.879 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:04:44.879 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:04:44.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:04:44.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:04:44.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:04:44.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:04:44.887 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:04:44.887 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:04:44.887 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
16:04:45.029 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:04:45.030 | INFO | StandardService: Starting service [Tomcat]
16:04:45.030 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:04:45.051 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:04:45.051 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 558 ms
16:04:45.099 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:04:45.101 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:04:45.111 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:04:45.112 | INFO | HikariDataSource: HikariPool-5 - Starting...
16:04:45.128 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a57644b
16:04:45.129 | INFO | HikariDataSource: HikariPool-5 - Start completed.
16:04:45.131 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:04:45.131 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:04:45.283 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:04:45.336 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:04:45.442 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:04:45.531 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:04:45.532 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:04:45.532 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:04:45.532 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:04:45.533 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:04:45.533 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:04:45.558 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:04:45.559 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:04:45.559 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:04:45.559 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:04:45.559 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:04:45.559 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:04:45.573 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:04:45.597 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:04:45.600 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:04:45.620 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:04:45.710 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:04:45.760 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@12ec8781 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:04:45.791 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:04:45.875 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:04:45.914 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:04:45.917 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:04:45.922 | INFO | AuthServerApplication: Started AuthServerApplication in 1.472 seconds (process running for 1073.611)
16:04:45.925 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:06:31.193 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:06:31.196 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:06:31.202 | INFO | GracefulShutdown: Graceful shutdown complete
16:06:31.205 | WARN | RedisChannelHandler: Connection is already closed
16:06:31.207 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:06:31.213 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:06:31.213 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
16:06:31.223 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
16:06:31.444 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:06:31.445 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:06:31.772 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:06:31.772 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:06:31.802 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
16:06:31.804 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:06:31.804 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:06:31.811 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:31.811 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:31.812 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:31.812 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:31.812 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:31.814 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:31.814 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
16:06:31.931 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:06:31.932 | INFO | StandardService: Starting service [Tomcat]
16:06:31.932 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:06:31.958 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:06:31.958 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 511 ms
16:06:32.011 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:06:32.013 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:06:32.020 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:06:32.021 | INFO | HikariDataSource: HikariPool-6 - Starting...
16:06:32.035 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d36d637
16:06:32.036 | INFO | HikariDataSource: HikariPool-6 - Start completed.
16:06:32.037 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:06:32.038 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:06:32.185 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:06:32.253 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:06:32.344 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:06:32.449 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:06:32.450 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:06:32.451 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:06:32.452 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:06:32.453 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:06:32.453 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:06:32.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:06:32.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:06:32.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:06:32.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:06:32.472 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:06:32.473 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:06:32.488 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:06:32.510 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:06:32.512 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:06:32.533 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:06:32.659 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:06:32.703 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@3ca09e39 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:06:32.731 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:06:32.805 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:06:32.843 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:06:32.848 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:06:32.853 | INFO | AuthServerApplication: Started AuthServerApplication in 1.459 seconds (process running for 1180.542)
16:06:32.856 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:07:30.592 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:07:30.596 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:07:30.602 | INFO | GracefulShutdown: Graceful shutdown complete
16:07:30.604 | WARN | RedisChannelHandler: Connection is already closed
16:07:30.607 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:07:30.613 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:07:30.614 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
16:07:30.619 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
16:07:30.737 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:07:30.738 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:07:30.993 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:07:30.994 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:07:31.013 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 6 JPA repository interfaces.
16:07:31.014 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:07:31.014 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:07:31.021 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:31.022 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:31.022 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:31.022 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:31.023 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:31.023 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:31.023 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
16:07:31.134 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:07:31.134 | INFO | StandardService: Starting service [Tomcat]
16:07:31.135 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:07:31.158 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:07:31.159 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 420 ms
16:07:31.196 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:07:31.199 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:07:31.206 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:07:31.206 | INFO | HikariDataSource: HikariPool-7 - Starting...
16:07:31.219 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35cc0fb6
16:07:31.220 | INFO | HikariDataSource: HikariPool-7 - Start completed.
16:07:31.221 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:07:31.221 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:07:31.395 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:07:31.429 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:07:31.560 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:07:31.611 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:07:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:07:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:07:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:07:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:07:31.612 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:07:31.626 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:07:31.627 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:07:31.627 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:07:31.627 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:07:31.627 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:07:31.627 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:07:31.636 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:07:31.648 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:07:31.651 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:07:31.679 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:07:31.768 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:07:31.799 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@7ad5b9a1 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:07:31.821 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:07:31.895 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:07:31.932 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:07:31.937 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:07:31.941 | INFO | AuthServerApplication: Started AuthServerApplication in 1.227 seconds (process running for 1239.63)
16:07:31.943 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:07:42.576 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:07:42.577 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:07:42.583 | INFO | GracefulShutdown: Graceful shutdown complete
16:07:42.587 | WARN | RedisChannelHandler: Connection is already closed
16:07:42.589 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:07:42.596 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:07:42.597 | INFO | HikariDataSource: HikariPool-7 - Shutdown initiated...
16:07:42.603 | INFO | HikariDataSource: HikariPool-7 - Shutdown completed.
16:07:42.718 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:07:42.718 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:07:42.940 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:07:42.941 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:07:42.961 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 6 JPA repository interfaces.
16:07:42.964 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:07:42.964 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:07:42.968 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:42.968 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:42.969 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:42.969 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:42.969 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:42.969 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:07:42.970 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:07:43.065 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:07:43.066 | INFO | StandardService: Starting service [Tomcat]
16:07:43.066 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:07:43.080 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:07:43.080 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 360 ms
16:07:43.120 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:07:43.122 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:07:43.128 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:07:43.129 | INFO | HikariDataSource: HikariPool-8 - Starting...
16:07:43.137 | INFO | HikariPool: HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@592c481b
16:07:43.137 | INFO | HikariDataSource: HikariPool-8 - Start completed.
16:07:43.140 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:07:43.141 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:07:43.283 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:07:43.321 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:07:43.380 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:07:43.433 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:07:43.434 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:07:43.434 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:07:43.434 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:07:43.434 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:07:43.435 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:07:43.450 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:07:43.451 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:07:43.451 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:07:43.451 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:07:43.451 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:07:43.451 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:07:43.466 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:07:43.484 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:07:43.487 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:07:43.509 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:07:43.600 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:07:43.632 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@14902307 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:07:43.656 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:07:43.740 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:07:43.791 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:07:43.795 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:07:43.799 | INFO | AuthServerApplication: Started AuthServerApplication in 1.103 seconds (process running for 1251.488)
16:07:43.800 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:08:00.157 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
16:08:00.158 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
16:08:00.160 | INFO | DispatcherServlet: Completed initialization in 2 ms
16:08:00.163 | DEBUG | FilterChainProxy: Securing POST /api/register
16:08:00.184 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:08:00.184 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
16:08:00.186 | DEBUG | FilterChainProxy: Secured POST /api/register
16:08:00.817 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.personal@outlook.com
16:24:47.010 | DEBUG | FilterChainProxy: Securing POST /api/register
16:24:47.030 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:24:47.031 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
16:24:47.031 | DEBUG | FilterChainProxy: Secured POST /api/register
16:24:47.233 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.shopping@outlook.com
16:26:40.912 | DEBUG | FilterChainProxy: Securing POST /api/register
16:26:40.916 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:26:40.916 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
16:26:40.917 | DEBUG | FilterChainProxy: Secured POST /api/register
16:26:41.048 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.shoppin@outlook.com
16:31:00.612 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
16:31:00.631 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:31:00.639 | INFO | GracefulShutdown: Graceful shutdown complete
16:31:00.645 | WARN | RedisChannelHandler: Connection is already closed
16:31:00.646 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:31:00.674 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:31:00.678 | INFO | HikariDataSource: HikariPool-8 - Shutdown initiated...
16:31:00.686 | INFO | HikariDataSource: HikariPool-8 - Shutdown completed.
16:31:00.968 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:31:00.969 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:31:01.330 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:01.331 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:31:01.356 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 6 JPA repository interfaces.
16:31:01.359 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:01.359 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:31:01.366 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:01.367 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:01.367 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:01.368 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:01.368 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:01.368 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:01.368 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
16:31:01.501 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:31:01.503 | INFO | StandardService: Starting service [Tomcat]
16:31:01.504 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:31:01.520 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:31:01.521 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 550 ms
16:31:01.580 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:31:01.584 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:31:01.609 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:31:01.611 | INFO | HikariDataSource: HikariPool-9 - Starting...
16:31:01.677 | INFO | HikariPool: HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3977c46b
16:31:01.678 | INFO | HikariDataSource: HikariPool-9 - Start completed.
16:31:01.681 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:31:01.682 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:31:01.690 | ERROR | LocalContainerEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: Entity 'com.bookommerce.auth_server.entity.AccountActivationToken' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
16:31:01.691 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.bookommerce.auth_server.entity.AccountActivationToken' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
16:31:01.692 | INFO | HikariDataSource: HikariPool-9 - Shutdown initiated...
16:31:01.694 | INFO | HikariDataSource: HikariPool-9 - Shutdown completed.
16:31:01.697 | INFO | StandardService: Stopping service [Tomcat]
16:31:01.711 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
16:31:01.754 | ERROR | SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.bookommerce.auth_server.entity.AccountActivationToken' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.hibernate.AnnotationException: Entity 'com.bookommerce.auth_server.entity.AccountActivationToken' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:289) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:226) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:162) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:410) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:251) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:404) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:266) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:281) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:324) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.2.15.jar:6.2.15]
	... 18 common frames omitted
16:31:15.537 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:31:15.537 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:31:15.848 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:15.849 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:31:15.869 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 6 JPA repository interfaces.
16:31:15.871 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:15.872 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:31:15.875 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:15.875 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:15.875 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:15.875 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:15.876 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:15.876 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:15.877 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:31:15.957 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:31:15.959 | INFO | StandardService: Starting service [Tomcat]
16:31:15.959 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:31:15.977 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:31:15.977 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 426 ms
16:31:16.025 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:31:16.028 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:31:16.035 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:31:16.036 | INFO | HikariDataSource: HikariPool-10 - Starting...
16:31:16.049 | INFO | HikariPool: HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62f82de6
16:31:16.050 | INFO | HikariDataSource: HikariPool-10 - Start completed.
16:31:16.051 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:31:16.052 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:31:16.215 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:31:16.561 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:31:16.608 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:31:16.654 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:16.655 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:16.655 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:16.655 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:16.655 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:16.655 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:16.669 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:16.670 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:16.670 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:16.670 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:16.670 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:16.670 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:16.683 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:31:16.704 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:31:16.708 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:31:16.732 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:31:16.827 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:31:16.861 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@2bf99fb5 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:31:16.883 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:31:16.959 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:31:16.994 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:31:16.997 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:31:17.001 | INFO | AuthServerApplication: Started AuthServerApplication in 1.495 seconds (process running for 2664.691)
16:31:17.002 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:31:18.414 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:31:18.415 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:31:18.419 | INFO | GracefulShutdown: Graceful shutdown complete
16:31:18.422 | WARN | RedisChannelHandler: Connection is already closed
16:31:18.422 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:31:18.430 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:31:18.430 | INFO | HikariDataSource: HikariPool-10 - Shutdown initiated...
16:31:18.435 | INFO | HikariDataSource: HikariPool-10 - Shutdown completed.
16:31:18.562 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:31:18.563 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:31:18.792 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:18.792 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:31:18.814 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 6 JPA repository interfaces.
16:31:18.815 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:18.816 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:31:18.819 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:18.819 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:18.819 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:18.819 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:18.820 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:18.820 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:18.820 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
16:31:18.909 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:31:18.911 | INFO | StandardService: Starting service [Tomcat]
16:31:18.911 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:31:18.937 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:31:18.937 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 372 ms
16:31:19.009 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:31:19.012 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:31:19.020 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:31:19.021 | INFO | HikariDataSource: HikariPool-11 - Starting...
16:31:19.034 | INFO | HikariPool: HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38a44e73
16:31:19.034 | INFO | HikariDataSource: HikariPool-11 - Start completed.
16:31:19.057 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:31:19.058 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:31:19.190 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:31:19.223 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:31:19.285 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:31:19.344 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:19.344 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:19.344 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:19.345 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:19.346 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:19.346 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:19.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:19.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:19.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:19.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:19.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:19.368 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:19.383 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:31:19.414 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:31:19.417 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:31:19.469 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:31:19.567 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:31:19.611 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@42f64875 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:31:19.709 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:31:19.778 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:31:19.816 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:31:19.820 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:31:19.826 | INFO | AuthServerApplication: Started AuthServerApplication in 1.288 seconds (process running for 2667.515)
16:31:19.829 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:31:30.475 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:31:30.477 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:31:30.483 | INFO | GracefulShutdown: Graceful shutdown complete
16:31:30.485 | WARN | RedisChannelHandler: Connection is already closed
16:31:30.486 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:31:30.493 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:31:30.494 | INFO | HikariDataSource: HikariPool-11 - Shutdown initiated...
16:31:30.498 | INFO | HikariDataSource: HikariPool-11 - Shutdown completed.
16:31:30.623 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:31:30.624 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:31:30.829 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:30.829 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:31:30.843 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 6 JPA repository interfaces.
16:31:30.845 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:30.846 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:31:30.850 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:30.851 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:30.851 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:30.852 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:30.852 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:30.852 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:30.852 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:31:30.929 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:31:30.931 | INFO | StandardService: Starting service [Tomcat]
16:31:30.931 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:31:30.947 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:31:30.947 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 322 ms
16:31:31.007 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:31:31.009 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:31:31.020 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:31:31.021 | INFO | HikariDataSource: HikariPool-12 - Starting...
16:31:31.035 | INFO | HikariPool: HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c02819
16:31:31.036 | INFO | HikariDataSource: HikariPool-12 - Start completed.
16:31:31.038 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:31:31.038 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:31:31.161 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:31:31.241 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:31:31.303 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:31:31.350 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:31.351 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:31.351 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:31.351 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:31.351 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:31.352 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:31.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:31.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:31.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:31.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:31.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:31.367 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:31.375 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:31:31.397 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:31:31.399 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:31:31.421 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:31:31.504 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:31:31.546 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@27577b97 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:31:31.568 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:31:31.625 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:31:31.660 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:31:31.662 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:31:31.667 | INFO | AuthServerApplication: Started AuthServerApplication in 1.064 seconds (process running for 2679.357)
16:31:31.670 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:31:47.483 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:31:47.485 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:31:47.491 | INFO | GracefulShutdown: Graceful shutdown complete
16:31:47.493 | WARN | RedisChannelHandler: Connection is already closed
16:31:47.494 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:31:47.501 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:31:47.501 | INFO | HikariDataSource: HikariPool-12 - Shutdown initiated...
16:31:47.505 | INFO | HikariDataSource: HikariPool-12 - Shutdown completed.
16:31:47.634 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:31:47.634 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:31:47.866 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:47.867 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:31:47.881 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 6 JPA repository interfaces.
16:31:47.883 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:31:47.883 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:31:47.888 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:47.888 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:47.889 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:47.889 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:47.889 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:47.889 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:31:47.889 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:31:47.956 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:31:47.958 | INFO | StandardService: Starting service [Tomcat]
16:31:47.959 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:31:47.974 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:31:47.974 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 338 ms
16:31:48.017 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:31:48.020 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:31:48.028 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:31:48.029 | INFO | HikariDataSource: HikariPool-13 - Starting...
16:31:48.046 | INFO | HikariPool: HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54e92e0c
16:31:48.046 | INFO | HikariDataSource: HikariPool-13 - Start completed.
16:31:48.048 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:31:48.049 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:31:48.159 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:31:48.188 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:31:48.255 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:31:48.310 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:48.311 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:48.311 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:48.311 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:48.311 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:48.311 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:48.326 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:31:48.327 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:31:48.327 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:31:48.327 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:31:48.327 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:31:48.327 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:31:48.340 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:31:48.362 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:31:48.365 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:31:48.395 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:31:48.535 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:31:48.582 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@32bb3937 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:31:48.614 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:31:48.699 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:31:48.741 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:31:48.745 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:31:48.749 | INFO | AuthServerApplication: Started AuthServerApplication in 1.136 seconds (process running for 2696.438)
16:31:48.751 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:32:10.617 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
16:32:10.619 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:32:10.624 | INFO | GracefulShutdown: Graceful shutdown complete
16:32:10.626 | WARN | RedisChannelHandler: Connection is already closed
16:32:10.628 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:32:10.632 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:32:10.633 | INFO | HikariDataSource: HikariPool-13 - Shutdown initiated...
16:32:10.638 | INFO | HikariDataSource: HikariPool-13 - Shutdown completed.
16:32:10.782 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:32:10.782 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:32:11.052 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:32:11.053 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:32:11.071 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 6 JPA repository interfaces.
16:32:11.073 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:32:11.073 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:32:11.078 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:32:11.079 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:32:11.079 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:32:11.079 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:32:11.079 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:32:11.079 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:32:11.079 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:32:11.153 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:32:11.154 | INFO | StandardService: Starting service [Tomcat]
16:32:11.154 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:32:11.170 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:32:11.171 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 388 ms
16:32:11.212 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:32:11.215 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:32:11.224 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:32:11.225 | INFO | HikariDataSource: HikariPool-14 - Starting...
16:32:11.239 | INFO | HikariPool: HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a9e5d34
16:32:11.239 | INFO | HikariDataSource: HikariPool-14 - Start completed.
16:32:11.241 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:32:11.242 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-14)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:32:11.369 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:32:11.465 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:32:11.511 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:32:11.564 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:32:11.564 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:32:11.565 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:32:11.565 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:32:11.565 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:32:11.565 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:32:11.575 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:32:11.575 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:32:11.576 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:32:11.577 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:32:11.577 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:32:11.577 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:32:11.586 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:32:11.599 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:32:11.601 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:32:11.617 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:32:11.685 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:32:11.714 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@1ad5b9e2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:32:11.734 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:32:11.790 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:32:11.822 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:32:11.826 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:32:11.830 | INFO | AuthServerApplication: Started AuthServerApplication in 1.07 seconds (process running for 2719.519)
16:32:11.831 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:34:18.531 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
16:34:18.534 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:34:18.547 | INFO | GracefulShutdown: Graceful shutdown complete
16:34:18.553 | WARN | RedisChannelHandler: Connection is already closed
16:34:18.556 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:34:18.571 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:34:18.571 | INFO | HikariDataSource: HikariPool-14 - Shutdown initiated...
16:34:18.583 | INFO | HikariDataSource: HikariPool-14 - Shutdown completed.
16:34:18.739 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:34:18.740 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:34:19.010 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:34:19.011 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:34:19.026 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 6 JPA repository interfaces.
16:34:19.028 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:34:19.028 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:34:19.032 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:34:19.032 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:34:19.032 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:34:19.033 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:34:19.033 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:34:19.033 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:34:19.033 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:34:19.107 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:34:19.108 | INFO | StandardService: Starting service [Tomcat]
16:34:19.108 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:34:19.125 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:34:19.125 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 384 ms
16:34:19.162 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:34:19.164 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:34:19.170 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:34:19.170 | INFO | HikariDataSource: HikariPool-15 - Starting...
16:34:19.185 | INFO | HikariPool: HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ead067a
16:34:19.185 | INFO | HikariDataSource: HikariPool-15 - Start completed.
16:34:19.187 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:34:19.187 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-15)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:34:19.219 | ERROR | LocalContainerEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for Java type 'com.bookommerce.auth_server.entity.User'
16:34:19.219 | WARN | AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for Java type 'com.bookommerce.auth_server.entity.User'
16:34:19.220 | INFO | HikariDataSource: HikariPool-15 - Shutdown initiated...
16:34:19.222 | INFO | HikariDataSource: HikariPool-15 - Shutdown completed.
16:34:19.223 | INFO | StandardService: Stopping service [Tomcat]
16:34:19.232 | INFO | ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
16:34:19.235 | ERROR | SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for Java type 'com.bookommerce.auth_server.entity.User'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:973) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.9.jar:3.5.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.9.jar:3.5.9]
	at com.bookommerce.auth_server.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.9.jar:3.5.9]
Caused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for Java type 'com.bookommerce.auth_server.entity.User'
	at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:50) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:195) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.mapping.BasicValue.resolution(BasicValue.java:665) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:462) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:352) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:342) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$6(InFlightMetadataCollectorImpl.java:1827) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at java.base/java.util.ArrayList.removeIf(ArrayList.java:1765) ~[na:na]
	at java.base/java.util.ArrayList.removeIf(ArrayList.java:1743) ~[na:na]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1826) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1812) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:334) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513) ~[hibernate-core-6.6.39.Final.jar:6.6.39.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873) ~[spring-beans-6.2.15.jar:6.2.15]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.2.15.jar:6.2.15]
	... 18 common frames omitted
16:36:31.587 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:36:31.589 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:36:31.872 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:36:31.873 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:36:31.889 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 6 JPA repository interfaces.
16:36:31.891 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:36:31.891 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:36:31.908 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:36:31.908 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:36:31.908 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:36:31.908 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:36:31.908 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:36:31.910 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:36:31.910 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
16:36:31.982 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:36:31.983 | INFO | StandardService: Starting service [Tomcat]
16:36:31.983 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:36:31.998 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:36:31.998 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 408 ms
16:36:32.029 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:36:32.031 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:36:32.040 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:36:32.041 | INFO | HikariDataSource: HikariPool-16 - Starting...
16:36:32.055 | INFO | HikariPool: HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@453964ef
16:36:32.056 | INFO | HikariDataSource: HikariPool-16 - Start completed.
16:36:32.058 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:36:32.058 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-16)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:36:32.167 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:36:32.273 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:36:32.325 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:36:32.364 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:36:32.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:36:32.366 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:36:32.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:36:32.367 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:36:32.367 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:36:32.383 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:36:32.383 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:36:32.383 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:36:32.384 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:36:32.384 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:36:32.384 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:36:32.393 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:36:32.411 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:36:32.413 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:36:32.430 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:36:32.508 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:36:32.537 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@4030ac76 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:36:32.562 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:36:32.621 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:36:32.652 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:36:32.655 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:36:32.659 | INFO | AuthServerApplication: Started AuthServerApplication in 1.089 seconds (process running for 2980.348)
16:36:32.661 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:37:12.998 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:37:13.004 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:37:13.014 | INFO | GracefulShutdown: Graceful shutdown complete
16:37:13.022 | WARN | RedisChannelHandler: Connection is already closed
16:37:13.022 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:37:13.030 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:37:13.031 | INFO | HikariDataSource: HikariPool-16 - Shutdown initiated...
16:37:13.035 | INFO | HikariDataSource: HikariPool-16 - Shutdown completed.
16:37:13.215 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:37:13.216 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:37:13.531 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:13.531 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:37:13.554 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 21 ms. Found 6 JPA repository interfaces.
16:37:13.556 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:13.557 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:37:13.566 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:13.566 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:13.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:13.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:13.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:13.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:13.568 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
16:37:13.670 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:37:13.671 | INFO | StandardService: Starting service [Tomcat]
16:37:13.672 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:37:13.690 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:37:13.690 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 471 ms
16:37:13.744 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:37:13.746 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:37:13.760 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:37:13.762 | INFO | HikariDataSource: HikariPool-17 - Starting...
16:37:13.780 | INFO | HikariPool: HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58e518c5
16:37:13.781 | INFO | HikariDataSource: HikariPool-17 - Start completed.
16:37:13.784 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:37:13.785 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-17)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:37:13.931 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:37:13.971 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:37:14.036 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:37:14.083 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:14.084 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:14.085 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:14.085 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:14.085 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:14.086 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:14.098 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:14.098 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:14.098 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:14.098 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:14.098 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:14.098 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:14.107 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:37:14.121 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:37:14.124 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:37:14.143 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:37:14.213 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:37:14.243 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@56060fdd with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:37:14.264 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:37:14.334 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:37:14.370 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:37:14.373 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:37:14.379 | INFO | AuthServerApplication: Started AuthServerApplication in 1.196 seconds (process running for 3022.068)
16:37:14.380 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:37:15.789 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:37:15.793 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:37:15.799 | INFO | GracefulShutdown: Graceful shutdown complete
16:37:15.804 | WARN | RedisChannelHandler: Connection is already closed
16:37:15.805 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:37:15.809 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:37:15.810 | INFO | HikariDataSource: HikariPool-17 - Shutdown initiated...
16:37:15.812 | INFO | HikariDataSource: HikariPool-17 - Shutdown completed.
16:37:15.952 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:37:15.953 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:37:16.152 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:16.153 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:37:16.172 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 6 JPA repository interfaces.
16:37:16.176 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:16.177 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:37:16.181 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:16.181 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:16.182 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:16.182 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:16.182 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:16.182 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:16.182 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:37:16.245 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:37:16.246 | INFO | StandardService: Starting service [Tomcat]
16:37:16.247 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:37:16.261 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:37:16.262 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 308 ms
16:37:16.291 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:37:16.293 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:37:16.299 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:37:16.300 | INFO | HikariDataSource: HikariPool-18 - Starting...
16:37:16.309 | INFO | HikariPool: HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b1741bb
16:37:16.309 | INFO | HikariDataSource: HikariPool-18 - Start completed.
16:37:16.312 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:37:16.312 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-18)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:37:16.410 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:37:16.455 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:37:16.531 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:37:16.574 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:16.574 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:16.574 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:16.574 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:16.574 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:16.574 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:16.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:16.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:16.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:16.588 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:16.589 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:16.589 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:16.596 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:37:16.609 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:37:16.612 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:37:16.629 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:37:16.693 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:37:16.729 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@61de97a3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:37:16.747 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:37:16.802 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:37:16.831 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:37:16.835 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:37:16.838 | INFO | AuthServerApplication: Started AuthServerApplication in 0.906 seconds (process running for 3024.527)
16:37:16.839 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:37:30.993 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
16:37:30.997 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:37:31.003 | INFO | GracefulShutdown: Graceful shutdown complete
16:37:31.006 | WARN | RedisChannelHandler: Connection is already closed
16:37:31.007 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:37:31.013 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:37:31.014 | INFO | HikariDataSource: HikariPool-18 - Shutdown initiated...
16:37:31.018 | INFO | HikariDataSource: HikariPool-18 - Shutdown completed.
16:37:31.186 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:37:31.186 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:37:31.535 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:31.536 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:37:31.556 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 6 JPA repository interfaces.
16:37:31.561 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:31.561 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:37:31.567 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:31.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:31.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:31.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:31.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:31.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:31.569 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
16:37:31.683 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:37:31.685 | INFO | StandardService: Starting service [Tomcat]
16:37:31.685 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:37:31.717 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:37:31.717 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 530 ms
16:37:31.792 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:37:31.795 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:37:31.801 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:37:31.801 | INFO | HikariDataSource: HikariPool-19 - Starting...
16:37:31.812 | INFO | HikariPool: HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5106356c
16:37:31.812 | INFO | HikariDataSource: HikariPool-19 - Start completed.
16:37:31.814 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:37:31.815 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-19)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:37:31.958 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:37:31.998 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:37:32.107 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:37:32.146 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:32.146 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:32.147 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:32.147 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:32.147 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:32.147 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:32.160 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:32.160 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:32.160 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:32.160 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:32.161 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:32.161 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:32.170 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:37:32.189 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:37:32.192 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:37:32.211 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:37:32.278 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:37:32.309 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@5a643efa with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:37:32.331 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:37:32.381 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:37:32.421 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:37:32.425 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:37:32.428 | INFO | AuthServerApplication: Started AuthServerApplication in 1.266 seconds (process running for 3040.118)
16:37:32.430 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:37:53.290 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
16:37:53.293 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:37:53.301 | INFO | GracefulShutdown: Graceful shutdown complete
16:37:53.305 | WARN | RedisChannelHandler: Connection is already closed
16:37:53.306 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:37:53.335 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:37:53.336 | INFO | HikariDataSource: HikariPool-19 - Shutdown initiated...
16:37:53.339 | INFO | HikariDataSource: HikariPool-19 - Shutdown completed.
16:37:53.501 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:37:53.502 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:37:53.735 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:53.735 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:37:53.756 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 6 JPA repository interfaces.
16:37:53.760 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:37:53.760 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:37:53.765 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:53.766 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:53.767 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:53.767 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:53.767 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:53.767 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:37:53.768 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
16:37:53.847 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:37:53.848 | INFO | StandardService: Starting service [Tomcat]
16:37:53.848 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:37:53.865 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:37:53.866 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 362 ms
16:37:53.899 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:37:53.901 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:37:53.906 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:37:53.906 | INFO | HikariDataSource: HikariPool-20 - Starting...
16:37:53.918 | INFO | HikariPool: HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3213616d
16:37:53.919 | INFO | HikariDataSource: HikariPool-20 - Start completed.
16:37:53.920 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:37:53.920 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-20)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:37:53.996 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:37:54.019 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:37:54.084 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:37:54.134 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:54.135 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:54.135 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:54.136 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:54.136 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:54.136 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:54.154 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:37:54.154 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:37:54.154 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:37:54.166 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:37:54.166 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:37:54.166 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:37:54.179 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:37:54.198 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:37:54.201 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:37:54.220 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:37:54.291 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:37:54.327 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@4e3337f with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:37:54.349 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:37:54.404 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:37:54.436 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:37:54.439 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:37:54.443 | INFO | AuthServerApplication: Started AuthServerApplication in 0.963 seconds (process running for 3062.133)
16:37:54.445 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:40:44.432 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:40:44.436 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:40:44.442 | INFO | GracefulShutdown: Graceful shutdown complete
16:40:44.448 | WARN | RedisChannelHandler: Connection is already closed
16:40:44.449 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:40:44.459 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:40:44.461 | INFO | HikariDataSource: HikariPool-20 - Shutdown initiated...
16:40:44.465 | INFO | HikariDataSource: HikariPool-20 - Shutdown completed.
16:40:44.654 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:40:44.654 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:40:44.894 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:40:44.894 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:40:44.912 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 6 JPA repository interfaces.
16:40:44.914 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:40:44.915 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:40:44.918 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:40:44.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:40:44.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:40:44.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:40:44.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:40:44.920 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:40:44.920 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:40:45.011 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:40:45.012 | INFO | StandardService: Starting service [Tomcat]
16:40:45.012 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:40:45.036 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:40:45.036 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 380 ms
16:40:45.085 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:40:45.088 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:40:45.093 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:40:45.094 | INFO | HikariDataSource: HikariPool-21 - Starting...
16:40:45.109 | INFO | HikariPool: HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@672bd543
16:40:45.109 | INFO | HikariDataSource: HikariPool-21 - Start completed.
16:40:45.112 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:40:45.112 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-21)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:40:45.318 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:40:45.508 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:40:45.602 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:40:45.688 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:40:45.688 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:40:45.691 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:40:45.691 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:40:45.693 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:40:45.693 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:40:45.718 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:40:45.719 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:40:45.719 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:40:45.719 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:40:45.719 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:40:45.719 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:40:45.733 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:40:45.759 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:40:45.761 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:40:45.810 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:40:45.897 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:40:45.965 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@2676d880 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:40:46.001 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:40:46.075 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:40:46.109 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:40:46.112 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:40:46.116 | INFO | AuthServerApplication: Started AuthServerApplication in 1.487 seconds (process running for 3233.806)
16:40:46.117 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:43:08.527 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
16:43:08.536 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:43:08.549 | INFO | GracefulShutdown: Graceful shutdown complete
16:43:08.561 | WARN | RedisChannelHandler: Connection is already closed
16:43:08.562 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:43:08.576 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:43:08.578 | INFO | HikariDataSource: HikariPool-21 - Shutdown initiated...
16:43:08.601 | INFO | HikariDataSource: HikariPool-21 - Shutdown completed.
16:43:09.102 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:43:09.103 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:43:09.499 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:09.500 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:43:09.544 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 7 JPA repository interfaces.
16:43:09.548 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:09.548 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:43:09.555 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.555 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.558 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:09.558 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
16:43:09.705 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:43:09.707 | INFO | StandardService: Starting service [Tomcat]
16:43:09.707 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:43:09.731 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:43:09.731 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 623 ms
16:43:09.797 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:43:09.799 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:43:09.806 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:43:09.806 | INFO | HikariDataSource: HikariPool-22 - Starting...
16:43:09.846 | INFO | HikariPool: HikariPool-22 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7b01520f
16:43:09.848 | INFO | HikariDataSource: HikariPool-22 - Start completed.
16:43:09.849 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:43:09.850 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-22)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:43:09.956 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:43:10.032 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:43:10.102 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:43:10.177 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:10.180 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:10.180 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:10.181 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:10.181 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:10.181 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:10.207 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:10.207 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:10.208 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:10.208 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:10.208 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:10.208 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:10.224 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:43:10.251 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:43:10.256 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:43:10.298 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:43:10.475 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:43:10.550 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@1318148a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:43:10.591 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:43:10.758 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:43:10.801 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:43:10.805 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:43:10.810 | INFO | AuthServerApplication: Started AuthServerApplication in 1.827 seconds (process running for 3378.5)
16:43:10.812 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:43:12.220 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:43:12.222 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:43:12.232 | INFO | GracefulShutdown: Graceful shutdown complete
16:43:12.236 | WARN | RedisChannelHandler: Connection is already closed
16:43:12.237 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:43:12.251 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:43:12.252 | INFO | HikariDataSource: HikariPool-22 - Shutdown initiated...
16:43:12.259 | INFO | HikariDataSource: HikariPool-22 - Shutdown completed.
16:43:12.486 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:43:12.487 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:43:12.822 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:12.822 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:43:12.839 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
16:43:12.841 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:12.841 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:43:12.845 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.845 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.846 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.846 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.846 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.846 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.846 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:12.847 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:43:12.939 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:43:12.940 | INFO | StandardService: Starting service [Tomcat]
16:43:12.940 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:43:12.957 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:43:12.957 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 466 ms
16:43:13.000 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:43:13.003 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:43:13.012 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:43:13.013 | INFO | HikariDataSource: HikariPool-23 - Starting...
16:43:13.025 | INFO | HikariPool: HikariPool-23 - Added connection com.mysql.cj.jdbc.ConnectionImpl@416485cc
16:43:13.026 | INFO | HikariDataSource: HikariPool-23 - Start completed.
16:43:13.028 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:43:13.029 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-23)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:43:13.211 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:43:13.258 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:43:13.322 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:43:13.393 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:13.393 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:13.393 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:13.395 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:13.395 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:13.395 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:13.414 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:13.414 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:13.414 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:13.414 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:13.415 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:13.415 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:13.426 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:43:13.443 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:43:13.447 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:43:13.469 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:43:13.564 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:43:13.604 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@7b4fd96 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:43:13.631 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:43:13.722 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:43:13.758 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:43:13.761 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:43:13.766 | INFO | AuthServerApplication: Started AuthServerApplication in 1.314 seconds (process running for 3381.455)
16:43:13.768 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:43:21.333 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:43:21.336 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:43:21.343 | INFO | GracefulShutdown: Graceful shutdown complete
16:43:21.346 | WARN | RedisChannelHandler: Connection is already closed
16:43:21.348 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:43:21.352 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:43:21.353 | INFO | HikariDataSource: HikariPool-23 - Shutdown initiated...
16:43:21.356 | INFO | HikariDataSource: HikariPool-23 - Shutdown completed.
16:43:21.535 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:43:21.535 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:43:21.845 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:21.846 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:43:21.874 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 7 JPA repository interfaces.
16:43:21.877 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:21.877 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:43:21.883 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.883 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:21.886 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
16:43:21.962 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:43:21.962 | INFO | StandardService: Starting service [Tomcat]
16:43:21.964 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:43:21.978 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:43:21.978 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 441 ms
16:43:22.021 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:43:22.022 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:43:22.027 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:43:22.028 | INFO | HikariDataSource: HikariPool-24 - Starting...
16:43:22.039 | INFO | HikariPool: HikariPool-24 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74090b65
16:43:22.039 | INFO | HikariDataSource: HikariPool-24 - Start completed.
16:43:22.040 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:43:22.041 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-24)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:43:22.122 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:43:22.147 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:43:22.205 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:43:22.245 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:22.246 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:22.246 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:22.246 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:22.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:22.247 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:22.263 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:22.263 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:22.264 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:22.264 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:22.264 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:22.264 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:22.273 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:43:22.290 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:43:22.291 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:43:22.336 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:43:22.446 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:43:22.505 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@11ad41a3 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:43:22.549 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:43:22.633 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:43:22.686 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:43:22.690 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:43:22.694 | INFO | AuthServerApplication: Started AuthServerApplication in 1.18 seconds (process running for 3390.384)
16:43:22.696 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:43:57.977 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:43:57.979 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:43:57.985 | INFO | GracefulShutdown: Graceful shutdown complete
16:43:57.988 | WARN | RedisChannelHandler: Connection is already closed
16:43:57.990 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:43:57.995 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:43:57.996 | INFO | HikariDataSource: HikariPool-24 - Shutdown initiated...
16:43:57.999 | INFO | HikariDataSource: HikariPool-24 - Shutdown completed.
16:43:58.178 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:43:58.178 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:43:58.448 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:58.448 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:43:58.468 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
16:43:58.469 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:43:58.469 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:43:58.474 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.474 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.474 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.475 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.475 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.475 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.475 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:43:58.475 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:43:58.560 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:43:58.561 | INFO | StandardService: Starting service [Tomcat]
16:43:58.561 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:43:58.577 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:43:58.577 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 397 ms
16:43:58.611 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:43:58.613 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:43:58.619 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:43:58.620 | INFO | HikariDataSource: HikariPool-25 - Starting...
16:43:58.631 | INFO | HikariPool: HikariPool-25 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28c9f83d
16:43:58.631 | INFO | HikariDataSource: HikariPool-25 - Start completed.
16:43:58.633 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:43:58.633 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-25)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:43:58.728 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:43:58.775 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:43:58.840 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:43:58.888 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:58.888 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:58.888 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:58.888 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:58.888 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:58.888 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:58.902 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:43:58.902 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:43:58.902 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:43:58.902 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:43:58.902 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:43:58.902 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:43:58.912 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:43:58.936 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:43:58.938 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:43:58.961 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:43:59.129 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:43:59.304 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@7deae5ad with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:43:59.354 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:43:59.442 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:43:59.480 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:43:59.484 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:43:59.488 | INFO | AuthServerApplication: Started AuthServerApplication in 1.328 seconds (process running for 3427.177)
16:43:59.489 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:44:20.420 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:44:20.423 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:44:20.433 | INFO | GracefulShutdown: Graceful shutdown complete
16:44:20.437 | WARN | RedisChannelHandler: Connection is already closed
16:44:20.437 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:44:20.445 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:44:20.447 | INFO | HikariDataSource: HikariPool-25 - Shutdown initiated...
16:44:20.453 | INFO | HikariDataSource: HikariPool-25 - Shutdown completed.
16:44:20.645 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:44:20.645 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:44:20.874 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:44:20.875 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:44:20.891 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
16:44:20.893 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:44:20.893 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:44:20.897 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.897 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.897 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.898 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.898 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.898 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.898 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:20.898 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:44:20.967 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:44:20.967 | INFO | StandardService: Starting service [Tomcat]
16:44:20.968 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:44:20.982 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:44:20.983 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 336 ms
16:44:21.015 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:44:21.017 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:44:21.022 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:44:21.022 | INFO | HikariDataSource: HikariPool-26 - Starting...
16:44:21.032 | INFO | HikariPool: HikariPool-26 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1fc41a9d
16:44:21.033 | INFO | HikariDataSource: HikariPool-26 - Start completed.
16:44:21.034 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:44:21.034 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-26)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:44:21.104 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:44:21.133 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:44:21.185 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:44:21.225 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:44:21.226 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:44:21.226 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:44:21.226 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:44:21.226 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:44:21.227 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:44:21.240 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:44:21.240 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:44:21.240 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:44:21.240 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:44:21.241 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:44:21.241 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:44:21.250 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:44:21.266 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:44:21.268 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:44:21.285 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:44:21.383 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:44:21.422 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@6aead365 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:44:21.452 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:44:21.536 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:44:21.571 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:44:21.574 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:44:21.578 | INFO | AuthServerApplication: Started AuthServerApplication in 0.957 seconds (process running for 3449.268)
16:44:21.580 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:44:48.667 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:44:48.669 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:44:48.674 | INFO | GracefulShutdown: Graceful shutdown complete
16:44:48.676 | WARN | RedisChannelHandler: Connection is already closed
16:44:48.677 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:44:48.683 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:44:48.683 | INFO | HikariDataSource: HikariPool-26 - Shutdown initiated...
16:44:48.687 | INFO | HikariDataSource: HikariPool-26 - Shutdown completed.
16:44:48.876 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:44:48.877 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:44:49.185 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:44:49.185 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:44:49.202 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
16:44:49.204 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:44:49.205 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:44:49.208 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.209 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.209 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.209 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.209 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.209 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.210 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:44:49.210 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:44:49.292 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:44:49.292 | INFO | StandardService: Starting service [Tomcat]
16:44:49.293 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:44:49.310 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:44:49.311 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 433 ms
16:44:49.349 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:44:49.352 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:44:49.358 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:44:49.359 | INFO | HikariDataSource: HikariPool-27 - Starting...
16:44:49.372 | INFO | HikariPool: HikariPool-27 - Added connection com.mysql.cj.jdbc.ConnectionImpl@72e15e2
16:44:49.373 | INFO | HikariDataSource: HikariPool-27 - Start completed.
16:44:49.374 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:44:49.374 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-27)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:44:49.458 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:44:49.492 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:44:49.545 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:44:49.583 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:44:49.584 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:44:49.584 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:44:49.584 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:44:49.585 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:44:49.585 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:44:49.600 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:44:49.601 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:44:49.601 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:44:49.601 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:44:49.601 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:44:49.601 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:44:49.610 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:44:49.624 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:44:49.626 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:44:49.645 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:44:49.714 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:44:49.758 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@5f061de2 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:44:49.780 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:44:49.852 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:44:49.902 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:44:49.907 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:44:49.912 | INFO | AuthServerApplication: Started AuthServerApplication in 1.064 seconds (process running for 3477.602)
16:44:49.915 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:45:04.700 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:45:04.704 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:45:04.709 | INFO | GracefulShutdown: Graceful shutdown complete
16:45:04.712 | WARN | RedisChannelHandler: Connection is already closed
16:45:04.713 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:45:04.717 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:45:04.718 | INFO | HikariDataSource: HikariPool-27 - Shutdown initiated...
16:45:04.721 | INFO | HikariDataSource: HikariPool-27 - Shutdown completed.
16:45:04.893 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:45:04.894 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:45:05.091 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:45:05.092 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:45:05.109 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
16:45:05.111 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:45:05.111 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:45:05.114 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.114 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.114 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.114 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.116 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.117 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.117 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:05.117 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:45:05.186 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:45:05.187 | INFO | StandardService: Starting service [Tomcat]
16:45:05.187 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:45:05.208 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:45:05.208 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 313 ms
16:45:05.265 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:45:05.266 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:45:05.272 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:45:05.274 | INFO | HikariDataSource: HikariPool-28 - Starting...
16:45:05.285 | INFO | HikariPool: HikariPool-28 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a905017
16:45:05.286 | INFO | HikariDataSource: HikariPool-28 - Start completed.
16:45:05.288 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:45:05.288 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-28)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:45:05.377 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:45:05.418 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:45:05.488 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:45:05.537 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:45:05.538 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:45:05.538 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:45:05.538 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:45:05.538 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:45:05.539 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:45:05.552 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:45:05.553 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:45:05.553 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:45:05.553 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:45:05.553 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:45:05.553 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:45:05.561 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:45:05.578 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:45:05.580 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:45:05.602 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:45:05.686 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:45:05.718 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@6cbc989a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:45:05.750 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:45:05.826 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:45:05.863 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:45:05.867 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:45:05.872 | INFO | AuthServerApplication: Started AuthServerApplication in 0.998 seconds (process running for 3493.561)
16:45:05.873 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:45:38.091 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:45:38.093 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:45:38.098 | INFO | GracefulShutdown: Graceful shutdown complete
16:45:38.102 | WARN | RedisChannelHandler: Connection is already closed
16:45:38.102 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:45:38.108 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:45:38.109 | INFO | HikariDataSource: HikariPool-28 - Shutdown initiated...
16:45:38.115 | INFO | HikariDataSource: HikariPool-28 - Shutdown completed.
16:45:38.303 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:45:38.304 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:45:38.517 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:45:38.517 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:45:38.533 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
16:45:38.535 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:45:38.536 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:45:38.540 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.541 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.541 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.541 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.542 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.542 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.542 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:45:38.542 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:45:38.611 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:45:38.612 | INFO | StandardService: Starting service [Tomcat]
16:45:38.613 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:45:38.632 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:45:38.632 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 327 ms
16:45:38.667 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:45:38.667 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:45:38.674 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:45:38.675 | INFO | HikariDataSource: HikariPool-29 - Starting...
16:45:38.683 | INFO | HikariPool: HikariPool-29 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6588085d
16:45:38.684 | INFO | HikariDataSource: HikariPool-29 - Start completed.
16:45:38.686 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:45:38.686 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-29)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:45:38.769 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:45:38.803 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:45:38.856 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:45:38.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:45:38.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:45:38.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:45:38.912 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:45:38.912 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:45:38.912 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:45:38.923 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:45:38.924 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:45:38.924 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:45:38.924 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:45:38.924 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:45:38.924 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:45:38.932 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:45:38.945 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:45:38.947 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:45:38.966 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:45:39.035 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:45:39.064 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@41ec8980 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:45:39.085 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:45:39.171 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:45:39.215 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:45:39.219 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:45:39.223 | INFO | AuthServerApplication: Started AuthServerApplication in 0.941 seconds (process running for 3526.912)
16:45:39.227 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:46:03.144 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:46:03.148 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:46:03.153 | INFO | GracefulShutdown: Graceful shutdown complete
16:46:03.156 | WARN | RedisChannelHandler: Connection is already closed
16:46:03.157 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:46:03.161 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:46:03.162 | INFO | HikariDataSource: HikariPool-29 - Shutdown initiated...
16:46:03.165 | INFO | HikariDataSource: HikariPool-29 - Shutdown completed.
16:46:03.344 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:46:03.345 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:46:03.548 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:46:03.548 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:46:03.566 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 7 JPA repository interfaces.
16:46:03.569 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:46:03.570 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:46:03.573 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.573 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.573 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.573 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.574 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.574 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.574 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:46:03.574 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:46:03.665 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:46:03.666 | INFO | StandardService: Starting service [Tomcat]
16:46:03.666 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:46:03.685 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:46:03.686 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 339 ms
16:46:03.723 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:46:03.725 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:46:03.731 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:46:03.731 | INFO | HikariDataSource: HikariPool-30 - Starting...
16:46:03.743 | INFO | HikariPool: HikariPool-30 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d30c9c6
16:46:03.744 | INFO | HikariDataSource: HikariPool-30 - Start completed.
16:46:03.745 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:46:03.746 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-30)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:46:03.820 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:46:03.856 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:46:03.908 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:46:03.941 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:46:03.942 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:46:03.942 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:46:03.942 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:46:03.943 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:46:03.943 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:46:03.958 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:46:03.959 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:46:03.959 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:46:03.959 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:46:03.959 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:46:03.959 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:46:03.968 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:46:03.983 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:46:03.986 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:46:04.001 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:46:04.061 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:46:04.093 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@f4ac9f9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:46:04.122 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:46:04.207 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:46:04.249 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:46:04.254 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:46:04.258 | INFO | AuthServerApplication: Started AuthServerApplication in 0.931 seconds (process running for 3551.948)
16:46:04.260 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:48:36.146 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:48:36.237 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:48:36.282 | INFO | GracefulShutdown: Graceful shutdown complete
16:48:36.380 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:48:36.400 | INFO | HikariDataSource: HikariPool-30 - Shutdown initiated...
16:48:36.446 | INFO | HikariDataSource: HikariPool-30 - Shutdown completed.
16:48:37.361 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:48:37.362 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:48:37.847 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:48:37.847 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:48:37.869 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 7 JPA repository interfaces.
16:48:37.872 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:48:37.873 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:48:37.876 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.877 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.877 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.877 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.878 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.878 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.878 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:48:37.878 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:48:37.975 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:48:37.977 | INFO | StandardService: Starting service [Tomcat]
16:48:37.977 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:48:37.997 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:48:37.998 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 632 ms
16:48:38.043 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:48:38.046 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:48:38.062 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:48:38.064 | INFO | HikariDataSource: HikariPool-31 - Starting...
16:48:38.142 | INFO | HikariPool: HikariPool-31 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67e8711c
16:48:38.142 | INFO | HikariDataSource: HikariPool-31 - Start completed.
16:48:38.145 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:48:38.145 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-31)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:48:38.361 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:48:38.484 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:48:38.653 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:48:38.754 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:48:38.755 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:48:38.755 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:48:38.756 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:48:38.756 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:48:38.756 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:48:38.787 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:48:38.787 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:48:38.788 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:48:38.788 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:48:38.788 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:48:38.788 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:48:38.808 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:48:38.844 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:48:38.846 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:48:38.881 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:48:38.999 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:48:39.051 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@70a7f0ed with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:48:39.087 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:48:39.319 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:48:39.409 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:48:39.414 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:48:39.426 | INFO | AuthServerApplication: Started AuthServerApplication in 2.142 seconds (process running for 3707.115)
16:48:39.428 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:51:47.716 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:51:47.724 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:51:47.745 | INFO | GracefulShutdown: Graceful shutdown complete
16:51:47.757 | WARN | RedisChannelHandler: Connection is already closed
16:51:47.762 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:51:47.790 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:51:47.796 | INFO | HikariDataSource: HikariPool-31 - Shutdown initiated...
16:51:47.806 | INFO | HikariDataSource: HikariPool-31 - Shutdown completed.
16:51:48.369 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:51:48.370 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:51:48.720 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:51:48.720 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:51:48.746 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 24 ms. Found 7 JPA repository interfaces.
16:51:48.748 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:51:48.748 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:51:48.754 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.754 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.754 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.755 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.755 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.756 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.756 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:51:48.756 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
16:51:48.854 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:51:48.855 | INFO | StandardService: Starting service [Tomcat]
16:51:48.855 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:51:48.877 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:51:48.878 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 501 ms
16:51:48.921 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:51:48.925 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:51:48.932 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:51:48.933 | INFO | HikariDataSource: HikariPool-32 - Starting...
16:51:48.950 | INFO | HikariPool: HikariPool-32 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1deb14ab
16:51:48.950 | INFO | HikariDataSource: HikariPool-32 - Start completed.
16:51:48.952 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:51:48.952 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-32)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:51:49.051 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:51:49.102 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:51:49.177 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:51:49.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:51:49.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:51:49.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:51:49.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:51:49.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:51:49.229 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:51:49.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:51:49.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:51:49.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:51:49.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:51:49.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:51:49.247 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:51:49.255 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:51:49.271 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:51:49.275 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:51:49.298 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:51:49.390 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:51:49.434 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@59acb3df with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:51:49.470 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:51:49.580 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:51:49.649 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:51:49.655 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:51:49.664 | INFO | AuthServerApplication: Started AuthServerApplication in 1.382 seconds (process running for 3897.353)
16:51:49.665 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:52:01.312 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:52:01.314 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:52:01.320 | INFO | GracefulShutdown: Graceful shutdown complete
16:52:01.324 | WARN | RedisChannelHandler: Connection is already closed
16:52:01.324 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:52:01.330 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:52:01.331 | INFO | HikariDataSource: HikariPool-32 - Shutdown initiated...
16:52:01.335 | INFO | HikariDataSource: HikariPool-32 - Shutdown completed.
16:52:01.565 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:52:01.566 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:52:01.872 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:52:01.873 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:52:01.889 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 7 JPA repository interfaces.
16:52:01.891 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:52:01.891 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:52:01.895 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.895 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.895 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.895 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.895 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.896 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.896 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:01.896 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:52:01.964 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:52:01.966 | INFO | StandardService: Starting service [Tomcat]
16:52:01.966 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:52:01.985 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:52:01.985 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 416 ms
16:52:02.024 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:52:02.027 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:52:02.033 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:52:02.034 | INFO | HikariDataSource: HikariPool-33 - Starting...
16:52:02.048 | INFO | HikariPool: HikariPool-33 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e9a2e83
16:52:02.048 | INFO | HikariDataSource: HikariPool-33 - Start completed.
16:52:02.050 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:52:02.051 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-33)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:52:02.131 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:52:02.160 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:52:02.210 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:52:02.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:52:02.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:52:02.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:52:02.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:52:02.247 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:52:02.248 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:52:02.259 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:52:02.259 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:52:02.259 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:52:02.259 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:52:02.260 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:52:02.260 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:52:02.267 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:52:02.289 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:52:02.291 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:52:02.307 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:52:02.378 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:52:02.411 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@15d3f05 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:52:02.433 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:52:02.500 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:52:02.543 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:52:02.549 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:52:02.553 | INFO | AuthServerApplication: Started AuthServerApplication in 1.021 seconds (process running for 3910.242)
16:52:02.554 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:52:07.429 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
16:52:07.430 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:52:07.437 | INFO | GracefulShutdown: Graceful shutdown complete
16:52:07.441 | WARN | RedisChannelHandler: Connection is already closed
16:52:07.443 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:52:07.447 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:52:07.448 | INFO | HikariDataSource: HikariPool-33 - Shutdown initiated...
16:52:07.451 | INFO | HikariDataSource: HikariPool-33 - Shutdown completed.
16:52:07.696 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:52:07.697 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:52:08.009 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:52:08.010 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:52:08.033 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 21 ms. Found 7 JPA repository interfaces.
16:52:08.035 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:52:08.036 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:52:08.039 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.040 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.040 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.041 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.041 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.041 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.041 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:52:08.041 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:52:08.131 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:52:08.133 | INFO | StandardService: Starting service [Tomcat]
16:52:08.133 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:52:08.158 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:52:08.158 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 459 ms
16:52:08.217 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:52:08.220 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:52:08.227 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:52:08.228 | INFO | HikariDataSource: HikariPool-34 - Starting...
16:52:08.242 | INFO | HikariPool: HikariPool-34 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e9a04b4
16:52:08.242 | INFO | HikariDataSource: HikariPool-34 - Start completed.
16:52:08.244 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:52:08.245 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-34)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:52:08.390 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:52:08.440 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:52:08.526 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:52:08.584 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:52:08.586 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:52:08.586 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:52:08.586 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:52:08.587 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:52:08.587 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:52:08.610 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:52:08.610 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:52:08.610 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:52:08.610 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:52:08.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:52:08.612 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:52:08.629 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:52:08.667 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:52:08.672 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:52:08.714 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:52:08.818 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:52:08.863 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@2564b2fe with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:52:08.900 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:52:08.995 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:52:09.059 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:52:09.066 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:52:09.072 | INFO | AuthServerApplication: Started AuthServerApplication in 1.404 seconds (process running for 3916.762)
16:52:09.075 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:53:13.081 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:53:13.086 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:53:13.093 | INFO | GracefulShutdown: Graceful shutdown complete
16:53:13.097 | WARN | RedisChannelHandler: Connection is already closed
16:53:13.098 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:53:13.106 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:53:13.107 | INFO | HikariDataSource: HikariPool-34 - Shutdown initiated...
16:53:13.112 | INFO | HikariDataSource: HikariPool-34 - Shutdown completed.
16:53:13.424 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:53:13.424 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:53:13.787 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:53:13.787 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:53:13.815 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 7 JPA repository interfaces.
16:53:13.818 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:53:13.818 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:53:13.824 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.824 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.824 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.824 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.824 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.824 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.825 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:53:13.825 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:53:14.031 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:53:14.032 | INFO | StandardService: Starting service [Tomcat]
16:53:14.032 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:53:14.059 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:53:14.060 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 632 ms
16:53:14.112 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:53:14.115 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:53:14.122 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:53:14.123 | INFO | HikariDataSource: HikariPool-35 - Starting...
16:53:14.140 | INFO | HikariPool: HikariPool-35 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2783e81
16:53:14.140 | INFO | HikariDataSource: HikariPool-35 - Start completed.
16:53:14.144 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:53:14.145 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-35)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:53:14.245 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:53:14.302 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:53:14.380 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:53:14.424 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:53:14.424 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:53:14.424 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:53:14.425 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:53:14.425 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:53:14.425 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:53:14.440 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:53:14.441 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:53:14.441 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:53:14.441 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:53:14.442 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:53:14.442 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:53:14.456 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:53:14.485 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:53:14.489 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:53:14.517 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:53:14.613 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:53:14.657 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@407d7566 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:53:14.688 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:53:14.790 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:53:14.859 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:53:14.867 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:53:14.874 | INFO | AuthServerApplication: Started AuthServerApplication in 1.49 seconds (process running for 3982.563)
16:53:14.876 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:54:22.030 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:54:22.034 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:54:22.048 | INFO | GracefulShutdown: Graceful shutdown complete
16:54:22.054 | WARN | RedisChannelHandler: Connection is already closed
16:54:22.055 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:54:22.075 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:54:22.079 | INFO | HikariDataSource: HikariPool-35 - Shutdown initiated...
16:54:22.084 | INFO | HikariDataSource: HikariPool-35 - Shutdown completed.
16:54:22.294 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:54:22.294 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:54:22.499 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:54:22.499 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:54:22.519 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 7 JPA repository interfaces.
16:54:22.520 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:54:22.520 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:54:22.524 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.524 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.524 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.524 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.524 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.525 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.525 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:54:22.525 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
16:54:22.595 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:54:22.597 | INFO | StandardService: Starting service [Tomcat]
16:54:22.597 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:54:22.611 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:54:22.611 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 315 ms
16:54:22.644 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:54:22.645 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:54:22.652 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:54:22.652 | INFO | HikariDataSource: HikariPool-36 - Starting...
16:54:22.662 | INFO | HikariPool: HikariPool-36 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44df01e
16:54:22.663 | INFO | HikariDataSource: HikariPool-36 - Start completed.
16:54:22.665 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:54:22.665 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-36)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:54:22.752 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:54:22.784 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:54:22.850 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:54:22.895 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:54:22.895 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:54:22.895 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:54:22.896 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:54:22.896 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:54:22.896 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:54:22.909 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:54:22.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:54:22.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:54:22.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:54:22.911 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:54:22.911 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:54:22.923 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:54:22.944 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:54:22.947 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:54:22.969 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:54:23.066 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:54:23.119 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@3005cf44 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:54:23.143 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:54:23.254 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:54:23.311 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:54:23.315 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:54:23.320 | INFO | AuthServerApplication: Started AuthServerApplication in 1.044 seconds (process running for 4051.009)
16:54:23.322 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:55:28.409 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:55:28.433 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:55:28.442 | INFO | GracefulShutdown: Graceful shutdown complete
16:55:28.451 | WARN | RedisChannelHandler: Connection is already closed
16:55:28.452 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
16:55:28.466 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:55:28.470 | INFO | HikariDataSource: HikariPool-36 - Shutdown initiated...
16:55:28.477 | INFO | HikariDataSource: HikariPool-36 - Shutdown completed.
16:55:28.944 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 2260 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:55:28.945 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:55:29.227 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:55:29.227 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:55:29.267 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
16:55:29.271 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:55:29.271 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:55:29.276 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.276 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.276 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.276 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.277 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.277 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.277 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:55:29.277 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
16:55:29.572 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:55:29.575 | INFO | StandardService: Starting service [Tomcat]
16:55:29.575 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:55:29.613 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:55:29.614 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 667 ms
16:55:29.694 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:55:29.696 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:55:29.707 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:55:29.708 | INFO | HikariDataSource: HikariPool-37 - Starting...
16:55:29.763 | INFO | HikariPool: HikariPool-37 - Added connection com.mysql.cj.jdbc.ConnectionImpl@400cacc7
16:55:29.764 | INFO | HikariDataSource: HikariPool-37 - Start completed.
16:55:29.765 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:55:29.767 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-37)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:55:29.900 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:55:29.992 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:55:30.084 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:55:30.156 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:55:30.158 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:55:30.158 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:55:30.158 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:55:30.158 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:55:30.159 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:55:30.194 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:55:30.194 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:55:30.194 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:55:30.196 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:55:30.196 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:55:30.197 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:55:30.230 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
16:55:30.292 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
16:55:30.302 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
16:55:30.489 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:55:30.800 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:55:30.844 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028610e87798@6fee9b38 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:55:30.874 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:55:30.958 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
16:55:31.033 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:55:31.039 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:55:31.055 | INFO | AuthServerApplication: Started AuthServerApplication in 2.152 seconds (process running for 4118.744)
16:55:31.057 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:55:48.269 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
16:55:48.270 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
16:55:48.274 | INFO | DispatcherServlet: Completed initialization in 4 ms
16:55:48.278 | DEBUG | FilterChainProxy: Securing POST /api/register
16:55:48.293 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:55:48.293 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
16:55:48.296 | DEBUG | FilterChainProxy: Secured POST /api/register
16:55:48.974 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.learning@outlook.com
17:07:01.048 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 17400 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
17:07:01.051 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
17:07:01.121 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
17:07:01.121 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
17:07:03.978 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
17:07:03.982 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
17:07:04.264 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 262 ms. Found 7 JPA repository interfaces.
17:07:04.289 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
17:07:04.291 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
17:07:04.322 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.322 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.324 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.325 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.327 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:07:04.327 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
17:07:05.821 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
17:07:05.857 | INFO | StandardService: Starting service [Tomcat]
17:07:05.858 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
17:07:05.960 | INFO | [/]: Initializing Spring embedded WebApplicationContext
17:07:05.961 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4838 ms
17:07:06.505 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
17:07:06.607 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
17:07:06.701 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
17:07:07.131 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
17:07:07.174 | INFO | HikariDataSource: HikariPool-1 - Starting...
17:07:07.679 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@76ef50e7
17:07:07.683 | INFO | HikariDataSource: HikariPool-1 - Start completed.
17:07:07.773 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
17:07:07.832 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
17:07:09.143 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
17:07:09.308 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
17:07:10.023 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
17:07:10.713 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
17:07:11.602 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
17:07:11.604 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
17:07:11.606 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
17:07:11.609 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
17:07:11.610 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
17:07:11.612 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
17:07:11.982 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
17:07:11.983 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
17:07:11.984 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
17:07:11.984 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
17:07:11.984 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
17:07:11.984 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
17:07:12.032 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
17:07:12.698 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
17:07:12.713 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
17:07:12.930 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
17:07:13.699 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
17:07:14.178 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015342e90000@462adce0 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
17:07:14.283 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
17:07:14.790 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
17:07:14.938 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
17:07:14.953 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
17:07:14.977 | INFO | AuthServerApplication: Started AuthServerApplication in 14.544 seconds (process running for 15.351)
17:07:15.997 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
17:07:15.997 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
17:07:16.000 | INFO | DispatcherServlet: Completed initialization in 1 ms
17:07:53.469 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=20544bfa-ea2d-4332-873c-4699ed8078f0
17:07:53.499 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:07:53.517 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/api/account/activate?token=20544bfa-ea2d-4332-873c-4699ed8078f0&continue to session
17:07:53.523 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@4b58e2dd, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
17:07:53.524 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2da12aa1
17:07:53.526 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
17:07:53.611 | DEBUG | FilterChainProxy: Securing GET /page/login
17:07:53.613 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:07:53.614 | DEBUG | FilterChainProxy: Secured GET /page/login
17:08:32.526 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
17:08:32.534 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
17:08:32.545 | INFO | GracefulShutdown: Graceful shutdown complete
17:08:32.557 | WARN | RedisChannelHandler: Connection is already closed
17:08:32.561 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
17:08:32.608 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
17:08:32.617 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
17:08:32.649 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
17:08:32.852 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 17400 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
17:08:32.854 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
17:08:33.594 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
17:08:33.595 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
17:08:33.655 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 57 ms. Found 7 JPA repository interfaces.
17:08:33.664 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
17:08:33.664 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
17:08:33.675 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.677 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.677 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.678 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.678 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.679 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.679 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:08:33.680 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
17:08:33.905 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
17:08:33.907 | INFO | StandardService: Starting service [Tomcat]
17:08:33.908 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
17:08:33.938 | INFO | [/]: Initializing Spring embedded WebApplicationContext
17:08:33.938 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1078 ms
17:08:34.011 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
17:08:34.014 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
17:08:34.025 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
17:08:34.026 | INFO | HikariDataSource: HikariPool-2 - Starting...
17:08:34.043 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7ba9f12f
17:08:34.043 | INFO | HikariDataSource: HikariPool-2 - Start completed.
17:08:34.046 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
17:08:34.047 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
17:08:34.315 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
17:08:34.389 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
17:08:34.542 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
17:08:34.677 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
17:08:34.678 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
17:08:34.679 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
17:08:34.680 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
17:08:34.680 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
17:08:34.681 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
17:08:34.715 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
17:08:34.715 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
17:08:34.715 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
17:08:34.715 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
17:08:34.715 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
17:08:34.716 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
17:08:34.738 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
17:08:34.772 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
17:08:34.776 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
17:08:34.827 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
17:08:35.019 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
17:08:35.119 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000015342e90000@a93cf30 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
17:08:35.193 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
17:08:35.335 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
17:08:35.409 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
17:08:35.413 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
17:08:35.424 | INFO | AuthServerApplication: Started AuthServerApplication in 2.635 seconds (process running for 95.798)
17:08:35.427 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
17:08:37.025 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
17:08:37.025 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
17:08:37.027 | INFO | DispatcherServlet: Completed initialization in 2 ms
17:08:37.030 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=20544bfa-ea2d-4332-873c-4699ed8078f0
17:08:37.032 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:08:37.035 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=20544bfa-ea2d-4332-873c-4699ed8078f0
17:55:00.102 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
17:55:00.106 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
17:55:00.201 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
17:55:00.202 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
17:55:03.201 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
17:55:03.204 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
17:55:03.538 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 313 ms. Found 7 JPA repository interfaces.
17:55:03.606 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
17:55:03.609 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
17:55:03.653 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.657 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.658 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.659 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.662 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.664 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.666 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
17:55:03.667 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
17:55:05.128 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
17:55:05.169 | INFO | StandardService: Starting service [Tomcat]
17:55:05.173 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
17:55:05.270 | INFO | [/]: Initializing Spring embedded WebApplicationContext
17:55:05.272 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5069 ms
17:55:05.751 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
17:55:05.858 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
17:55:05.953 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
17:55:06.506 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
17:55:06.563 | INFO | HikariDataSource: HikariPool-1 - Starting...
17:55:07.501 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5dc2e36c
17:55:07.507 | INFO | HikariDataSource: HikariPool-1 - Start completed.
17:55:07.697 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
17:55:07.734 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
17:55:10.186 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
17:55:10.689 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
17:55:11.389 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
17:55:12.011 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
17:55:12.965 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
17:55:12.968 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
17:55:12.970 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
17:55:12.971 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
17:55:12.973 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
17:55:12.975 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
17:55:13.321 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
17:55:13.322 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
17:55:13.323 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
17:55:13.323 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
17:55:13.324 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
17:55:13.324 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
17:55:13.388 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
17:55:14.375 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
17:55:14.420 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
17:55:14.793 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
17:55:17.028 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
17:55:18.129 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@30c0e58e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
17:55:18.357 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
17:55:19.759 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
17:55:20.115 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
17:55:20.116 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
17:55:20.121 | INFO | DispatcherServlet: Completed initialization in 4 ms
17:55:20.224 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
17:55:20.283 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
17:55:20.311 | INFO | AuthServerApplication: Started AuthServerApplication in 21.236 seconds (process running for 24.417)
17:55:37.921 | DEBUG | FilterChainProxy: Securing POST /api/register
17:55:38.005 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:55:38.006 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
17:55:38.026 | DEBUG | FilterChainProxy: Secured POST /api/register
17:55:40.481 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.learnin@outlook.com
17:56:15.642 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
17:56:15.682 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:15.686 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
17:56:15.840 | DEBUG | FilterChainProxy: Securing GET /page/login?activation_success
17:56:15.843 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:15.846 | DEBUG | FilterChainProxy: Secured GET /page/login?activation_success
17:56:34.902 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
17:56:34.906 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:34.910 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
17:56:34.950 | DEBUG | FilterChainProxy: Securing GET /page/login?account_activation_token_not_found
17:56:34.953 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:34.957 | DEBUG | FilterChainProxy: Secured GET /page/login?account_activation_token_not_found
17:56:43.926 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f1507774
17:56:43.931 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:43.934 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f1507774
17:56:43.958 | DEBUG | FilterChainProxy: Securing GET /page/login?invalid_account_activation_token_format
17:56:43.961 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:43.965 | DEBUG | FilterChainProxy: Secured GET /page/login?invalid_account_activation_token_format
17:56:55.902 | DEBUG | FilterChainProxy: Securing GET /api/account/activate
17:56:55.906 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:55.908 | DEBUG | FilterChainProxy: Secured GET /api/account/activate
17:56:55.929 | DEBUG | FilterChainProxy: Securing GET /page/login?account_activation_token_not_found
17:56:55.954 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:56:55.963 | DEBUG | FilterChainProxy: Secured GET /page/login?account_activation_token_not_found
17:57:27.538 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
17:57:27.542 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:57:27.544 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
17:57:27.579 | DEBUG | FilterChainProxy: Securing GET /page/login?account_activation_token_not_found
17:57:27.582 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:57:27.583 | DEBUG | FilterChainProxy: Secured GET /page/login?account_activation_token_not_found
18:00:13.233 | DEBUG | FilterChainProxy: Securing GET /page/login?account_activation_token_not_found
18:00:13.251 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:00:13.258 | DEBUG | FilterChainProxy: Secured GET /page/login?account_activation_token_not_found
18:00:29.431 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f1507774
18:00:29.434 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:00:29.437 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f1507774
18:00:29.466 | DEBUG | FilterChainProxy: Securing GET /page/login?invalid_account_activation_token_format
18:00:29.469 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:00:29.472 | DEBUG | FilterChainProxy: Secured GET /page/login?invalid_account_activation_token_format
18:00:36.885 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
18:00:36.890 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:00:36.896 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=60610841-4f7a-4f88-b3df-f99f15077748
18:00:36.981 | DEBUG | FilterChainProxy: Securing GET /page/login?account_activation_token_not_found
18:00:36.983 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:00:36.987 | DEBUG | FilterChainProxy: Secured GET /page/login?account_activation_token_not_found
18:01:07.678 | DEBUG | FilterChainProxy: Securing POST /api/register
18:01:07.697 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:01:07.698 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
18:01:07.702 | DEBUG | FilterChainProxy: Secured POST /api/register
18:01:08.227 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.learn@outlook.com
18:01:19.155 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=4e6921fa-17fe-45b5-8ae6-8f2af3c9a22b
18:01:19.159 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:01:19.162 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=4e6921fa-17fe-45b5-8ae6-8f2af3c9a22b
18:01:19.241 | DEBUG | FilterChainProxy: Securing GET /page/login?activation_success
18:01:19.244 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:01:19.247 | DEBUG | FilterChainProxy: Secured GET /page/login?activation_success
18:03:19.671 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
18:03:19.840 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:03:19.936 | INFO | GracefulShutdown: Graceful shutdown complete
18:03:19.972 | WARN | RedisChannelHandler: Connection is already closed
18:03:19.973 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
18:03:20.148 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:03:20.229 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
18:03:20.255 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
18:03:21.046 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
18:03:21.047 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
18:03:22.007 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:03:22.009 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:03:22.049 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
18:03:22.054 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:03:22.055 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:03:22.074 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.076 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.077 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.079 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.080 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.080 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.081 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:03:22.081 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
18:03:22.444 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
18:03:22.445 | INFO | StandardService: Starting service [Tomcat]
18:03:22.446 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:03:22.485 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:03:22.486 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1429 ms
18:03:22.578 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:03:22.582 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:03:22.605 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:03:22.607 | INFO | HikariDataSource: HikariPool-2 - Starting...
18:03:22.711 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3eeb2be1
18:03:22.711 | INFO | HikariDataSource: HikariPool-2 - Start completed.
18:03:22.715 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:03:22.716 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:03:23.401 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:03:23.561 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:03:23.717 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
18:03:23.836 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
18:03:23.837 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
18:03:23.838 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
18:03:23.839 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
18:03:23.839 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
18:03:23.840 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
18:03:23.879 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
18:03:23.879 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
18:03:23.879 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
18:03:23.880 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
18:03:23.880 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
18:03:23.880 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
18:03:23.902 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
18:03:23.940 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:03:23.944 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
18:03:23.990 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
18:03:24.169 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
18:03:24.272 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@7ce3dbbe with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
18:03:24.334 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:03:24.513 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
18:03:25.110 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
18:03:25.136 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
18:03:25.246 | INFO | AuthServerApplication: Started AuthServerApplication in 4.331 seconds (process running for 509.352)
18:03:25.312 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:03:37.620 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
18:03:37.621 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
18:03:37.626 | INFO | DispatcherServlet: Completed initialization in 5 ms
18:03:37.634 | DEBUG | FilterChainProxy: Securing POST /api/register
18:03:37.654 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:03:37.656 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
18:03:37.666 | DEBUG | FilterChainProxy: Secured POST /api/register
18:03:38.281 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Sent email to: nguyenvietanh.work@outlook.com
18:03:51.230 | DEBUG | FilterChainProxy: Securing GET /page/login
18:03:51.233 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:03:51.235 | DEBUG | FilterChainProxy: Secured GET /page/login
18:04:00.733 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
18:04:00.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:04:00.764 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
18:04:01.099 | DEBUG | DaoAuthenticationProvider: Failed to authenticate since user account is disabled
18:04:01.115 | DEBUG | ProviderManager: Authentication failed for user 'nguyenvietanh.work@outlook.com' since their account status is User is disabled
org.springframework.security.authentication.DisabledException: User is disabled
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider$DefaultPreAuthenticationChecks.check(AbstractUserDetailsAuthenticationProvider.java:334) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:149) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.5.7.jar:6.5.7]
	at com.bookommerce.auth_server.service.AuthService.login(AuthService.java:79) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.15.jar:6.2.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.15.jar:6.2.15]
	at com.bookommerce.auth_server.service.AuthService$$SpringCGLIB$$0.login(<generated>) ~[classes/:na]
	at com.bookommerce.auth_server.controller.AuthController.login(AuthController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142) ~[spring-session-core-3.5.4.jar:3.5.4]
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82) ~[spring-session-core-3.5.4.jar:3.5.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
18:04:01.181 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@10e1d312, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]
18:04:01.183 | DEBUG | DelegatingAuthenticationEntryPoint: Trying to match using MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@6fe9ff47, matchingMediaTypes=[application/json], useEquals=false, ignoredMediaTypes=[]]
18:04:01.183 | DEBUG | DelegatingAuthenticationEntryPoint: Match found! Executing org.springframework.security.web.authentication.HttpStatusEntryPoint@629a9289
18:07:47.410 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=1350b697-82cd-40e4-a2bd-728d10e47cd1
18:07:47.415 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:07:47.418 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=1350b697-82cd-40e4-a2bd-728d10e47cd1
18:07:47.502 | DEBUG | FilterChainProxy: Securing GET /page/login?activation_success
18:07:47.505 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:07:47.507 | DEBUG | FilterChainProxy: Secured GET /page/login?activation_success
18:08:02.562 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
18:08:02.567 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:08:02.569 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
18:08:02.851 | DEBUG | DaoAuthenticationProvider: Authenticated user
18:08:02.881 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.work@outlook.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@48c96d3f]
19:34:40.880 | WARN | HikariPool: HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1h26m23s241ms316s300ns).
19:41:13.946 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:41:14.046 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:41:14.074 | INFO | GracefulShutdown: Graceful shutdown complete
19:41:14.094 | WARN | RedisChannelHandler: Connection is already closed
19:41:14.096 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:41:14.144 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:41:14.171 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
19:41:14.183 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
19:41:14.790 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:41:14.791 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:41:15.626 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:41:15.626 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:41:15.668 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 39 ms. Found 7 JPA repository interfaces.
19:41:15.672 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:41:15.673 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:41:15.680 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.681 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.681 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.681 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.682 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.683 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.683 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:41:15.683 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
19:41:15.907 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:41:15.911 | INFO | StandardService: Starting service [Tomcat]
19:41:15.911 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:41:15.939 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:41:15.940 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1145 ms
19:41:16.037 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:41:16.042 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:41:16.053 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:41:16.055 | INFO | HikariDataSource: HikariPool-3 - Starting...
19:41:16.078 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40cf8970
19:41:16.080 | INFO | HikariDataSource: HikariPool-3 - Start completed.
19:41:16.084 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:41:16.084 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:41:16.380 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:41:16.459 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:41:16.594 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:41:16.663 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:41:16.663 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:41:16.663 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:41:16.664 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:41:16.664 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:41:16.664 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:41:16.683 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:41:16.683 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:41:16.683 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:41:16.683 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:41:16.683 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:41:16.683 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:41:16.694 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:41:16.712 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:41:16.716 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:41:16.742 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:41:16.889 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:41:16.968 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@465fe23c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:41:17.012 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:41:17.171 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:41:17.226 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:41:17.230 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:41:17.236 | INFO | AuthServerApplication: Started AuthServerApplication in 2.513 seconds (process running for 6386.602)
19:41:17.240 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:42:08.913 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
19:42:08.916 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:42:08.921 | INFO | GracefulShutdown: Graceful shutdown complete
19:42:08.926 | WARN | RedisChannelHandler: Connection is already closed
19:42:08.932 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:42:08.949 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:42:08.951 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
19:42:08.960 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
19:42:09.102 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:42:09.102 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:42:09.540 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:42:09.540 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:42:09.562 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 21 ms. Found 7 JPA repository interfaces.
19:42:09.565 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:42:09.565 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:42:09.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.569 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.569 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.570 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.570 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.570 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.570 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:42:09.570 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
19:42:09.678 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:42:09.679 | INFO | StandardService: Starting service [Tomcat]
19:42:09.680 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:42:09.704 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:42:09.705 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 599 ms
19:42:09.758 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:42:09.760 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:42:09.767 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:42:09.768 | INFO | HikariDataSource: HikariPool-4 - Starting...
19:42:09.781 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@597cc4c
19:42:09.782 | INFO | HikariDataSource: HikariPool-4 - Start completed.
19:42:09.785 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:42:09.786 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:42:09.986 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:42:10.028 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:42:10.103 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:42:10.154 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:42:10.155 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:42:10.156 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:42:10.156 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:42:10.157 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:42:10.157 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:42:10.172 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:42:10.173 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:42:10.173 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:42:10.173 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:42:10.173 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:42:10.173 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:42:10.182 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:42:10.198 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:42:10.201 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:42:10.233 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:42:10.329 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:42:10.367 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@6df3a1cd with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:42:10.395 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:42:10.499 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:42:10.546 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:42:10.551 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:42:10.560 | INFO | AuthServerApplication: Started AuthServerApplication in 1.495 seconds (process running for 6439.927)
19:42:10.563 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:43:53.358 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
19:43:53.361 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:43:53.367 | INFO | GracefulShutdown: Graceful shutdown complete
19:43:53.368 | WARN | RedisChannelHandler: Connection is already closed
19:43:53.371 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:43:53.381 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:43:53.381 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
19:43:53.387 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
19:43:53.501 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:43:53.501 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:43:53.783 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:43:53.784 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:43:53.810 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 24 ms. Found 7 JPA repository interfaces.
19:43:53.815 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:43:53.815 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:43:53.825 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.826 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.826 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.826 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.827 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.827 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.827 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:43:53.827 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
19:43:53.955 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:43:53.956 | INFO | StandardService: Starting service [Tomcat]
19:43:53.956 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:43:53.973 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:43:53.973 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 470 ms
19:43:54.031 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:43:54.033 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:43:54.040 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:43:54.041 | INFO | HikariDataSource: HikariPool-5 - Starting...
19:43:54.054 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5563eed4
19:43:54.055 | INFO | HikariDataSource: HikariPool-5 - Start completed.
19:43:54.057 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:43:54.058 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:43:54.273 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:43:54.318 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:43:54.398 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:43:54.448 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:43:54.448 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:43:54.449 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:43:54.450 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:43:54.450 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:43:54.450 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:43:54.470 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:43:54.470 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:43:54.470 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:43:54.470 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:43:54.470 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:43:54.470 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:43:54.484 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:43:54.500 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:43:54.503 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:43:54.546 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:43:54.689 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:43:54.732 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@6ef55203 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:43:54.753 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:43:54.852 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:43:54.899 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:43:54.904 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:43:54.909 | INFO | AuthServerApplication: Started AuthServerApplication in 1.433 seconds (process running for 6544.275)
19:43:54.912 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:44:03.486 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:44:03.488 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:44:03.495 | INFO | GracefulShutdown: Graceful shutdown complete
19:44:03.498 | WARN | RedisChannelHandler: Connection is already closed
19:44:03.498 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:44:03.507 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:44:03.508 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
19:44:03.514 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
19:44:03.638 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:44:03.638 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:44:03.996 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:03.996 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:44:04.021 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 7 JPA repository interfaces.
19:44:04.024 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:04.024 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:44:04.030 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.031 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.031 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.031 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.032 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.032 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.033 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:04.033 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
19:44:04.205 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:44:04.206 | INFO | StandardService: Starting service [Tomcat]
19:44:04.207 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:44:04.239 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:44:04.239 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 599 ms
19:44:04.315 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:44:04.317 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:44:04.329 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:44:04.330 | INFO | HikariDataSource: HikariPool-6 - Starting...
19:44:04.346 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55cef679
19:44:04.346 | INFO | HikariDataSource: HikariPool-6 - Start completed.
19:44:04.348 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:44:04.348 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:44:04.469 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:44:04.519 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:44:04.618 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:44:04.720 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:44:04.721 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:44:04.721 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:44:04.721 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:44:04.722 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:44:04.722 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:44:04.737 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:44:04.737 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:44:04.737 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:44:04.738 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:44:04.738 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:44:04.738 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:44:04.752 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:44:04.772 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:44:04.777 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:44:04.801 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:44:04.955 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:44:04.994 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@fc09d8a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:44:05.018 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:44:05.089 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:44:05.123 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:44:05.126 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:44:05.130 | INFO | AuthServerApplication: Started AuthServerApplication in 1.525 seconds (process running for 6554.497)
19:44:05.132 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:44:38.312 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:44:38.315 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:44:38.320 | INFO | GracefulShutdown: Graceful shutdown complete
19:44:38.322 | WARN | RedisChannelHandler: Connection is already closed
19:44:38.324 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:44:38.334 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:44:38.335 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
19:44:38.345 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
19:44:38.506 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:44:38.506 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:44:38.877 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:38.878 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:44:38.897 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
19:44:38.899 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:38.900 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:44:38.904 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:38.905 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:44:39.041 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:44:39.041 | INFO | StandardService: Starting service [Tomcat]
19:44:39.041 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:44:39.065 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:44:39.067 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 556 ms
19:44:39.118 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:44:39.121 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:44:39.128 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:44:39.129 | INFO | HikariDataSource: HikariPool-7 - Starting...
19:44:39.138 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37f62df2
19:44:39.139 | INFO | HikariDataSource: HikariPool-7 - Start completed.
19:44:39.140 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:44:39.141 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:44:39.240 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:44:39.290 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:44:39.374 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:44:39.435 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:44:39.436 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:44:39.436 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:44:39.438 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:44:39.438 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:44:39.439 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:44:39.464 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:44:39.464 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:44:39.464 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:44:39.464 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:44:39.464 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:44:39.465 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:44:39.486 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:44:39.508 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:44:39.513 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:44:39.557 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:44:39.724 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:44:39.771 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@112363a6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:44:39.797 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:44:39.884 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:44:39.919 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:44:39.921 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:44:39.925 | INFO | AuthServerApplication: Started AuthServerApplication in 1.461 seconds (process running for 6589.292)
19:44:39.929 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:50:53.093 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:50:53.301 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:50:53.347 | INFO | GracefulShutdown: Graceful shutdown complete
19:50:53.383 | WARN | RedisChannelHandler: Connection is already closed
19:50:53.386 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:50:53.473 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:50:53.516 | INFO | HikariDataSource: HikariPool-7 - Shutdown initiated...
19:50:53.556 | INFO | HikariDataSource: HikariPool-7 - Shutdown completed.
19:50:54.611 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:50:54.612 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:50:55.508 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:50:55.509 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:50:55.613 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 100 ms. Found 7 JPA repository interfaces.
19:50:55.620 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:50:55.622 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:50:55.640 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.642 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.642 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.643 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.644 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.644 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.644 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:50:55.644 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
19:50:56.007 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:50:56.011 | INFO | StandardService: Starting service [Tomcat]
19:50:56.012 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:50:56.051 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:50:56.052 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1435 ms
19:50:56.139 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:50:56.145 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:50:56.165 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:50:56.168 | INFO | HikariDataSource: HikariPool-8 - Starting...
19:50:56.201 | INFO | HikariPool: HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43a42b23
19:50:56.202 | INFO | HikariDataSource: HikariPool-8 - Start completed.
19:50:56.207 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:50:56.209 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:50:56.490 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:50:56.569 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:50:56.734 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:50:56.867 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:50:56.868 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:50:56.868 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:50:56.869 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:50:56.869 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:50:56.869 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:50:56.914 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:50:56.914 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:50:56.914 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:50:56.914 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:50:56.916 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:50:56.916 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:50:56.940 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:50:56.972 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:50:56.978 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:50:57.057 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:50:57.284 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:50:57.359 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@6fd0a799 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:50:57.415 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:50:57.567 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:50:57.644 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:50:57.649 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:50:57.658 | INFO | AuthServerApplication: Started AuthServerApplication in 3.169 seconds (process running for 6967.024)
19:50:57.661 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:51:06.291 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:51:06.294 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:51:06.307 | INFO | GracefulShutdown: Graceful shutdown complete
19:51:06.310 | WARN | RedisChannelHandler: Connection is already closed
19:51:06.313 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:51:06.331 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:51:06.334 | INFO | HikariDataSource: HikariPool-8 - Shutdown initiated...
19:51:06.345 | INFO | HikariDataSource: HikariPool-8 - Shutdown completed.
19:51:06.531 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:51:06.531 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:51:06.926 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:51:06.928 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:51:06.958 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
19:51:06.964 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:51:06.964 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:51:06.971 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.971 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.972 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.972 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.973 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.973 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.974 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.974 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
19:51:07.099 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:51:07.101 | INFO | StandardService: Starting service [Tomcat]
19:51:07.101 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:51:07.138 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:51:07.139 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 605 ms
19:51:07.232 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:51:07.238 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:51:07.250 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:51:07.255 | INFO | HikariDataSource: HikariPool-9 - Starting...
19:51:07.274 | INFO | HikariPool: HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68821c45
19:51:07.275 | INFO | HikariDataSource: HikariPool-9 - Start completed.
19:51:07.277 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:51:07.278 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:51:07.480 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:51:07.555 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:51:07.660 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:51:07.775 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:51:07.776 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:51:07.776 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:51:07.776 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:51:07.777 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:51:07.778 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:51:07.807 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:51:07.807 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:51:07.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:51:07.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:51:07.808 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:51:07.809 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:51:07.841 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:51:07.872 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:51:07.879 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:51:07.928 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:51:08.090 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:51:08.145 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@69ea8af1 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:51:08.179 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:51:08.292 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:51:08.352 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:51:08.356 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:51:08.362 | INFO | AuthServerApplication: Started AuthServerApplication in 1.871 seconds (process running for 6977.728)
19:51:08.365 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:51:51.842 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:51:51.844 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:51:51.849 | INFO | GracefulShutdown: Graceful shutdown complete
19:51:51.852 | WARN | RedisChannelHandler: Connection is already closed
19:51:51.853 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:51:51.863 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:51:51.864 | INFO | HikariDataSource: HikariPool-9 - Shutdown initiated...
19:51:51.870 | INFO | HikariDataSource: HikariPool-9 - Shutdown completed.
19:51:52.023 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:51:52.023 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:51:52.382 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:51:52.382 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:51:52.417 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 7 JPA repository interfaces.
19:51:52.420 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:51:52.420 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:51:52.426 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.426 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.426 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.428 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.428 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.428 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.429 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:52.429 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
19:51:52.563 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:51:52.564 | INFO | StandardService: Starting service [Tomcat]
19:51:52.565 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:51:52.602 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:51:52.603 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 578 ms
19:51:52.659 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:51:52.662 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:51:52.670 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:51:52.671 | INFO | HikariDataSource: HikariPool-10 - Starting...
19:51:52.687 | INFO | HikariPool: HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69422637
19:51:52.688 | INFO | HikariDataSource: HikariPool-10 - Start completed.
19:51:52.690 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:51:52.690 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:51:52.844 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:51:52.895 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:51:52.986 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:51:53.065 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:51:53.067 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:51:53.067 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:51:53.068 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:51:53.068 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:51:53.068 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:51:53.092 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:51:53.092 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:51:53.092 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:51:53.092 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:51:53.093 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:51:53.093 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:51:53.110 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:51:53.140 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:51:53.144 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:51:53.229 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:51:53.449 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:51:53.528 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@5d8760ab with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:51:53.580 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:51:53.687 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:51:53.741 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:51:53.745 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:51:53.751 | INFO | AuthServerApplication: Started AuthServerApplication in 1.759 seconds (process running for 7023.117)
19:51:53.754 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:52:02.321 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:52:02.323 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:52:02.329 | INFO | GracefulShutdown: Graceful shutdown complete
19:52:02.332 | WARN | RedisChannelHandler: Connection is already closed
19:52:02.334 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:52:02.341 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:52:02.342 | INFO | HikariDataSource: HikariPool-10 - Shutdown initiated...
19:52:02.346 | INFO | HikariDataSource: HikariPool-10 - Shutdown completed.
19:52:02.497 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:52:02.498 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:52:03.056 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:03.058 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:52:03.133 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 73 ms. Found 7 JPA repository interfaces.
19:52:03.142 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:03.145 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:52:03.157 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.158 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.163 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.167 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.168 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.171 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.175 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:03.177 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
19:52:03.508 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:52:03.511 | INFO | StandardService: Starting service [Tomcat]
19:52:03.513 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:52:03.558 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:52:03.558 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1058 ms
19:52:03.654 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:52:03.659 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:52:03.670 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:52:03.670 | INFO | HikariDataSource: HikariPool-11 - Starting...
19:52:03.693 | INFO | HikariPool: HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c3a3d79
19:52:03.697 | INFO | HikariDataSource: HikariPool-11 - Start completed.
19:52:03.699 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:52:03.701 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:52:03.881 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:52:03.942 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:52:04.075 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:52:04.227 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:52:04.227 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:52:04.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:52:04.228 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:52:04.229 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:52:04.230 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:52:04.258 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:52:04.260 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:52:04.260 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:52:04.260 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:52:04.261 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:52:04.261 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:52:04.311 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:52:04.376 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:52:04.383 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:52:04.425 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:52:04.540 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:52:04.587 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@3e36061c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:52:04.618 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:52:04.694 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:52:04.740 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:52:04.744 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:52:04.749 | INFO | AuthServerApplication: Started AuthServerApplication in 2.281 seconds (process running for 7034.115)
19:52:04.751 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:52:06.133 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:52:06.135 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:52:06.144 | INFO | GracefulShutdown: Graceful shutdown complete
19:52:06.152 | WARN | RedisChannelHandler: Connection is already closed
19:52:06.153 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:52:06.159 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:52:06.160 | INFO | HikariDataSource: HikariPool-11 - Shutdown initiated...
19:52:06.164 | INFO | HikariDataSource: HikariPool-11 - Shutdown completed.
19:52:06.324 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:52:06.326 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:52:06.640 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:06.640 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:52:06.665 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 24 ms. Found 7 JPA repository interfaces.
19:52:06.669 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:06.670 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:52:06.675 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.675 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.676 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.676 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.676 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.677 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.677 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:06.677 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
19:52:06.783 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:52:06.784 | INFO | StandardService: Starting service [Tomcat]
19:52:06.784 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:52:06.806 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:52:06.806 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 479 ms
19:52:06.850 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:52:06.854 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:52:06.863 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:52:06.864 | INFO | HikariDataSource: HikariPool-12 - Starting...
19:52:06.876 | INFO | HikariPool: HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e6da166
19:52:06.878 | INFO | HikariDataSource: HikariPool-12 - Start completed.
19:52:06.879 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:52:06.880 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:52:07.008 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:52:07.066 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:52:07.195 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:52:07.287 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:52:07.287 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:52:07.288 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:52:07.288 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:52:07.289 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:52:07.289 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:52:07.332 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:52:07.333 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:52:07.333 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:52:07.333 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:52:07.334 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:52:07.334 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:52:07.354 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:52:07.381 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:52:07.385 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:52:07.417 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:52:07.528 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:52:07.575 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@3cc19fb9 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:52:07.606 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:52:07.685 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:52:07.729 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:52:07.733 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:52:07.738 | INFO | AuthServerApplication: Started AuthServerApplication in 1.442 seconds (process running for 7037.104)
19:52:07.740 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:52:30.723 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:52:30.726 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:52:30.732 | INFO | GracefulShutdown: Graceful shutdown complete
19:52:30.733 | WARN | RedisChannelHandler: Connection is already closed
19:52:30.737 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:52:30.742 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:52:30.742 | INFO | HikariDataSource: HikariPool-12 - Shutdown initiated...
19:52:30.746 | INFO | HikariDataSource: HikariPool-12 - Shutdown completed.
19:52:30.883 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 4732 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
19:52:30.884 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
19:52:31.114 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:31.114 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:52:31.133 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 7 JPA repository interfaces.
19:52:31.135 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:31.136 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:52:31.139 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.AccountActivationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.140 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.141 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:31.143 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:52:31.221 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
19:52:31.222 | INFO | StandardService: Starting service [Tomcat]
19:52:31.222 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:52:31.239 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:52:31.240 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 355 ms
19:52:31.285 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:52:31.287 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:52:31.294 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:52:31.294 | INFO | HikariDataSource: HikariPool-13 - Starting...
19:52:31.309 | INFO | HikariPool: HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7011a152
19:52:31.309 | INFO | HikariDataSource: HikariPool-13 - Start completed.
19:52:31.311 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:52:31.312 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:52:31.407 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:52:31.446 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:52:31.520 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
19:52:31.580 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:52:31.590 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:52:31.591 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:52:31.592 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:52:31.593 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:52:31.593 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:52:31.611 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
19:52:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
19:52:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
19:52:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
19:52:31.612 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
19:52:31.612 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
19:52:31.626 | INFO | EventConfig: Creating consumer group: [stream=registration-success, group=registration-success-group]
19:52:31.641 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:52:31.644 | INFO | EventConfig: Starting listener container: [stream=registration-success, group=registration-success-group]
19:52:31.670 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
19:52:31.745 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
19:52:31.787 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002f819e966f0@4e6d05d7 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
19:52:31.819 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:52:31.877 | INFO | OptionalLiveReloadServer: LiveReload server is running on port 35729
19:52:31.913 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
19:52:31.918 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
19:52:31.922 | INFO | AuthServerApplication: Started AuthServerApplication in 1.061 seconds (process running for 7061.288)
19:52:31.923 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:54:08.883 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
19:54:08.883 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
19:54:08.886 | INFO | DispatcherServlet: Completed initialization in 3 ms
19:54:08.890 | DEBUG | FilterChainProxy: Securing POST /api/register
19:54:08.900 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:54:08.900 | DEBUG | SessionManagementFilter: Request requested invalid session id a36a87e3-e79f-40d3-b476-0bcf517979d8
19:54:08.901 | DEBUG | FilterChainProxy: Secured POST /api/register
19:54:09.376 | INFO | RegistrationSuccessEventListener: >>>>>>>>>> Email sent to: nguyenvietanh.shopping@gmail.com
19:55:21.494 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=cb326ab1-d15c-4db8-82b6-9296b27da5bc
19:55:21.496 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:55:21.497 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=cb326ab1-d15c-4db8-82b6-9296b27da5bc
19:55:21.547 | DEBUG | FilterChainProxy: Securing GET /page/login?activation_success
19:55:21.548 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:55:21.548 | DEBUG | FilterChainProxy: Secured GET /page/login?activation_success
19:55:47.037 | DEBUG | FilterChainProxy: Securing GET /api/account/activate?token=cb326ab1-d15c-4db8-82b6-9296b27da5bc
19:55:47.039 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:55:47.039 | DEBUG | FilterChainProxy: Secured GET /api/account/activate?token=cb326ab1-d15c-4db8-82b6-9296b27da5bc
19:55:47.054 | DEBUG | FilterChainProxy: Securing GET /page/login?account_activation_token_not_found
19:55:47.056 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:55:47.057 | DEBUG | FilterChainProxy: Secured GET /page/login?account_activation_token_not_found
