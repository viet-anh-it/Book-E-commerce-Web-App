14:57:42.052 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 13004 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
14:57:42.069 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
14:57:42.311 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
14:57:42.313 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
14:57:50.632 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
14:57:50.636 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
14:57:51.227 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 563 ms. Found 6 JPA repository interfaces.
14:57:51.288 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
14:57:51.294 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
14:57:51.369 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
14:57:51.372 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
14:57:51.376 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
14:57:51.380 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
14:57:51.382 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
14:57:51.383 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
14:57:51.384 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
14:57:59.040 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
14:57:59.238 | INFO | StandardService: Starting service [Tomcat]
14:57:59.272 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
14:57:59.527 | INFO | [/]: Initializing Spring embedded WebApplicationContext
14:57:59.545 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 17216 ms
14:58:01.414 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
14:58:01.845 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
14:58:02.006 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
14:58:04.547 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
14:58:04.695 | INFO | HikariDataSource: HikariPool-1 - Starting...
14:58:05.812 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f68032c
14:58:05.816 | INFO | HikariDataSource: HikariPool-1 - Start completed.
14:58:06.000 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
14:58:06.051 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
14:58:10.852 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
14:58:11.175 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
14:58:12.522 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
14:58:15.393 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
14:58:18.866 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
14:58:18.873 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
14:58:18.884 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
14:58:18.891 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
14:58:18.896 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
14:58:18.902 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
14:58:19.661 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
14:58:19.694 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
14:58:19.699 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
14:58:19.703 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
14:58:19.705 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
14:58:19.708 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
14:58:20.014 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
14:58:24.593 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
14:58:25.801 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001bd29da9150@6583cb8e with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
14:58:26.050 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
14:58:28.056 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
14:58:28.520 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
14:58:28.584 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
14:58:28.662 | INFO | AuthServerApplication: Started AuthServerApplication in 47.849 seconds (process running for 50.182)
14:59:00.027 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:00.033 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
14:59:00.051 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291140021], value class [java.lang.Long], SQL type unknown
14:59:00.068 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
14:59:07.817 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
14:59:07.819 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
14:59:07.826 | INFO | DispatcherServlet: Completed initialization in 6 ms
14:59:07.923 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=pSSen0re0NXzz7KTAloA-mLJKmdJBb0UZYzDc-lgtg4%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Jb7CqniLXeQZOOddXdUPn9orrsWsY7rPFEYd0cLxfRE
14:59:08.510 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
14:59:08.549 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=pSSen0re0NXzz7KTAloA-mLJKmdJBb0UZYzDc-lgtg4%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Jb7CqniLXeQZOOddXdUPn9orrsWsY7rPFEYd0cLxfRE&continue to session
14:59:08.552 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
14:59:08.558 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:08.559 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
14:59:08.570 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:08.573 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
14:59:08.644 | DEBUG | FilterChainProxy: Securing GET /page/login
14:59:08.656 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:08.658 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:08.669 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
14:59:08.684 | DEBUG | FilterChainProxy: Secured GET /page/login
14:59:09.443 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:09.444 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
14:59:09.526 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:09.528 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:15.202 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
14:59:15.213 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:15.214 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:15.222 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
14:59:15.228 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
14:59:16.063 | DEBUG | DaoAuthenticationProvider: Authenticated user
14:59:16.080 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:16.081 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
14:59:16.106 | WARN | ResponseStatusExceptionResolver: Resolved [com.bookommerce.auth_server.exception.AccessDeniedException]
14:59:16.114 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:16.115 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:16.139 | DEBUG | FilterChainProxy: Securing POST /error
14:59:16.144 | DEBUG | FilterChainProxy: Secured POST /error
14:59:16.205 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:16.207 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:16.217 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:16.218 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:16.231 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
14:59:21.400 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
14:59:21.409 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:21.410 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:21.421 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
14:59:21.424 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
14:59:21.684 | DEBUG | DaoAuthenticationProvider: Authenticated user
14:59:21.688 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7804646a]
14:59:21.739 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:21.739 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
14:59:21.743 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:21.744 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
14:59:21.785 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:21.786 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:23.030 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=i9oKMQJl9rCXk2AaAIhijS1kzipXfHBlHAutAEulp-g%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=xyuNSNME773HKuhQLLxxuKS8RvdQVFgxnrVdKBWZA2w
14:59:23.035 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:23.037 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:23.052 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
14:59:23.251 | DEBUG | SessionRegistryImpl: Registering session 26709559-5ed6-4d5d-b58d-84f713584f98, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
14:59:23.256 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=ECtIMlZ8AnCKUJCDNGGzJZluNLNkHl5IyWJIpX-8dHVTtV9egaUtbDamw_luclF5cwKxj_paxq1dExdpDuu7x6yAJ-RUMyZYNaNXkpip-K7-_aITgnlaqYYXhLdJZ7DG&state=i9oKMQJl9rCXk2AaAIhijS1kzipXfHBlHAutAEulp-g%3D
14:59:23.262 | DEBUG | JdbcTemplate: Executing prepared SQL update
14:59:23.262 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
14:59:23.275 | DEBUG | JdbcTemplate: Executing prepared SQL query
14:59:23.276 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
14:59:23.515 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
14:59:24.942 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MTE2NCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTExOTQsImlhdCI6MTc2ODI5MTE2NCwianRpIjoiNDFiNThjOWYtNTU0Yy00NDI2LTgwNjktN2RkNDg1OTViZjUxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.HAmIl7t7CgApXp66pFufWQCQ8YUio-gQNaCiLn4LD-sQVpL6B65oMWOFj8E_ujOgQ7rpLLXciyU_YpneeZ-jMxGxE-3YCSmbIFcqFJ3dlazRCBlJhmAQW74JEVzx1jIE-HIt2wLzqdc5NBtC4peS08pc-esTCfzgMReO9uFqCiSDTRWepK7RQvkq7HHwy9uIiuZF7jBAJnNxjzxs9Vd6ssZsMUCbbC-9j0XlsrIDJ5g39tQ8qH5wgVwdb8fZW37JnV366nH0AuqFVROyvHkGS5QzFCGl-PwkRMxFaiRGi5Whs1KCbIs9KbgpOX9jcnW3L_xbU_lts1aZlIyz6xY5fw
14:59:24.944 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MTE2MywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MjkyOTY0LCJpYXQiOjE3NjgyOTExNjQsIm5vbmNlIjoieHl1TlNOTUU3NzNIS3VoUUxMeHh1S1M4UnZkUVZGZ3huclZkS0JXWkEydyIsImp0aSI6ImQxYmQ0YTFjLTYzNWItNGMxNi1hZWE2LTE2MWU1OTM4MDY1ZiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiYnhSRVRqdTdmWjBRQzZJWThXbjUtZko2NmlXZEZSUVU5bHlxamNBTGxzMCJ9.Fgf2vHWq_T4GK_8gUCC2uXAflFSJ-y-46MUYF21eHyoG763_yQaKONmXWq-2wzklEKL0bvdImKBHT4DNQned-edClKZuEyFvzezhOJQw0X_U0azTdEkmiXPY3p7ifVbQSIZf413INaV-mVZw-hAXN1lVo9a3HJ4xUp45XEKDnTeTnZhE3plQZ_0X4kq62tzWL_1I_PMMNSRuZETMrMpw_ZfUh7fLBbLkeFR-USeefo6b8a59FutIQMRYgFarp2LoJzniOKHq6EzSDZsZ5CtjdL20LyXU3YrkVH538-a2CGEGfRRg8kArOEHhafhwH7FTP-XHudpzoUblK02Xlmq-XA
14:59:24.945 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 31SqpLCri8D4n3wqmXoXEWIOjV6Nzg1Z6KYTGe-3HRoPrTh8eFUSbbERlskjw2bd_kdjp0KPvSBCIbBTzxyzknwaHalbpvkwhGNffCpSywVyolyczDbD-_a47KwfiDdH
14:59:25.401 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
14:59:25.468 | DEBUG | FilterChainProxy: Securing GET /userinfo
14:59:25.515 | DEBUG | JwtAuthenticationProvider: Authenticated token
14:59:25.519 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3ff912ec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:00:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:00:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:00:00.018 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291200011], value class [java.lang.Long], SQL type unknown
15:00:00.028 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
15:01:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:01:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:01:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291260012], value class [java.lang.Long], SQL type unknown
15:01:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:02:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:02:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:02:00.025 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291320012], value class [java.lang.Long], SQL type unknown
15:02:00.033 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:03:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:03:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:03:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291380008], value class [java.lang.Long], SQL type unknown
15:03:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:04:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:04:00.030 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:04:00.040 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291440006], value class [java.lang.Long], SQL type unknown
15:04:00.051 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:05:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:05:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:05:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291500017], value class [java.lang.Long], SQL type unknown
15:05:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:06:00.052 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:06:00.151 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:06:00.222 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291560050], value class [java.lang.Long], SQL type unknown
15:06:00.284 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:07:00.020 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:07:00.035 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:07:00.040 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291620019], value class [java.lang.Long], SQL type unknown
15:07:00.052 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:08:00.063 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:08:00.072 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:08:00.076 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291680063], value class [java.lang.Long], SQL type unknown
15:08:00.123 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:09:00.190 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:09:00.219 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:09:00.233 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291740186], value class [java.lang.Long], SQL type unknown
15:09:00.267 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:10:00.107 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:10:00.123 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:10:00.133 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291800105], value class [java.lang.Long], SQL type unknown
15:10:00.196 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:11:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:11:00.029 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:11:00.037 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291860018], value class [java.lang.Long], SQL type unknown
15:11:00.049 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:12:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:12:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:12:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291920004], value class [java.lang.Long], SQL type unknown
15:12:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:13:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:13:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:13:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768291980014], value class [java.lang.Long], SQL type unknown
15:13:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:14:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:14:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:14:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292040008], value class [java.lang.Long], SQL type unknown
15:14:00.014 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:15:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:15:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:15:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292100007], value class [java.lang.Long], SQL type unknown
15:15:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:16:00.002 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:16:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:16:00.004 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292160002], value class [java.lang.Long], SQL type unknown
15:16:00.007 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:17:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:17:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:17:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292220009], value class [java.lang.Long], SQL type unknown
15:17:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:18:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:18:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:18:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292280012], value class [java.lang.Long], SQL type unknown
15:18:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:19:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:19:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:19:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292340017], value class [java.lang.Long], SQL type unknown
15:19:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:20:00.024 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:20:00.026 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:20:00.028 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292400022], value class [java.lang.Long], SQL type unknown
15:20:00.052 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:21:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:21:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:21:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292460005], value class [java.lang.Long], SQL type unknown
15:21:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:22:00.109 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:22:00.137 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:22:00.148 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292520100], value class [java.lang.Long], SQL type unknown
15:22:00.165 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:23:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:23:00.020 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:23:00.023 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292580016], value class [java.lang.Long], SQL type unknown
15:23:00.028 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:24:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:24:00.020 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:24:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292640018], value class [java.lang.Long], SQL type unknown
15:24:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:25:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:25:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:25:00.018 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292700016], value class [java.lang.Long], SQL type unknown
15:25:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:26:00.024 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:26:00.026 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:26:00.028 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292760024], value class [java.lang.Long], SQL type unknown
15:26:00.038 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:27:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:27:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:27:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292820016], value class [java.lang.Long], SQL type unknown
15:27:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:28:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:28:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:28:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292880009], value class [java.lang.Long], SQL type unknown
15:28:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:29:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:29:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:29:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768292940014], value class [java.lang.Long], SQL type unknown
15:29:00.023 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:30:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:30:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:30:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293000017], value class [java.lang.Long], SQL type unknown
15:30:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:30:11.795 | DEBUG | FilterChainProxy: Securing GET /page/login
15:30:11.806 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:30:11.810 | DEBUG | FilterChainProxy: Secured GET /page/login
15:31:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:31:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:31:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293060006], value class [java.lang.Long], SQL type unknown
15:31:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:32:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:32:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:32:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293120006], value class [java.lang.Long], SQL type unknown
15:32:00.014 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:32:11.706 | DEBUG | FilterChainProxy: Securing GET /page/login
15:32:11.710 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:32:11.712 | DEBUG | FilterChainProxy: Secured GET /page/login
15:33:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:33:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:33:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293180012], value class [java.lang.Long], SQL type unknown
15:33:00.020 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:34:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:34:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:34:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293240006], value class [java.lang.Long], SQL type unknown
15:34:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:34:58.946 | DEBUG | FilterChainProxy: Securing GET /page/login
15:34:58.947 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:34:58.947 | DEBUG | FilterChainProxy: Secured GET /page/login
15:35:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:35:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:35:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293300004], value class [java.lang.Long], SQL type unknown
15:35:00.009 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:35:07.565 | DEBUG | FilterChainProxy: Securing GET /page/store-login
15:35:07.566 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:35:07.569 | DEBUG | FilterChainProxy: Secured GET /page/store-login
15:35:16.701 | DEBUG | FilterChainProxy: Securing GET /page/login
15:35:16.703 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:35:16.704 | DEBUG | FilterChainProxy: Secured GET /page/login
15:35:23.637 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
15:35:23.643 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:35:23.644 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
15:35:23.926 | DEBUG | DaoAuthenticationProvider: Authenticated user
15:35:23.932 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6378c3ec]
15:35:23.957 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:35:23.957 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
15:35:23.979 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:35:23.979 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:35:25.130 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=prXQeAOx1zyNoiEkRvnbFn34N-yMrCg8KZ2n5nribJY%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=FEYBR0Ceu_Ui5mgH8Yl1iHiU_tHuLcF8EP6SUexjiSQ
15:35:25.140 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:35:25.140 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:35:25.156 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
15:35:25.213 | DEBUG | SessionRegistryImpl: Registering session c89b158f-b046-44ca-b41a-e762ec0a0e56, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
15:35:25.215 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=7b38JUGS3DwWX7tqbxsbZ8UhEoldiF0rSDPPdM68dXS1a5YMaCRkWLCHBv3OaUHGknPQpSAeJ1_NxAQF2qYSVD0OmB_MiU33GXgGqxZwKk7kFBzcYK7Mv2hV-nd52Qhn&state=prXQeAOx1zyNoiEkRvnbFn34N-yMrCg8KZ2n5nribJY%3D
15:35:25.216 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:35:25.217 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:35:25.230 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:35:25.230 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:35:25.317 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:25.664 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzMyNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzNTUsImlhdCI6MTc2ODI5MzMyNSwianRpIjoiNjNmZDhhNzYtNjk2Ni00ZDg4LWE5N2ItN2NhMzM0ZDE2ZDBkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.XPXM4j0E-j2wvEBG17tGt7JKFHeNEyXRs-aB5RkVQ3VtjYY795w6QLIsOL2-LXQWWG8pzKOWPvm7gn6Q0VBGhXDsI2oQzHhqjRSfGWDWjFF9WkIH2RiJAwaUSselu43tixZN91QOhCaIsJNLORpB2qPv58SN4M4v-3GGjCA-r_fcWhYvX6Wt5OoY9-zJHo7XnrlUQDb0LWu5NS0AoCxXWeEW6QysZvooP0WvNuzbzQ5T08GtPjpgd1Bz65nVC0KG-H4ziMB2StP6PW-__8FN8DLO4teVxyiR65F5Ysh_EclGI3NblivJFKheLs1BVhkOUfjUxYufInqCbChayGA9Gw
15:35:25.665 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTI1LCJpYXQiOjE3NjgyOTMzMjUsIm5vbmNlIjoiRkVZQlIwQ2V1X1VpNW1nSDhZbDFpSGlVX3RIdUxjRjhFUDZTVWV4amlTUSIsImp0aSI6IjE0YjY2M2I0LTliZWYtNDhkMS04ZTkzLTUyMWM2YTIxNGRiYyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.QqPK9jB-D2_vQCaOpN4sH9_jbAvZMkqIwg2PE3NJQmPhQf_6NW-AIHIeowjIKHkjIxxa56buKWByDnmOljI89Vr2BicRfWAmWYMNjDAYqYO9V-KFyMJdZm87Pq7HcTG1C3JLtuSQZZcRERf-354r6RaqTzKiCwH5JSTQF5yQOW97s1tK6Ju0IlFmvEEHC6tMFD9OHzGVpjsc3VlALNB_kmtJODaTBNvBC-kDM4R6Hp6kF-qW1d7rPPQUwgvaXBgKgzDkd_hXz4PWkUHKIco1nG1gvJp4Q8Cb6CjHf3C8JH7IuUhcROAB0GXbi1-yHxrSLdnsn2oZdBkHfpygL-FwKA
15:35:25.665 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: BDzbHZonfl7Z22qy7rFlc0r3qg6Xobc2sbucLsnsFHMFIglmm1b124NBdVNas_JJ5L9OiJi5DEGVXhHrLScyWE1e6xurRhKp5Lgvw-i9D2xiHNfLI3fABBXUMVQXFqeT
15:35:25.729 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:35:25.745 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:25.750 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:25.751 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@dbd09487, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:34.946 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:35.297 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzMzNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzNjUsImlhdCI6MTc2ODI5MzMzNSwianRpIjoiZWVjMWIzNzAtNWFlNi00NzJkLTljZDItNGZkZjYyZGZlYzdiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.Q27vretX0zelVGpwGYmRdxtWEYutC9_p9Ju4pkFsHlna9Y2Sam77j4WFnRzjha2q1OsDyC-s1CZ6i1paHNeIvmHZ1sxaHPpETl49vp93Kt5PfgJBB7tx80S3FnaQTRk6UzJcApaDPsMpTMbzwATNUM8DWwMDLqW0gkgm7twz5nTM0YzB_Gaaqa4ISbxr5fNIXEMQ52-7317QVXFxR2CngAi3ZKIMWyww-iG_XpvAyTISAqFCK4CbVmb2jTvcHORGOW-5zsEku9udBkFMWlUZhSNbu5SMQ9qHLGldBa6-UeaNFwop5fwKIb1Pm32QH6Cauz-uqLeohngKKFOXWPMu8w
15:35:35.297 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTM1LCJpYXQiOjE3NjgyOTMzMzUsImp0aSI6ImI1Y2VjMmY0LWQwNWItNDI0Zi04NTdjLTAyZjA4NmY0ZjRiYSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.WB6rRF8aeEJWsSiDCODJltSAyIum7EtkEXOsZ7ZECRxJOmdowq02xSGS3wWpMq1236-n870u3cNL9B990l5kBMPndNsyAYP2MhiKjQvyrWUO81_p8f8i4whcRWX8_YIgxmX56sZ5zkj5aaG0mKgXgDAZXlYqzEo_TKyNIaffSPA_Uzhdm3PwIVweqWUj3bUjykdmS0uFs6oGj7nINAxDeMD8RzEbjA30eSxmgJUoztoI9ZW7MLegPohBekjCGC4mZ90BcuE1zlhB4XMpcou7kTEk_gKbgWN_R37G3MzC0IVVFYQzMM4qiGkELy64r0YA5Z68jj0sB59ud6FAyHe9tw
15:35:35.298 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: n7mgPphn839yEgUmGoFWr119P1kOCu2l1kJtOrBnNokSz6ICuKdv5YEWD0-ci5f9b5qoxNsTNngJUDKGeqiHTLXi6EDXk5HqtW8My4iso1VpnMtpk6nAhQLYb3XbRW2M
15:35:35.344 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:35:35.356 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:35.358 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:35.359 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6fe0dad2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:35.795 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:35:45.842 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:46.140 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzM0Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzNzYsImlhdCI6MTc2ODI5MzM0NiwianRpIjoiMzdjMjQ0MTItMjYyYS00MTQ3LTkzOTMtZGQ2MzY1ZGQ2Y2U0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.NfEVNMlJR0gUNEYsQ6H11tVhCXkrWnpzaZSOFXntCSBTba4GQMFyeeqLfkNdAQElYrU6sstK4X8Qwjnsf12tNJ4-ILJXUnJS8LXKUVNkbgE9GGwpVpEhEjwJ4meoyfmFhzZ3mk5R2xCPIYX_TADW7_5kZTxwzo41CwZHTJILfQgjSnC7aKdLyCBhzWrvlYP0DaKF3XnYPbhsfSQZ-oVUzGxCzRitwDniF0ULG8e40QeqWiGHcvJ3daiXM386hGSjuccGmSRFO-pqIxceGhP6JIeHzH3VURQLJsc9PxV1SmkmTZQ8GPdlHXxJdUYnrMzt1iBqd1D44yDWYL9Ajjhpvw
15:35:46.140 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTQ2LCJpYXQiOjE3NjgyOTMzNDYsImp0aSI6IjMwMzc4YWQ1LTk2YmYtNDI1Ni04NGExLWU5Zjg3YmU2YWIzNiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.eI4CWRAU6yc1oPtvaErYT5UUD0I2aF7Q0UtUKFfow6eTHMxDURsiD4NcvED0fmvaeodQmPl7QNXi6IVd4plw0llpawU4jNJKp1CljSEt8Bo3S4SzMmhcK6DXcu1xRFJPf20tmTiGkc0yNfgGhRVQaHeM3Bq8qHcPreYyTU3_iAWW2znRROSNUhaR2u-eRsmXIwI5wD51Z9shCMs97QraIKcvqJ5c8dQQsEM6cNhz2ntvKIuELcdr01tSbwiFcDTwOIJciiFdhXOieRLythxNbTfMoH1S6bhMRksxyhqikCG8cqe76_LDSFh22CEZ9YC_XxE2aVzH0_68y5pHJmugBQ
15:35:46.140 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: mvCMX8y-inRc3RpjnYEZWvB29_1cU9HXU-cd-99_xaojyjhkSzUhskw92scrhpXE3LnkulUsKGPamAMcIcLWe1rwko1Rjobck4lsyxC4ztbN0X6SmNPghdLwbzXUuTS6
15:35:46.149 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:46.151 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:46.152 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@48d67daf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:46.182 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:35:46.680 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:46.971 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzM0Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzNzYsImlhdCI6MTc2ODI5MzM0NiwianRpIjoiZGFjMjFhNmMtMDIyZi00ZjBjLWJkZmEtNTNiYTQzNTAyMTc5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.ipvqyw0WvLvV4Xjmx5Oh-bn4RU3AEOCLyL_aTJNVoutj-D0fbLAJ6dnTcl3-AjCzZ1sj2zpugJq_sxg5fkzg2g1IifwWhpUaNR3Xy_x_KeeIB2gaRazgLxikwfK_CttjaTlcFDTWJCyP4JnLx3lTj3WTVHEixI9rgd5QdAzVJEF2Ncvqk_r87mRmfaXjzYbShNUvab5jqtCv5NgvyhaZA_2VH4JfhO6Eb7QR5PJc8t0u3yYWa1hZAWP9_cuOb7P0sJjQmLqQS6gM15aqJAIaAoRZnnpE4hHsZUA4YIZZyxPR10GcbMPtBNb7J1e9yMRvzqb6_L1sH8ZlgbVqPszg7w
15:35:46.972 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTQ2LCJpYXQiOjE3NjgyOTMzNDYsImp0aSI6IjEzYmRiOTk3LTRjOGItNGNlNi1iNDIxLTY5MjQyYjE5MDFkNSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.HcK8cealqrZKdKQ0BHVG0OSw5s7mw9WA98IyhXZuJImdVj45yYVAW-cyOC4MgORApIU2EM4USW2L5UVJdcdq_okmhzACDaqVWu3YxY-Z6MreCf2mL21viLKERV3midwIcVd6xeK7Z5cKehFjZLVgWvl06wd4TrnggoVa6VHOwIH6vVWGNozD-FcQ6Xmq4sIAC6p1n4Yt15dvDaMs1pb4JCuSXATek3BNdIS5LStf8AkP6-9pBEODSIEL__udzEiQ5i_Umgd929GSMw4VTjXfFo1IMhf8RRhCU_rozknqBpA9D2Pn1EeOhjXpb5D5J0LrLyxEL-WVOXCtJ0K07lZITA
15:35:46.972 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: vTPE9hGBBapGT7-WMjFrVHrkH6FH9hJF8dJyOEgSdT95vOpSItQqWvlfmHFhAUKFtjCkRbwUwrkBpeHAjJyt0tvqeVr8ZzDUV3FwWZ9IModdWK4jCjizQVnWFVBYb61-
15:35:46.979 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:46.982 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:46.982 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@14d285c1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:47.019 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:35:48.621 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:48.898 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzM0OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzNzgsImlhdCI6MTc2ODI5MzM0OCwianRpIjoiNWQyMzdlZGUtZjgyNC00NzhjLWIzYmItNmExYTU0MzNkYTFiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.K0fmWPl3kB1ptaZnxJ7fvYlUbKcIpkmSO8jGMNLeKcDCMRLRQGzfdS8STBJ0-kip4t7yjH-OFZdc3XolAaEdgF4NnlTifo99hn8zLSddkoDBZE6U07KTZ-_gFcCcEiMO99BobgSCACgTtsEGWC03aPyp8KspruJSk6Rr74DVoxKB2_z3N5Kl89IekWJw_-aVuqlw6uLm6A6wPPHWEsK1YkeC3EWJ2DI1MGAW5sO-v31d6P2P1UoPmB-v3JAI_sSk4ojTu12gAeQkNgmxhkBu29WaEunVdFTceveua-x5l2UqlG7W29zV-BMI240TCJF1tN5_kT7dxIvjhD5R_tHHsQ
15:35:48.898 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTQ4LCJpYXQiOjE3NjgyOTMzNDgsImp0aSI6ImIxZDVhNTRmLWYyMGYtNDNiZi1hZWJhLWE3N2ZhMTM2NzgyOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.kyASrpZdXj06KdWzZvnt_zX5cd33ZquhkrU74IKlU6owU0FnRtowZgjKWxCwrnvURazMdrod1oK7usWNFaeiTmnK9ycs5GYaQgbDxV1LCOLvPt7nRHiVLvnzujzBaWmxWMUGrzhzlth23ome8anwiRMI2eUufIOPkZS2tmoCJUEXLMoAscYpQbCMcKzoLeoAZDsbKNY2DJNOeqvHv37gH0U4h9bjTRuEQHUwZ3yQt1oOxwaBZ0gsvIhrR6YOc-LOOeZacZBxuJaGaY8YsndWSGRwR73dh9y45jIONxP0VAEWCLgZZA7UTHeghQGYpRoHjO9hsr87O1vrig0J3enzKA
15:35:48.898 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: GGRn7jjvpea34EoKQF7wKbCocaENPUQMe_6qIkT4_6WCa_ynJ-tH7WtAGsCCkeJRVIM0ts_m7d0BF16EYyZqchW_XKRks7s5K3PcdyHaJEqK8hYjybxAJMTrLzETwL_I
15:35:48.905 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:48.911 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:48.911 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fede9cf4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:48.950 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:35:49.294 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:49.585 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzM0OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzNzksImlhdCI6MTc2ODI5MzM0OSwianRpIjoiMDU3OWNmZGYtMjY4MS00ZDE5LTk2OGUtMzE3NzIwNWY2YTMyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.QH6aD3YyPN22_f4q7-dE41YIO44K7Fa_BgpOybb5OhSOhyfkUOnn5c778m7lc3JyimkBsdsfQsHunDJI9iw6Ef1BwBbsQUA9xehBB_WG_2H4Ie1974Uk-EHGzIQu-zTfSlxvcHwo2yV5QVji71v_ZAjlkX1OXi4EERb3bagmGNbOIEA8nhyY2SPELI_bHdAIuFZaCcd8WuzCqbZqL9vZSaduUqiDmYYMOTM5J5kn3k3F8-q30mBu997uktG7gRy3fiEzCB5rbCYoOhaM9cQE1kHjFHeZsvgZLbdBXyG33rONV8CQNXHQ62O4rfT5PE9q0vnc8IPv0M0fWHbDR9Neyg
15:35:49.586 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTQ5LCJpYXQiOjE3NjgyOTMzNDksImp0aSI6IjE1YmUxZjMyLWI0MjgtNGJiOS05YmVhLTViNTg0YmJmMzQ4YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.Nci_7IiL5cnNgN8Sxem3YinGEmK5TYFV1H-VDYKI2fP52NWQhySRxgMSQa6KGqVsrENLeushTCjS9GcLF59vzxsf30fuEAIZ2w1ZUon4rP9u7KpPZOSHIqGppLao2WGW28w-wR6gNccKkU-EPocgQFaIT3dLQyOKeczq3XOtZO7nkdpAeUSPHfQDUcyzQCwFxwlgTy9-I60jEn1lk4tGwTkvyTdsikQaZtSYkTG4lBEq7UIiM4LgugxeBM5ESDDnDHLA5U_UtvG0N2DKPQuyoLbDG7lgDCDbyVDPWtXnoCD8o4QS8jNTuoz0i-KAzLDRwzoqVO-kbx1QcR3wT4vE2Q
15:35:49.586 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: eXBxIGXM5i66_7ACyvB_28Y1VCS2FYJP4pACbXTPmtxobByW8sUdEgPDAPHS-c6sZ2FydJLRcB5Ao8JhVK0doT1MDrnrXIva2r3L70Q3zKITRRlvcsoU54yd8gOHVBDx
15:35:49.597 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:49.599 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:49.600 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d03dc279, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:49.642 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:35:53.860 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:35:54.294 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzM1NCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTMzODQsImlhdCI6MTc2ODI5MzM1NCwianRpIjoiYjVkYTY5ZmEtZGIxYi00MmM1LTgxN2ItZjRmMGI0MWY1MjZlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.BuTL6pBiyHVkEyp5i_cKx7K3z7CJ1vM1cxH6jsav5-d2h0gj3MYQqhRBNCODRFNGcUfaPhXcIDikBfjGurySXl6UfyL-w-Wg02eFr5wZ14hoBLVtNs_NIC7qYYuzhvEzrs6C1sYBSc9VqPDTwycb1s2PrRWT-MlCqmuicnio2HWiEJXFuK8Y_UsjmN2kimUTciE7mnvd1xjHupgmO2MjRY4PLQn5I2mnNE1XaXUItBmig0Bi58fwm588fXUmotNXT_fd6yyERcjU79-8DuhDMhN-eVEg_yDPOfI4r6eZNmTR77gfr88Lbtqnu6Xtcrh9zdKjE2MITQTjrAydRS30fg
15:35:54.295 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MTU0LCJpYXQiOjE3NjgyOTMzNTQsImp0aSI6IjI0MDc1YThjLTQ1ZTYtNDRkZC1hODgxLTAzMmEwYjRhYmQwNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.qbp92O92cMNcYeqaRwdOvMD0lZzpFIpZP7OqZUDlIEz1h8TazAgekYTJYIfgm11JlQZgqNiW_Nq3h9QORGKGI3pkeW1-h915Wy0iXhgw5SbRYEhIhW0o6WZ75kg_4iDaZprKI7KP-U6xxLkc2wImLs3VEgtjcjwfdcujVeiGoScDjGi8cqTb_bXjK5vMFFXYM9_R2OPANP1E8PrkrmbPwpVlYBcecvHseBt2ZJGqH_rwDeuDHWhjZbvNp_IZA5CXQ0n0hnWpVoCVQb7tvPy3f4NNWHqQfV627H4GG1jRzPaQoiqf58YtT7-rjedpI9k83C2IEy8QwtQmG7h0LoF9pw
15:35:54.295 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: fBPBbqeywcpdmKk-CVV5sH3KbyQ9WUiqmj9J2-FmAqVhmYUADAPrRd4G9r76DrOWwouTIi7jtLq1pNpG_Y3SS0FzMULezboe7EDTf1uG_1TN8w53woEwwym5zpqkcWSH
15:35:54.308 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:35:54.311 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:35:54.312 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@97c334ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:35:54.370 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:36:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:36:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:36:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293360007], value class [java.lang.Long], SQL type unknown
15:36:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
15:37:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:37:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:37:00.020 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293420017], value class [java.lang.Long], SQL type unknown
15:37:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:37:28.801 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:37:29.288 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzQ0OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM0NzksImlhdCI6MTc2ODI5MzQ0OSwianRpIjoiMzc4NDUwYzAtNGUzMi00MmQ5LTk2YmMtNzY1Yzc0M2EyYzU2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.wT_sUCkJRc9WIRZdHr3gYIOrg4aOSB8IxhY6Vw4bDQidH6VJbzcbNloitPH7b85CCddBhZQr1K4L7Wn8Ij0iXOpBQb2vI7KKK6l8iYcu3avrMXIaFuE7vKUz9yTJ8vSHN5B3V_ApmgEnvJThI2PvTiIruD5b4gA6Mx3JAIIl6NU4hHF6ZbrhSPA-AzBozOLOXAq5SvDHawwzxs5n0NMvv6ED3oF51Nk0vZFH96sHportA60OKx26oe4VqWTAWkiSLlrA4cELWREIx7cJkKRUeSMZLhPeSXW8dfgO22dmkEGHajRugTyfukf86HZcva5S0SCOIdbQ41TxXwmKE7QJsw
15:37:29.289 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MjQ5LCJpYXQiOjE3NjgyOTM0NDksImp0aSI6IjBkZmUxMjFlLTUwMTMtNDQxNi05ZGFiLTgzYzM4MGI4NGUwZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.QpZq9ZkNMnMU-osYKoDZ1rop-LINchOZjAiayqPp47ypyrq2Sg6erAxyuZ-dVzSbZZrR2UmpOysOY8wVDCbM_M_YjF1yTSwXouEXkLYxn6mlxYBwtkAf78YV1iQPDS-ONztsAZLxQDYktZO2CXXE6md8QsJd3dSkilW1yJ9_q0gpfXE-nOeSv2am_Po2UCdUCHWisN7RcJh0OaqcR7_akYosxLgohkZp92lWZ9N8Ut24b70uyi-drn-e9DQDPoFhjdLTLLCIyuG7nUwp3YezFEBJ6M2fLCR15ugcQBUy9AHVkM3HJr8vfc8zm_EIgle_hQKWojCgAgaDS9c7qMO4WA
15:37:29.289 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: AWHJSRczjOP22hvrylLg8UTlqph5t7SnyXpYVnQm_R5co9cUlewmo1gGngLVfJZcFIpy5dhsonnHaXsG5S_RG-voJT862rv4aUR3Bmvz2CwEN2N6mbPGFmAh8spqmraB
15:37:29.343 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:37:29.351 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:37:29.352 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4211df18, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:37:29.787 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:38:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:38:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:38:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293480007], value class [java.lang.Long], SQL type unknown
15:38:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:38:06.341 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:38:07.171 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzQ4Nywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1MTcsImlhdCI6MTc2ODI5MzQ4NywianRpIjoiNzhlNTliZmMtMWMxYi00OGI0LTkwYTUtYWM3ODc4YjQ5NTIwIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.dLBJiTlwujRtKm_A6OdhtMPvlin8R8wXXCDg9JVuI8OS4gYSaffvy44cqbjMz6G2YZCRxBc9eCHDt757ZP5RAoTwycsjWTOiF5lldBrfRZvUg5L2FebAgK3dBAj2nLXXd694IzyHmdYmksd8EZX14-TNqodGGqTGCuSDCXEb4AMzbg5xkGlwvgEw54xrRpUlxdzsgY5hxSP5KKMOUy9N-8VO745kuUkkM1Jnl_usTLVlMWPlXhZITOz7eDfGdV7FibvlDLLUnI4TCLaqScjcuIA-ITsKtGNMbF84iFyQww3FfE7PgHFutGyoOXqfuXPTWAydt8tu9c-W_1X_XgLbwA
15:38:07.186 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1Mjg3LCJpYXQiOjE3NjgyOTM0ODcsImp0aSI6ImIzYjQ2NDFmLTU4N2UtNDdmMi05ZjEzLTc0MmViNzJlOTg1YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.psEGMjbgGdgqpwAvpUgsSPnh8UAXfWOznP32yJZSGnQSJvM1qt2ZJltl5zclDxZAe0xbKhjHcya76Yp_dpJnLxLOSVVFQqYMSnmTi1WApZrFu1V7NFKl9p7DwV0o0kff36XDD5BOsozaKewzsfMTdgww4x6A4ci3WSWp4zuZ-dHlBCWyyd4jUFa6DGoFllYLB1l0Ulh9uEhn7ayJet4dE8G7QPoZsplF7vwRb1ngY-nEsO0oH7ZQeggZpZmvDgGBSweM6dD3byIZBja4Kf5EIgY6_biYilivLQLWCTpzQdEZAYK5vqH2HOgJPJCagO-rClhWK-Wqf7NphgVYM8oAcQ
15:38:07.188 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: zB0EcIscF8uc4_aM_WuUKh3hT_qYZRQzZqgaY8IhmyewEUDmDNKWDfyo4LaGTgqxYsCyA45IDPcyUjmRizrTrVchgRPWdZt76g1koyxK3J10Kp6FS_6g5dpbh0lLZR_x
15:38:07.245 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:38:07.261 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:38:07.268 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2a50b33f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:38:08.328 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:38:25.889 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:38:26.427 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzUwNiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1MzYsImlhdCI6MTc2ODI5MzUwNiwianRpIjoiN2M2NzhkZjEtZjM4Ni00ZGIxLWFkNDYtMzA0MTgwNmE1NTc2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.wR1QuQmUui2qHWfIBIzt3ZoGVr6YGR0u07zdSTL9LB6sEusD-o353Am-7EuuadzsLaKYXE7qOweHBjObwDAcsKpMCt3WiEcI6rcys94cTNVgKzwq12UVszrFP_39NpM9YSahKUfAmT8YuJGzb87jQwiqkW1R9jzTmdNFc5uSi97SlKNtlVI3bUweeE5dOGbOqrYQTD8afYgX8rfBRYVLfhciKyimuro_RfyPzw6GvI0ji5Jj-5mSucVqk1y0TCth7sofbdSqYqMv3N571I1eiYzs27hBxBTMRPfo7QsTDLYNJZJ-OYpX9-VcBfaDlMk3jnspapewkR_uzgSrBrtChQ
15:38:26.429 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzA2LCJpYXQiOjE3NjgyOTM1MDYsImp0aSI6IjE0NTRhYWMwLWNhNzItNGQ3NC1hN2NlLWY5YjZmOWNmZDkyZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.CbXYjqhMMU72VW46lyr2eyr96TItc2M65wniXKzFplSWK8YJx0jrXfNzAUxopRFkrrfNVAkDY9e8uSMAIFjUukzeFP-bBbz26PtR03A3RGjYJtOBg63tIRbt4t9TMWp-9H8cSX9izh2TvsoWKb8q0TugG88uDrLQp-OYAvGQf4w6FICVosLBOWx3ec7SXGAwWqiISDjWwy2AfQ3QgmcwbZwZMPbFYWV1GFbZRm9HeNwfeXvEBjysZEc7FJSn1gTlHEn7F-o6Rbd3XXySqKoAQQvF-zjpo2_nV60JqntEIRCXp4eHQPv6qt4fAMyW7fNs0ppJ7KGU5w1C50gyCO49Zg
15:38:26.432 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: tLQVICYf-G7JKNSCOzeUZHYg4a-hU3ojVV1RgC9QW6uEF7sPOSL1z485Btl7G-RIj0eWWXd5DXA3E6_1Ib44ptHftnqtY-GVnakOXIXfOuthDKEpZrLA5XqOlFd9UorI
15:38:26.447 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:38:26.452 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:38:26.457 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d782a4e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:38:26.589 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:38:37.160 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:38:37.736 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzUxNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1NDcsImlhdCI6MTc2ODI5MzUxNywianRpIjoiMDYzNWJmZGYtNTFkNS00ZTRmLWFmOGUtYTViZGYwZDdiMmU5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.RFO2tvBr648bEhGktyl1rg8-yu1bxUW02Tz1fA6Nk8I0bPzqTlx6Dk632_3bmCUwvgfDIDuUOLzDrafSIkzIN6Hm9VQN9Pu5oILilPorsNeICvASRGQ2lZVJOr4VPx3Dyi_V55Zi3xmQJEwHTUmKXu2coK6XrcYJ2hHXiH_cUP7o75hoMqrUl3aa9ulWNJCkjAkM5Qmz21yvZsJhhQSFL8GaL6u1S_BS1oQTCDM6c9C0cBc5DIvBczb4ts9fHKOjRUNx5Aly5veEu_VehkhnzdJRnZRkPC5QiCzZQrphdi8S5D0J-wJy6RMdXEzIkCHg6SM4zscyNtAROt9JpwFskQ
15:38:37.744 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzE3LCJpYXQiOjE3NjgyOTM1MTcsImp0aSI6Ijk1ZmExYzQzLTc0MDAtNDMzMy1iZDY5LTQ2YzU1NzZkMzVkZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.T16R3X93U3520pqztW9WJIM1pK55PHJuwNwa8wTeT7gDcPhrk80EqNSjyD3veIV-CkRf1VGe0YGqeVyeLb4AT-TZajwMuawbE1TfbVR99iwRGd8Tjt-wprsZybKmgfFpD1eC055hGIaiVfktZW9yGJK-GJ3ISQPue5g3bsMhyYwG88jwc6MkDpi2O-y0OuEZhB3cVM22ts4-RIdUAZ6wZpVeepl25hGeDCSR3QtRpjEBvwBjaCE96iOt1dTMOR-G30gbT8ES5VT3Yj6Yc8PX9Qki0Yl6V6qHWFCTRGRvGgU8qh2Uxeu7sJMkEgAe60Ahp3-bYebpzdoODbOf0jaPbA
15:38:37.747 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: H39oCMtv20duL-90oNP0kP1vqJnwuUljLIjG4pB0a36imwmZ64F3yBCqi__QFmuuIn0OHwNK9aPZcOOh4uCtWjGVY440LJuadhVeVB3aF_1hqBiZpvj1_LkOp8F539B2
15:38:37.762 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:38:37.769 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:38:37.771 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6d6fc27e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:38:38.054 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:38:42.068 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:38:42.513 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzUyMiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1NTIsImlhdCI6MTc2ODI5MzUyMiwianRpIjoiYjU2YTViNGYtMWNiYy00NThkLWE1ZTAtYTIzOGNmMmJiZTgyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.nPij4-4pUbbltMAH8dYrj2dFBFJ_BzckwHWIcAypyfz5I3J_5MqzpYI9ZgCgoybl4e9m0fhLlB0Nf6vJs9xh4MA39o1Hc5C6ApRW12LCoSj8Kdm51w9ycSuV79iYODrySIe2Y-fwNPxPi9_ACbaycGlx8EJpSoJls15bz9ga4FUnXfB7pgtlIW14lngKoduZ2lJRl6_uCalWiFmflb3mcqpdztv2Xm7JUmOXsFIPdfWLLFkXEb-saDyFXLA6HSX7SENN-382Vb2RGK_HrFDD6IXQ5URFDH594UedgrZtKjTz5DO3rwglOhclQjsTLOMyB7LT-uZDE24c8iupqh4QGQ
15:38:42.514 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzIyLCJpYXQiOjE3NjgyOTM1MjIsImp0aSI6ImM4MmE4NTdjLTYzOGUtNDg3My04NTUwLWRlYzllYWQ0NTkzNyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.r-BXz0-2udB2VGRHcuhhkZmbLyexy_K-ueUKqts81ad-5QeYBMA6KYuHd8LGo-Dq6rlNqUqwcfQPu7duZYzmL1WFAg3nElf2X9yt9Fly8RWjzvcoRR5vdxmd5-9voVqvr_qUNSfw7bMRRW-gAEbGKQ5KQhmFjqK7OW7KH_IFDrKvx2ksE2SnKlMWpLRYln0tBQOKFpTOi5xL51791CMeZ7LKP4OZQbe6C_mBzEppiUlSSha6U-OYH0CpRJ-vKXNrqBPtVdQ2lhpztYrT7dZFDT21Ze-AKcx0cvRrHTUVNl0DrRXGUiYzwROo6N6R3Ov9SQ-0tg2UKjncg4XWQ4Mfeg
15:38:42.514 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: q_Zzpl_37Nud3tDuuOXiVV9tdWNpZvyNInveNQ_tdOcUK8k5NVxi4at7QPs7EcR7dOdNSwYRpHR1LHmRchHjzAd_PlFfIRUZlMK8nsT_UTpjLZeEU0TBvCP85pzWD8xZ
15:38:42.524 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:38:42.530 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:38:42.530 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d362c1b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:38:42.592 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:38:46.261 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:38:46.568 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzUyNiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1NTYsImlhdCI6MTc2ODI5MzUyNiwianRpIjoiYmMxNzBkNTgtOTMwYi00ODA1LTlhMjEtODc2MmRlNWVlNzAxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.mKGquB8HBY48eq9R5AsKXDR5OLKZ-rJMYz4DTHeSTarWNwdRCMjMpyWYtAT3tYZQUh6SuPKGN38SpvKl4TWEinJ3TQYFIGehiqtDu1TslgIDSgMmo-tfIz0TgFJXJumBBSU5e_yN51ETtdnz5QVyUFj7YrUn1GTDJWF2n3XRQV7xXUZW76ZX3viwbdqrdIWJeskpbdbRxHpcq7CYpGBekorxNBablTGePTrUbC63mOiwe2wUx1x-8In9OnydUoOLLWDG1Z6sJamEWJsCO5ARkhaxqxTzWJ4eDzlq39cFyduODpkERZjWkKOSfCrGEYhK4W0YnU7aczoMA5RMMTjTHQ
15:38:46.568 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzI2LCJpYXQiOjE3NjgyOTM1MjYsImp0aSI6IjFlNTYzNDhlLTdmNmItNDdlOS1iYWQ1LWY1ZjExZTAwZjg1YSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.mNE3FsNz45mpr9YG0-11aUm4b9yi0_cSfZxIg7y53Gf5fvGt4MmptULLLDtZHUr9VN64PT6MLDCwMCVM_s_uVCdO_ywl4BAcVu3lgLtgnR1Ge-JejLRN6qaRdFlanzjV0FZEthh-qlvUkmBl5WPrtjLs90_OsFsqZGMKTXWq8L_jboDtu_EftqiUJ-gjibMyAFXPTvlMtfcVnVwn4JKjSi4tTE7ySR5stn-jTHRuar1EgujMFUETOEYy6608ewpOejsrTlAkMlKcfxzb6VOY4yaA04VNSglBROomUQ44M7cSrgmX_siJJf-6o-qL9mOMmSdYZ7BLRGlWLc2dtE1EpA
15:38:46.568 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: H7Qg3qhBibiF5XK57oN7HG74kFoqN4e_0mXrpBzobUlceqmPwTdRTqBSMm2j7j8AlLskbDvOSIKwAx2FAjM94R1rq1ueaXSvB7VEiQGrOG5yQp_u-5Flpu4dqoQMPOdG
15:38:46.574 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:38:46.576 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:38:46.577 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@73c09685, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:38:46.628 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:38:47.006 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:38:47.297 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzUyNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1NTcsImlhdCI6MTc2ODI5MzUyNywianRpIjoiOWZjMmRmMTAtYzM1Yi00NjRlLWJjYTItOTNiNGFhMDMyZmUyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.SwZoV6VLsnSxNY5edTzTpli01hw09O1dq_KNwuUQCO9tU9-lRuAHsWHuspnHkA5DKnC27WOz1yKdXSOqNx_fhL3FeXa6nux_781ceB8DF0XEL_8TPr4NfGDwaJvbhsXbXO0Pj6r_iKhivU7YV7MCZ-xYWT4cDvO2JnI2lVvU9PLgisb8hPsMtYXwwKjHgrO5vHYuXetPZQNkVL08it3Mi4-G5v4tjsJT3OSQAT5qVIkj3kKPCGsd2S9WrNJpWojzunEHarsFH0ZAc-l8ABhMZpAqAXKm7M7LDr8hvd-Ya8HPqrqNOLo_uaLZGM_QRJCFMdD8XXtFvsyU2t4kN76xCg
15:38:47.297 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzI3LCJpYXQiOjE3NjgyOTM1MjcsImp0aSI6IjQ2Y2FmMzcyLWU3M2QtNDk2Yi1hNTQ4LTMzYTE3YjdkMDZiOCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.PsXq0Y12qLuN0hK8otbIoILH1BP7HIS8_Jtw-8B1S7TDAq9uBjoUPB8m43WVFfcahsSEIwWxoTcGPPAZhs-Kufp1E4bTs4JMlJY5ab2ds6tQ03Vi0K6g4vcuo2wpBbTD0QtC_l7Vfsn98-JOtuBxnxC1BEJe-mEdK6-_o7Fp9EpINg9OohzWB4Y8s4FU4xBey1KnN1EHeXsFasl3dawUpTd8Uz3Pu-X00YNjyyfDPsBU1_fko2m47NMsw1fe0JeP7o2Uvbg7Y1UetO1QLdv24na8X5YxIfZmF4slQb5VUAo2kTUzFdGWXSFPvMRgk_o8U0tYRdZuw8sa4hiW3BZu5w
15:38:47.298 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 5r38bmsK068Ilv6eLdhgPO15dPOSp434V5c1Nzk3jm2DiptLSNt5RYDmklyY9bKvc3fSjhbxkG9XjGxx204d1inZEOHe44_o04LkgcauHU5oD9hvnG4XiSfZJsvcHZYG
15:38:47.304 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:38:47.309 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:38:47.310 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@557f4aa8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:38:47.363 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:39:00.022 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:39:00.025 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:39:00.028 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293540022], value class [java.lang.Long], SQL type unknown
15:39:00.038 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:39:10.028 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:39:10.521 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzU1MCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM1ODAsImlhdCI6MTc2ODI5MzU1MCwianRpIjoiODBkZWQ5ODUtYjZiNy00YzZkLWI2MDktN2I4ZjQ5MmU3MjdiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.ajVQJUGdO696eVmEGdaM1IC440-dc1cSEOTWOjw_TdKw3uxGREN_5VrWXBaxWaZEedpmxRhYo7fKs31IQECyeCvEc9eKr_ZU6t1tRCYTRTwDrZfRETkTHyM7yrxFcbYS9sPRrTo6F8wze7Rj6kyDRbBk549tFMvYxwzpHE0297xCr1QBaMSn-7OPKvok96Oapv3Ntgjvy60mYSSWM2jab-DcijuhdbcLhHfVnuPVw5PZfZ8wpd0M1ua7faFtgvjMH4JpSe4TvYXdEcX_00lIaf5UQqvEprwi7uRlh85cWCKTjqRxFhulksCE4yy-rbA-H8_QJXwetj-70_rwLHRKbQ
15:39:10.528 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzUwLCJpYXQiOjE3NjgyOTM1NTAsImp0aSI6IjY1YWY4YmI4LTE4NzYtNDU0NC04Zjc3LTRiMmFkNjk0ODVmNiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.alznkAQGUujgDqkHbHN8I9a9agUaA3qRx1oloiVHenT7HFStnC-TZnpjZtkPmptiGRGIjwVpO3--RNeOiBxvdDndLqkD963gwz_7PzxX1uecNZQln3jI6tGI3zl9ugpgIylmwj5fggLNsGGKi_x7ZUS62kqWizJM9EFdVjb7c8k8E2_Dj3mp5Y0FtuQOuNlOu4uYy4tln1KVCzd11SgGYzKNGsmeNEeZj5PiRGFt9TqgD4yM-ZGE3JDCwnG0MJOD3Q28FdDdflGd1cCRV7LPiMcLjyum8jAKSgyA7chQcn1xCVImqAFTPdG36lJ4_SWqOdx9lFUsUPm1S0Ft1RLu4Q
15:39:10.528 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: R-LQ9kBZvOWBAVn2D4utsqvXpkvZ3yE__NSibVURT5_S68iZbDK3oGwqEzTwGiBgv7ENslgndLHzpab3RBIGgG1MAwCJ51Slld4MVjzXb5nQzgKWjiIRJk4oA06XQHbD
15:39:10.541 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:39:10.547 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:39:10.548 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@938f743a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:39:10.604 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:39:45.842 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzMyNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1MzUwLCJpYXQiOjE3NjgyOTM1NTAsImp0aSI6IjY1YWY4YmI4LTE4NzYtNDU0NC04Zjc3LTRiMmFkNjk0ODVmNiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiM3BObmJkZUhPRXRUejJzd2NuZl8zWXpmQTNZY0ZiUThYSlc3dDlxZ3lhYyJ9.alznkAQGUujgDqkHbHN8I9a9agUaA3qRx1oloiVHenT7HFStnC-TZnpjZtkPmptiGRGIjwVpO3--RNeOiBxvdDndLqkD963gwz_7PzxX1uecNZQln3jI6tGI3zl9ugpgIylmwj5fggLNsGGKi_x7ZUS62kqWizJM9EFdVjb7c8k8E2_Dj3mp5Y0FtuQOuNlOu4uYy4tln1KVCzd11SgGYzKNGsmeNEeZj5PiRGFt9TqgD4yM-ZGE3JDCwnG0MJOD3Q28FdDdflGd1cCRV7LPiMcLjyum8jAKSgyA7chQcn1xCVImqAFTPdG36lJ4_SWqOdx9lFUsUPm1S0Ft1RLu4Q&post_logout_redirect_uri=https://app.bookommerce.com:8080
15:39:46.130 | DEBUG | DefaultRedirectStrategy: Redirecting to https://app.bookommerce.com:8080
15:39:50.836 | DEBUG | FilterChainProxy: Securing GET /page/signup
15:39:50.841 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:39:50.844 | DEBUG | FilterChainProxy: Secured GET /page/signup
15:39:56.568 | DEBUG | FilterChainProxy: Securing GET /page/login
15:39:56.568 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:39:56.569 | DEBUG | FilterChainProxy: Secured GET /page/login
15:39:58.359 | DEBUG | FilterChainProxy: Securing GET /page/store-login
15:39:58.360 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:39:58.360 | DEBUG | FilterChainProxy: Secured GET /page/store-login
15:40:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:40:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:40:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293600004], value class [java.lang.Long], SQL type unknown
15:40:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:40:02.628 | DEBUG | FilterChainProxy: Securing POST /api/login/store
15:40:02.631 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:40:02.631 | DEBUG | FilterChainProxy: Secured POST /api/login/store
15:40:02.743 | DEBUG | DaoAuthenticationProvider: Authenticated user
15:40:02.745 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2ca37404]
15:40:02.757 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:40:02.758 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
15:40:02.762 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:40:02.762 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:40:03.821 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=o0sf9qyq1kBMtLpoqxZaiECN8gpg0f3wXWXvUwTVYVk%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=x0KN8EmdjVm8OQb7I8P3OD468eSE8scNX4K22PySlJQ
15:40:03.824 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:40:03.825 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:40:03.830 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
15:40:03.869 | DEBUG | SessionRegistryImpl: Registering session 9fdf36f8-f80e-43d8-95fd-a20fbff0cfcd, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
15:40:03.870 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=jivMx2uv_h6DT2j_7NCxsaOPrfuwvzQbp7f1SPgFAeF-q-TDXJo8QZglM5Pcp4Dg2ElpuMbKW2BHlZxvhuO8EPAa2E2daB2OUDKy_w95TFhAvQDuL2uSOP6FAR7UHLk3&state=o0sf9qyq1kBMtLpoqxZaiECN8gpg0f3wXWXvUwTVYVk%3D
15:40:03.872 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:40:03.872 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:40:03.875 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:40:03.876 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:40:03.912 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:40:04.207 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzYwNCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM2MzQsImlhdCI6MTc2ODI5MzYwNCwianRpIjoiNDNhOTk5YTctNDVhOS00YWYxLWFjMDAtMDhlNDQzNzVkN2VmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.Sd0lwIIHxl4OUoIzE8mQAcnSGMeI00ppqUV8Faj_kB6Itw-V39MYJkCm4LTkgVJJ-tIv2zb5N9Dzkx1jsuQwHk4rCbA81jgrMW0rcEtqLJooCpwEGWSEHwv-wHifzkEX7BxwenMeWh-PMgoU6svsxUkyggyJ1RufpIPhABeUn0BxxFQOfYka0iSAyrHpNpsoha9iFPe8DVHd2e7ht7csPjArjpfmnXi2fgODofe5iNfmiXIKgE-upbVHoWNImMPaxIYzRArXGlo1qOlzI2H75FNcDlHsUGr-fJwJCekCepfPJ5MJjmRMzcbGnXesWbHP9bZSKEekcH269dT25cY9TQ
15:40:04.209 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzYwMywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NDA0LCJpYXQiOjE3NjgyOTM2MDQsIm5vbmNlIjoieDBLTjhFbWRqVm04T1FiN0k4UDNPRDQ2OGVTRThzY05YNEsyMlB5U2xKUSIsImp0aSI6IjBjN2ZjOGVlLWUwMDgtNDc1ZC05OGFmLTQ3ZjM5YjNmN2NmYiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlduNmVmOHNlZVJ5ZHNtYk1fVEtoRDhvUmV1Rml5Ql9UeHkxSFJzcVROUkkifQ.PJ88J7SDAXJqJGPdIjF6RtiEZJFum25CBJxdzN9nqvmF4XrQbFNBzMddMh01UWZD5or7GIyRyPM8kF4XgSrfEIa_JD1WEcFWN4O_bQshCfr_MyVWu4Bz6J6VEOPVCg6Z5-dozMSJbae1kJzWZlGOaHgFckQ82Zi1I6kuYn31Yp3auNd09JZcXyLqV66u8jPkc1jY50a5xePRsfq7eUgJoWQjHHbRgofFiBRqztE103FoAFdKKK1tWej7ZpTk6eu4KqM9lqKqL6fGmC_LNHdz1_YHUzr34udRLdLhngjElEn0kmgLDK7jsUm23b00WIhDjzgKZTP0pQcuU_1aWNfimw
15:40:04.209 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: eK5ygQVsiVCGPiAVQZ-xQzxS9IIL1Vt8i4luWz4aRgi3iyVyeubN-tjRLnAv99ytKNSS-pAiSzYQwTmRTO99U-TqtfDSbGvGQaw_cXg0PPQU0bNK9dDSdXmQ7qF-dbZd
15:40:04.219 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:40:04.222 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:40:04.223 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a5f45c48, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:40:46.472 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:40:46.761 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzY0Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM2NzYsImlhdCI6MTc2ODI5MzY0NiwianRpIjoiZmExMTViYTMtMzdhMS00Y2I3LTkwOGMtMmM3Mzk1OWVmOGQ4IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.ug3LzZ8qmDsdM-VKkZC9Rd76GoYx4RlzN_6AEQww9hDSTfpp3JY21jE3hwZk1fTYmC8wwlsENTkP-XSkA_klHEkNuoIqO7n1qtIvhL5rg07lSi4vMTntkqKcVVlNW15pdYbZEjVb-JAgnWGkMo6IRnLUh8LT_EQtTZSqD4tNyr8t9N7Vs0CcBAr2o1cGhyW0vDrbUxCpOqxE2gnTyT5uPTaJcd4j5jjGmynUeuS8xvy4LkhZPDQ8Di3mPiK-cd7UtG6QDIV3J3iWv7pbRLu1u4EejMZ1yLSUXRfK9pydy5mE0avqCqhLy-Exf2yQ3Dh0vcUI6Xw5a6w8KkHeQpHYQQ
15:40:46.762 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzYwMywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NDQ2LCJpYXQiOjE3NjgyOTM2NDYsImp0aSI6ImNhYWNhYjU4LTA5MDktNGRmNi04ZWI4LTdhODJjYTM0MThjMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlduNmVmOHNlZVJ5ZHNtYk1fVEtoRDhvUmV1Rml5Ql9UeHkxSFJzcVROUkkifQ.DOhliyEr4aNKqweRGaNhVp1VWClplTSjaX8ftRe7QmkrUUCmuxJSTNMoVggtkWP2tYJ2fvofcNr7dAdInpI08u4EYyjk7YnPmXE8XKoFj8IwJCZB2zLxrr0_0JHqLzbmwbTHm69R6df5QFCl2-n2VTBSzgGteeOMBsJXa05f1QiegUMvzpJSF4-EOstRHiTPSDgpxfLYoZQo-Za4smN-VBe6Blhx6H-29icyPCER_PNtiuVCF_o8w442ACQraG_8tjsvUy4tZTqUSzdszxrSLDVJiGkJ2vyDgeTsr2cUeNR3mVDU98hENpG2nLDAQ67OpXCI8sNgDlbSEC5f0ihpiQ
15:40:46.762 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: JoON6Sl3AFErWG2L93V5N8TBaerNbZHXKMIe7MalWcRu5IcteL5f-NrPb6o5XlObKqzVeRDCXTrgaKCxYK0GDWLpzz3E2_E4mVSRsSwfD-HZUBhKnokNYGIjbZp1coaY
15:40:46.773 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:40:46.789 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:40:46.792 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:40:46.793 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@93ec9c7e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:40:46.920 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:40:53.435 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:40:53.856 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzY1Mywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM2ODMsImlhdCI6MTc2ODI5MzY1MywianRpIjoiMDhlYWNjMGItOTNjYi00NzZlLWI2NzEtNGNkYjA2NWIyYzNmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.Ae961UPtFkqTXeJ6sSKtajHtssnITR6t7nI4AoiKUqs3M2gteNtPbTAQbEaDcEA-dxRmptocNO-sJgmHtBDCyDAeroRju62zY3n2ZN3SJt6r_P5f5nOhJbfUE69N8IvzID7r8bDsBhqj8xBW2EMhVYB8CsEUOw-Y6rp1SQ545WXzEPG3a5XDH-bBi1wzjyr2DmGBg2f9Qbph1xCRmj-dtlSEbVL0-4IaR2cWf4ggztcgor8P3D3ZCeqwUEQ9QsuGHQIFIIKfWTswzvAWqooFEcQnx0nQD_qQn1iuuYwSypZ91d-gSyjgm0ZBS2y9uPly9IxMriMVE4SO4bykNlaD7g
15:40:53.857 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzYwMywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NDUzLCJpYXQiOjE3NjgyOTM2NTMsImp0aSI6IjY5Y2I5NTE5LTUwZGItNGZjYS1hNDQzLTQ0YzlmYmI1ZDFhMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlduNmVmOHNlZVJ5ZHNtYk1fVEtoRDhvUmV1Rml5Ql9UeHkxSFJzcVROUkkifQ.mM64Jowvh1Fv3X0MMc8qYAUnssP5RcdTU0O9If-4KxPfLzPMBVXK3Xe19J8qmfZpsimlEkrB4dnD4r_nrFwbJqOVS_Cu4c1OS-WhSedAHi0sPoNX0pS0A9Ke0oZ9GRI2tyxAubkVSIeSpxWZcNEiNGViVxyg_1wvVKufFji9dOt55fXQcBPeWEFeEKq3QnbdmUIAk8ggZ_CYxpPZgV-vYwvIy843DIUzx1i4plOYAHT8u3kizyBdb839I2ZHGVaU2k_AWqaxoS91imFhbZF55uo8_Mi_wAhsBf3S5K_F9EvQottWh7BABzVE3KdBHpwqgzppEstkZgE_ngamSU5QPQ
15:40:53.857 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: r_JBp01AUrkbNuJ4t6tv_5cJ_7GSCDCWhu5RrO1GPtYfo0icI51x-zDCFibu6AV8tT9qI06VkPwOi-_4V9K0c8Q-rZGWgjONg1_mLitRcWDM6bCnL_TPOTao5_hTMLMx
15:40:53.863 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:40:53.866 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:40:53.866 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c33d1ff1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:40:53.930 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:41:00.002 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:41:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:41:00.004 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293660002], value class [java.lang.Long], SQL type unknown
15:41:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
15:42:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:42:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:42:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293720012], value class [java.lang.Long], SQL type unknown
15:42:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:42:04.595 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzYwMywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NDUzLCJpYXQiOjE3NjgyOTM2NTMsImp0aSI6IjY5Y2I5NTE5LTUwZGItNGZjYS1hNDQzLTQ0YzlmYmI1ZDFhMSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlduNmVmOHNlZVJ5ZHNtYk1fVEtoRDhvUmV1Rml5Ql9UeHkxSFJzcVROUkkifQ.mM64Jowvh1Fv3X0MMc8qYAUnssP5RcdTU0O9If-4KxPfLzPMBVXK3Xe19J8qmfZpsimlEkrB4dnD4r_nrFwbJqOVS_Cu4c1OS-WhSedAHi0sPoNX0pS0A9Ke0oZ9GRI2tyxAubkVSIeSpxWZcNEiNGViVxyg_1wvVKufFji9dOt55fXQcBPeWEFeEKq3QnbdmUIAk8ggZ_CYxpPZgV-vYwvIy843DIUzx1i4plOYAHT8u3kizyBdb839I2ZHGVaU2k_AWqaxoS91imFhbZF55uo8_Mi_wAhsBf3S5K_F9EvQottWh7BABzVE3KdBHpwqgzppEstkZgE_ngamSU5QPQ&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
15:42:04.638 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/store-login
15:42:04.647 | DEBUG | FilterChainProxy: Securing GET /page/store-login
15:42:04.684 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:42:04.687 | DEBUG | FilterChainProxy: Secured GET /page/store-login
15:42:29.042 | DEBUG | FilterChainProxy: Securing POST /api/login/store
15:42:29.044 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:42:29.044 | DEBUG | FilterChainProxy: Secured POST /api/login/store
15:42:29.111 | DEBUG | DaoAuthenticationProvider: Authenticated user
15:42:29.113 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@2d861f7c]
15:42:29.116 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:42:29.117 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
15:42:29.119 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:42:29.119 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:42:30.174 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=X4CDVIRAy_4LtSkf3Y7VNk_vIT1l1mfezY40-11gvn0%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=4yGShGh8BjvAsVWi69Gd8MW-dbSdwFz87sOIijemNvQ
15:42:30.176 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:42:30.176 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:42:30.178 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
15:42:30.209 | DEBUG | SessionRegistryImpl: Registering session 4b6d6e66-c1ee-4b59-a1e8-a680feb88d61, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
15:42:30.210 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=LI72m22_sp5vW7RIIhzqRXcugoSgGbCgNaRQuIF3QhQdYRzMEYvCpv8MpzRbsETiTUGA5EOrQHyY7mSwuazaI7r3tqLEZiugqb7txbfZ5PiDtRffM_FUPyAp-Yc3Zy5Z&state=X4CDVIRAy_4LtSkf3Y7VNk_vIT1l1mfezY40-11gvn0%3D
15:42:30.224 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:42:30.224 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:42:30.230 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:42:30.230 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:42:30.272 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:42:30.567 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5Mzc1MCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM3ODAsImlhdCI6MTc2ODI5Mzc1MCwianRpIjoiNzk3ZjA0NWYtZGQ1OS00OWVmLTk3ZjEtNTAwMTU3ZWQxM2E1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.BCKZ9NiUrPIEd5hCLAhsBN3YrQKlLCPlGp-pkAV9hieJgHd7857EnpDxzK7wa15Gnau9yDGL3ScTKSB8zk0mAio_GqGrLdI-FkaiMA_tJKmxhSqf_HlbJTviue1LTqrdEjC8SqKQwjvz2uAp6o3XYsgiGwQVbvnQKVhVlCZ8WA6yfoplaK-RI6pZ0YweX-11E6JgAvpnbGvh0E2lRiso2iXzcFfKdlhLD2qC7RmOtR5OAk47W78Xg_fbbnNVRLsY0HBaSOb2eFePrs3v3eoirA4RxfZlMsbVT2hHY5XoPEhcsYjfR01uZjCjDH_Pk5xkKtRfqHC1LyZMapLxrOL9ng
15:42:30.567 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5Mzc1MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NTUwLCJpYXQiOjE3NjgyOTM3NTAsIm5vbmNlIjoiNHlHU2hHaDhCanZBc1ZXaTY5R2Q4TVctZGJTZHdGejg3c09JaWplbU52USIsImp0aSI6IjFkNTg1NmJiLTQ2OWItNDdjMy1hODZmLTJjYjk1Yjg0ZjRjYyIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IkhDV3VZN0t1M0pEbnBQbm1VZzl6NHpWakpCNnJrYWR6QVptMF9MZnI3OUkifQ.bmkPYlBz9BTjNMIyCI7OCURy1IK3YfzTu5PKyYi5Qn8R_-GPV6xoW-jsB9onfXKtDQr668TvGPDmGSHtg1JZCOQ6o-3lMHY1yNR7EqT57K4gANg62W74RVTkLV2oJ2ZbZt6xg7FGFMd8dajoIVIXWOCk4DbTsYX0E896cBZHXN1dKtXNxLkE5rdKVanhq8QWUF2eI9gmLB3PPONm8WhGfkLrBnwPAd1uiMdDjFqAC-Fd1QwwsCkbQkk0zwsLT9CZTvBXa8MyNW8tzUSNNl0j3A8k1ILHTu6ety_peQbli2Ie2h_SIk_DkTHBTsmSZF3_-HHVk0eaK_xqBgTinLQbfA
15:42:30.568 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: CtQsZrYt82IgA3vCSuxpbWmUei9ZEQbgpRAIuNG26hI5ZDK13xyHGE7zlrRWgZ91D9alJAKtYBOx0hR_c6BfbVmviFaKbhAuAjhwX68dTLj-Vo4BOFlNC4FZeJyCpy2t
15:42:30.573 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:42:30.580 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:42:30.583 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:42:30.584 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@fb0e3d60, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:42:41.861 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5Mzc1MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NTUwLCJpYXQiOjE3NjgyOTM3NTAsIm5vbmNlIjoiNHlHU2hHaDhCanZBc1ZXaTY5R2Q4TVctZGJTZHdGejg3c09JaWplbU52USIsImp0aSI6IjFkNTg1NmJiLTQ2OWItNDdjMy1hODZmLTJjYjk1Yjg0ZjRjYyIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IkhDV3VZN0t1M0pEbnBQbm1VZzl6NHpWakpCNnJrYWR6QVptMF9MZnI3OUkifQ.bmkPYlBz9BTjNMIyCI7OCURy1IK3YfzTu5PKyYi5Qn8R_-GPV6xoW-jsB9onfXKtDQr668TvGPDmGSHtg1JZCOQ6o-3lMHY1yNR7EqT57K4gANg62W74RVTkLV2oJ2ZbZt6xg7FGFMd8dajoIVIXWOCk4DbTsYX0E896cBZHXN1dKtXNxLkE5rdKVanhq8QWUF2eI9gmLB3PPONm8WhGfkLrBnwPAd1uiMdDjFqAC-Fd1QwwsCkbQkk0zwsLT9CZTvBXa8MyNW8tzUSNNl0j3A8k1ILHTu6ety_peQbli2Ie2h_SIk_DkTHBTsmSZF3_-HHVk0eaK_xqBgTinLQbfA&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
15:42:41.864 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:42:41.865 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:42:41.868 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
15:42:41.930 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:42:41.930 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
15:42:41.930 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [4b6d6e66-c1ee-4b59-a1e8-a680feb88d61], value class [java.lang.String], SQL type unknown
15:42:41.934 | DEBUG | SecurityContextLogoutHandler: Invalidated session 4b6d6e66-c1ee-4b59-a1e8-a680feb88d61
15:42:41.936 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:42:41.936 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:42:41.942 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/store-login
15:42:41.947 | DEBUG | FilterChainProxy: Securing GET /page/store-login
15:42:41.948 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:42:41.948 | DEBUG | FilterChainProxy: Secured GET /page/store-login
15:43:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:43:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:43:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293780015], value class [java.lang.Long], SQL type unknown
15:43:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:43:01.879 | DEBUG | FilterChainProxy: Securing GET /page/login
15:43:01.881 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:43:01.882 | DEBUG | FilterChainProxy: Secured GET /page/login
15:43:03.296 | DEBUG | FilterChainProxy: Securing GET /page/signup
15:43:03.297 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:43:03.298 | DEBUG | FilterChainProxy: Secured GET /page/signup
15:43:11.870 | DEBUG | FilterChainProxy: Securing GET /page/login
15:43:11.871 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:43:11.872 | DEBUG | FilterChainProxy: Secured GET /page/login
15:43:23.937 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
15:43:23.940 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:43:23.941 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
15:43:24.017 | DEBUG | DaoAuthenticationProvider: Authenticated user
15:43:24.018 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@691d0fdf]
15:43:24.020 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:43:24.020 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
15:43:24.022 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:43:24.022 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:43:25.078 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=IwcQSczBxc9SvTiWC6KaXSgdRux6xLUXPL6CFyvKF8s%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=D4HYDB9Cy-FxtyCPHxio7CeNoQS3_fwFqu34Am1wnfI
15:43:25.081 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:43:25.081 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:43:25.085 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
15:43:25.110 | DEBUG | SessionRegistryImpl: Registering session ddb9b373-f197-4e6b-ac92-52b4d92c4d44, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
15:43:25.113 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=Ycq1wQ5MvakOXf8bRKHRpOt1rtBMTjAJrqSgczJxbzYBmn3dHcAFxvakM1QyGoRdxMLh11-us4QHpc2hOW-_NiCt1m-sbQKL64ZAp7VHT_GI7OzWd34GxsPrmoNOfg0z&state=IwcQSczBxc9SvTiWC6KaXSgdRux6xLUXPL6CFyvKF8s%3D
15:43:25.118 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:43:25.118 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:43:25.122 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:43:25.122 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:43:25.145 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:43:25.505 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5MzgwNSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTM4MzUsImlhdCI6MTc2ODI5MzgwNSwianRpIjoiMzY3NzQ4ZDEtNzVmMi00MTA4LTk1NmMtNmQ1ODQzYjMyZDIzIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.JZ3mCDKqzqYqSMLDGMskG3a8lTPDt540QjaSwL7OKGMamWrr_O0oxq0ZyDz6yDjgHXtGE7i8uDQUJWD212VR4etf_AdK_QkYrPcT-ZHwMpEAcwQksfDTBGGIVgALkklU-cW72E1bDc1-bYVoF-SGf_DtD9U-683A2vjoX3w16lRizMhvS7r0Go89H4Lir1Xq2Fv0_Bb4uFk4whjb9wlIDiSuY7YdzinCLcdF7L867kHibrdP_zAqLedeJA2IWfFyXp1noQb1Q_Jt_vEwI0F7qc9a12dJYQTKybTMf7L6HIqu5faDqwsOlxJtozru7WCInw9h9H5wcUdI7fqCS3NTbA
15:43:25.506 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzgwNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NjA1LCJpYXQiOjE3NjgyOTM4MDUsIm5vbmNlIjoiRDRIWURCOUN5LUZ4dHlDUEh4aW83Q2VOb1FTM19md0ZxdTM0QW0xd25mSSIsImp0aSI6IjkyODM3NzM2LTg3ODItNDhmZi05MmM2LWFmNzI4ZjM0ZGQ5OCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiRlRkVmZhLVVBRmtDcGFYTF9oNDEzT3ZMWTBhQTdvRjRTQ1A4RjlrbDVWNCJ9.DDXqfFljnf47krZzjXrZCFSy-mfkH1mtsdFLGRZDpomyIWJZ7hrFEKeyLs__lU0-a3smT1jXOmGtLlq4UeF0UaoPMwpQQDL-1DIkzDv-9DIlz6OB1qyAdITMaT-daHxcC3o0OSMoDzBkQu-4Ic2wtLLdirKu9BOonI2qQ15xaj1dJ57if27JG9D_YoRPisJUN9drEKnIaX2dnggWDDBu8jq9BqDlkAyVa3fmNu0Ugne2Ume8JAKtPq5c4sZ3XLHYpUJXSHXGrq2jtA7WCLmzD0mA2XetT6giu8Tnlc0ZFpNAuKdhhGIEyMM62H0EUgyFpL7XVIcdixYv1iNWXtJPRA
15:43:25.506 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: i1ym4MmD5VXhg9cPrWV0T6ek2GzRbzJ2smb6SlPLB8bdGaGVeUW6Zfyh1Y47edtcPerXDbToV7c5VarFAKNpkNnR7a3ird2Xxg_15K2eCPrfmdDV7sd7ifDNj0Ub_6QR
15:43:25.516 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:43:25.518 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:43:25.518 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c7c16ead, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:43:32.829 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5MzgwNSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk1NjA1LCJpYXQiOjE3NjgyOTM4MDUsIm5vbmNlIjoiRDRIWURCOUN5LUZ4dHlDUEh4aW83Q2VOb1FTM19md0ZxdTM0QW0xd25mSSIsImp0aSI6IjkyODM3NzM2LTg3ODItNDhmZi05MmM2LWFmNzI4ZjM0ZGQ5OCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiRlRkVmZhLVVBRmtDcGFYTF9oNDEzT3ZMWTBhQTdvRjRTQ1A4RjlrbDVWNCJ9.DDXqfFljnf47krZzjXrZCFSy-mfkH1mtsdFLGRZDpomyIWJZ7hrFEKeyLs__lU0-a3smT1jXOmGtLlq4UeF0UaoPMwpQQDL-1DIkzDv-9DIlz6OB1qyAdITMaT-daHxcC3o0OSMoDzBkQu-4Ic2wtLLdirKu9BOonI2qQ15xaj1dJ57if27JG9D_YoRPisJUN9drEKnIaX2dnggWDDBu8jq9BqDlkAyVa3fmNu0Ugne2Ume8JAKtPq5c4sZ3XLHYpUJXSHXGrq2jtA7WCLmzD0mA2XetT6giu8Tnlc0ZFpNAuKdhhGIEyMM62H0EUgyFpL7XVIcdixYv1iNWXtJPRA&post_logout_redirect_uri=https://app.bookommerce.com:8080
15:43:32.831 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:43:32.832 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:43:32.834 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
15:43:32.898 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:43:32.898 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE SESSION_ID = ?
AND MAX_INACTIVE_INTERVAL >= 0
]
15:43:32.898 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [ddb9b373-f197-4e6b-ac92-52b4d92c4d44], value class [java.lang.String], SQL type unknown
15:43:32.905 | DEBUG | SecurityContextLogoutHandler: Invalidated session ddb9b373-f197-4e6b-ac92-52b4d92c4d44
15:43:32.909 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:43:32.913 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:43:32.916 | DEBUG | DefaultRedirectStrategy: Redirecting to https://app.bookommerce.com:8080
15:44:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:44:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:44:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293840012], value class [java.lang.Long], SQL type unknown
15:44:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:45:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:45:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:45:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293900003], value class [java.lang.Long], SQL type unknown
15:45:00.014 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:46:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:46:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:46:00.022 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768293960013], value class [java.lang.Long], SQL type unknown
15:46:00.066 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:47:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:47:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:47:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294020006], value class [java.lang.Long], SQL type unknown
15:47:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:48:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:48:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:48:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294080006], value class [java.lang.Long], SQL type unknown
15:48:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:49:00.061 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:49:00.155 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:49:00.173 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294140060], value class [java.lang.Long], SQL type unknown
15:49:00.216 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:50:00.024 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:50:00.027 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:50:00.030 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294200023], value class [java.lang.Long], SQL type unknown
15:50:00.058 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:51:00.027 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:51:00.033 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:51:00.039 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294260026], value class [java.lang.Long], SQL type unknown
15:51:00.077 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:52:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:52:00.020 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:52:00.024 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294320013], value class [java.lang.Long], SQL type unknown
15:52:00.037 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:53:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:53:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294380013], value class [java.lang.Long], SQL type unknown
15:53:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:53:28.588 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=dozW3H8wQUnICYXbLguKdVEP-OLpkeaKQzdgOyYvt5Q%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=aq25eDlwrG_Q3qk0yq3SoxgQ89tyZziUbqWBL7FXLhc
15:53:28.699 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:53:28.709 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=dozW3H8wQUnICYXbLguKdVEP-OLpkeaKQzdgOyYvt5Q%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=aq25eDlwrG_Q3qk0yq3SoxgQ89tyZziUbqWBL7FXLhc&continue to session
15:53:28.710 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
15:53:28.712 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:28.713 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
15:53:28.718 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:28.718 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:53:28.819 | DEBUG | FilterChainProxy: Securing GET /page/login
15:53:28.825 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:28.825 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:28.832 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:53:28.837 | DEBUG | FilterChainProxy: Secured GET /page/login
15:53:28.873 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:28.874 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:53:28.896 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:28.898 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:30.501 | DEBUG | FilterChainProxy: Securing GET /page/store-login
15:53:30.504 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:30.505 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:30.507 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:53:30.509 | DEBUG | FilterChainProxy: Secured GET /page/store-login
15:53:30.518 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:30.518 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:53:30.528 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:30.528 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:36.184 | DEBUG | FilterChainProxy: Securing POST /api/login/store
15:53:36.185 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:36.187 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:36.189 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:53:36.189 | DEBUG | FilterChainProxy: Secured POST /api/login/store
15:53:36.287 | DEBUG | DaoAuthenticationProvider: Authenticated user
15:53:36.287 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@76148910]
15:53:36.299 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:36.299 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:53:36.302 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:36.302 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:53:36.313 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:36.314 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:37.389 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=LkONK-nhXKQQ1hIpbOtxDWwdCElugd9NHjIfTK66e28%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=aRkjuZStiNgdwD94WpT5kW70Az5JRByJx0-dGcYrA0s
15:53:37.392 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:37.392 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:37.403 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
15:53:37.506 | DEBUG | SessionRegistryImpl: Registering session 48d28243-115f-4ad7-a65e-10ef1e5c411f, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
15:53:37.506 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=m7ZiAEstQEqmg-vxzTvVWVA82IYTDfdgrbnQcJINL_3fjOC2B0NOrMbIb0lTW5mHmGTrP_MBJGfc0Mw4H5mCJiflDcdsnd38jqH_7g8nDMDTzkMN2kc83DsjPfDBHp14&state=LkONK-nhXKQQ1hIpbOtxDWwdCElugd9NHjIfTK66e28%3D
15:53:37.507 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:53:37.507 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:53:37.510 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:53:37.510 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:53:37.555 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:53:37.913 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NDQxNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTQ0NDcsImlhdCI6MTc2ODI5NDQxNywianRpIjoiY2UwYzg2OWYtNzI3MS00Y2RhLWFkYmItNGU1ZDM3M2NmNGM3IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.uG7qyf8JQDul8WRVaNCb7X5qHJqgDM2Ze3FAuUoivE1kq4ZrVhDJ5vIBz2O2xMm8rx4_yhAJXSBi8IOIEA22JRyKj1nQzmivEcThMqFNYHCTfsqYpOi8BS1VCgzFYlr_CmXLsLct7lw-HGb9bsNN86OJFXPzAPVQfVuUkb5MZBZOU8vJMOqxhbuD1qJyK9QXVj2wiqS2qEHI4fDqUS9P8aQ3HyjcssSKlqs7UKlktcJXH_5YwABSbhKbNIwCKCDw7pxDhc6jRoIQds1vg-CI5DXPkjjv76nXdRM5BqGrKkq0SFcdkjnwvOYfbIdWWrQ2wD-Ovsm1jSdPorF3eGoolg
15:53:37.916 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NDQxNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2MjE3LCJpYXQiOjE3NjgyOTQ0MTcsIm5vbmNlIjoiYVJranVaU3RpTmdkd0Q5NFdwVDVrVzcwQXo1SlJCeUp4MC1kR2NZckEwcyIsImp0aSI6ImIxYmVmYzM1LTMxZjYtNDU0YS1hMDUxLTVlODFmNmUxYjAzZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlVDNFZ0QkZpaUxUaXljUmNjaGczVXNtVXlXTVRGXzc4TXFBNXRPd1ZFLXMifQ.SwAcRK5fHC96TcTPzeo8l75Lan1d6vdRJ2QPqMCwJHqDikGlNBbqdxq6wPIgXNZ-ylZgqIlZDobGIxgeFbiD-T0rXL-Gua-_R2VSUWsvYgAdWga0SG63UhJrAktAwrASzfYfq0MznuFJ9Ixitjgzt_S7mEQgmf8D8y1r40N9wj7IVaouT4vff3F-vjWGqyIGD8uIwmNZtsMeLQybuLsucm9KMcqxYahpmaCD0oulG9F6JsTHfuhf25QiwUzZqHXJfy9jhSQXW0UOMf_cNpAm0SkyZ_AV85pbJVYKSFcwI51XiImHkEvPNBALsY98fhxyFRZlVQDmnpEU5Ha37YkLtA
15:53:37.919 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: gaoclfcXUpcIy9TIaMv7HL4kT9HLz4o4uSajG0sxZZ9M2Kq6c6h3jyg-78Y0FfVGmuLpTRKJFOm0mph6QG0cg9NOJJwvbdwKyfAeVWz8AtAjdJXC-eWimBEp5t1get-b
15:53:37.947 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:53:37.963 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:53:37.976 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:53:37.978 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6e61e40e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:53:48.846 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:53:49.371 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NDQyOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTQ0NTksImlhdCI6MTc2ODI5NDQyOSwianRpIjoiYWNmNzg4M2EtZGNkYi00ZTI1LTliNTYtNzYxZDkzM2FiNzYzIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.Km43PUp8mGJ0KGEbILrQew6wTqjeMEUsAihHuoGkepRnUrIoIltJCOuprG0T1kgIiA_rTJC1j5UshgU5kVI2fAS35VZCwRGf8dmJG_5W-g6v6fahAcdm7n5LDgABl_QltRIDhUV8IuprvmdP55vW0veErPdJQ59orLtKRceSY9RjK5zcZyLFnpfneSDZaQUgZ_tqx_GhQfTK0xXa3Uhuh9IzqusGswr9lfdng_qtyP255v4woXZW6gVoTmEktrZeFaKHpee5c3f4SYq3ecE2-r4q60_pgt1vBncdkfk83FqYxzECeD3y3vyXKeILuT2ofDYiWKwQNh4fvqLqdlfa_Q
15:53:49.371 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NDQxNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2MjI5LCJpYXQiOjE3NjgyOTQ0MjksImp0aSI6ImFiYmMwM2FiLWNlZGItNDU1Yy05OWIwLWFkMTU2MDk2NWNlOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlVDNFZ0QkZpaUxUaXljUmNjaGczVXNtVXlXTVRGXzc4TXFBNXRPd1ZFLXMifQ.akYoVTLw3UhcdAPfIv3uKcf07lLu2LAV5d0VpfiuGntMRAdyzW2NhdimBqk_pOOxehysrAJYlm4bWXK7b7qdlj1l4VTm4neL2JtXhznjJvfWBkiLepOBa0EMgF1H2JddKXrnbXgdFrE8NbRG-t96M0m3XIsYJByUEi5Zspq2PPbUm6UQIR52DR_GEMGmto1R7_39NtnnZNQfgDp4Ey_oUaxmGdaMco03pJSRdB5XQQlaUh5XK4IInPD0CsFlPQUnUtAHDewxS9i4h-jC2HoTO-A19Wj_OBai1jlbVwRO2jW0cpQuMOJYAqIOij_kMh9sBAWw6TyqjQB-6Qx6wVFsaQ
15:53:49.372 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: -D1WteNyrxht_sCpsv_jTjKucG--35Mfct5N4tYAEFReVc2Fk8P4Z2wm573MpyD-nHPbUg8VQ_A3cBWy4iGhndYDN0vEPAXG2jQb3yD4SLG2n3f5CSZD7XEOO0bwmOsp
15:53:49.381 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:53:49.389 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:53:49.393 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:53:49.394 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f48323e7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:53:49.477 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:53:51.909 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:53:52.271 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NDQzMiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTQ0NjIsImlhdCI6MTc2ODI5NDQzMiwianRpIjoiOGNhYTQwNDMtNjkyZC00NDNjLWEwMjEtZDU0ZmQ0ZDQyMzBkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.pUHTCu_tOWCL0o0VpQ97hu4uoB2Y6lZH-hlGLfwMdm0vD0h3Zn9gwmf5BzPp1K4YUjVDT1VAAy5qoJ9rba_LtWmTmnr6g_lxR0EpzWUY3KDelzUAEcmzXqGm_RcbgAER8j5Dmj65korn1kg6iwRFGMe5lRoEniYhZEA7EX1sxfjifX5S33C6Mw70mex6VSXQBQQ3091JQw3EvWOAhlikc-li5gC1r9HOWk0mko66fSseD7-sgQ8RHBo6tL6LHUDcBU1qNOk8GqTYNxvxUadvZdMnax5zkS-9wxqm8lU1KzLkCP5hzmmN44ElxvP0pNJ5SwW7B-wq1tipVbHYDPIx4A
15:53:52.271 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NDQxNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2MjMyLCJpYXQiOjE3NjgyOTQ0MzIsImp0aSI6IjBkMTQ1NDM2LTc0YmItNGQ2Ni1hNWZkLWU0NmIxZGVmZTA1MyIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlVDNFZ0QkZpaUxUaXljUmNjaGczVXNtVXlXTVRGXzc4TXFBNXRPd1ZFLXMifQ.SK_N9BspEaabCkaCGzVsL0iQyvUho02fWWZbpe2OqPYoWT61zTx4RuHoqmeejRaAfzDm6GEztAQYrAJfrjVd3C6nkP3PSBL9A-peAYcRgm5NcmCRXCFo-lUEnBbIIILfPHa325eLP4Qla0MiOpH8QuVByxo4rTBCKq9Cndxd2H3X8vXGGDY0gvuPjH48LpiYeqDnW7jyGFY3RyKfomYU0KlE9v8Dms-6QcK7mFRJ9RXTK6-NtobNUxQxF4RYPKkqsR0mS97rThSL0m93Gmizua-mNd6dRqLxMbAazf4dUI4a3pQ-RKzJAJbB0wzomm2gKhTl6QfNxX1LuCoIv9uciQ
15:53:52.272 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 6RgA_qSuvXTr2ldvFQBpfUkkERjr_lOQ-sFVTdC13ErsgIM3Su_pJyWd1ZlwT40kPO2yUMNOR1AENRqJcc-TFCw-wCydkDvmE8aZWBeF3gHURlbb-bJwYijxHkt15INZ
15:53:52.278 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:53:52.279 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:53:52.280 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c323bf62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:53:52.328 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
15:54:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:54:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:54:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294440011], value class [java.lang.Long], SQL type unknown
15:54:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:55:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:55:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:55:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294500011], value class [java.lang.Long], SQL type unknown
15:55:00.031 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
15:56:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:56:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:56:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294560010], value class [java.lang.Long], SQL type unknown
15:56:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:57:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:57:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:57:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294620006], value class [java.lang.Long], SQL type unknown
15:57:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:58:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:58:00.020 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:58:00.022 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294680016], value class [java.lang.Long], SQL type unknown
15:58:00.032 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:58:55.308 | DEBUG | FilterChainProxy: Securing GET /page/login
15:58:55.330 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:58:55.339 | DEBUG | FilterChainProxy: Secured GET /page/login
15:59:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:59:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
15:59:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294740010], value class [java.lang.Long], SQL type unknown
15:59:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
15:59:34.167 | DEBUG | FilterChainProxy: Securing GET /page/store-login
15:59:34.168 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:59:34.168 | DEBUG | FilterChainProxy: Secured GET /page/store-login
15:59:38.131 | DEBUG | FilterChainProxy: Securing POST /api/login/store
15:59:38.133 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
15:59:38.136 | DEBUG | FilterChainProxy: Secured POST /api/login/store
15:59:38.316 | DEBUG | DaoAuthenticationProvider: Authenticated user
15:59:38.322 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1bb488c]
15:59:38.339 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:59:38.339 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
15:59:38.353 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:59:38.353 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
15:59:39.439 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=M_khew9Ub9hVY9O0Ogg0r2ij_WIm2L8mJ6kQJlGCKZ0%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=9FkchMGPOkCh-R78svBVI7-hTgcXhTKmit9D4KueAFY
15:59:39.444 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:59:39.446 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:59:39.460 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
15:59:39.528 | DEBUG | SessionRegistryImpl: Registering session 613b1ba5-94fd-47ad-a2fc-36f7353403c6, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
15:59:39.529 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=HsmNiYGiHMwlPQjTp02WU1hJRN8i98h_whZF2zK7weYXSM8AE8D-sTWbkAsOf_9risnnRuqMlqlyxhUEYxKzTRXrNBnTXgCLRp8Q1ISkpXRwUwq_014kslKwBsMI7FKk&state=M_khew9Ub9hVY9O0Ogg0r2ij_WIm2L8mJ6kQJlGCKZ0%3D
15:59:39.531 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:59:39.532 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:59:39.545 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:59:39.545 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:59:39.624 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
15:59:40.017 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NDc3OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTQ4MDksImlhdCI6MTc2ODI5NDc3OSwianRpIjoiNzAyNGQ2OTMtMTU0OC00MTE0LWFjYjItNWFiNjQzNWI3MTgyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.oUx8d5e0VoR29lRSMP-kWQojJ1cwGFgGUzwHKUT6viGOAggvfbmHFjHL_ZPK66SsO0Wpp2FGjIbZikZWdaxk1Q0jrSUDubZTZ5fA7aM6sYhsoVvZiUOcD4z1Tq5EjA_WQ0GhwEOATRB6mKoatFt86z5PTKjVNKCH5qI4Z7BEOTq8sazu3Kq7bMw4WeF9iWIEnzGfV4pD03cza6UYucvKb6lSGmjhE4rPYtU7roa1bbnrJqYpIE9T6L39n-14RIizyySTrxFcsNjpaTfQK9ZLbE0Me1YpQwy9hjLFCeuyYF7qpjhbMaxPnxnbdszNEdK4i7HCy2LxmDoebq9lMd1q-Q
15:59:40.018 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NDc3OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2NTc5LCJpYXQiOjE3NjgyOTQ3NzksIm5vbmNlIjoiOUZrY2hNR1BPa0NoLVI3OHN2QlZJNy1oVGdjWGhUS21pdDlENEt1ZUFGWSIsImp0aSI6IjFlNmM2ZjFjLWZiZmEtNDZjYi04NGYyLTgxOGNkYTY5ZTcwZiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjNjbER0SFJPSjNrbWZZcERYYVhkV3d2anRUT2ZMMEw5QWNOVkJOMkh2S0EifQ.V9RqNQvBnn6i7_yEkMPgBi3tPbQ2kOorv76b7-SkZWkjhMlmgt5F6PHvLTm2O9LSY23uLpNd09pAa_F0ac4iBSq983o78aWC7LKFKOMrXBTBKFqlKZ1M7bF9UZRARZZ9PROPjJrOSya5aMfmXRqHa_hA6z7TjPS2lm2a8vDKtLCjH62o8x0poHuT5HbIDrFQAH1mw0yum38TQKI9-VJWjjFvuJdIQU0mrfoUNkwEDMufVBHzBuKVFSMOZ16b2BqsM9Xq0IU3MuPZly6l5pG7_YEKxxbQZw1XxVYDXH2inmstx62XN3zijjCh_cBx_h2zgIcTTGBsa7wRh9PB_BrOFg
15:59:40.018 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: SuwxJQ8i6srGXEXTCScrBRV4uwY3jxgAj7VavqwID8zukMkDMsLHMdGxPA-YLra0k4IpZS3DEdUXNRJKkdQ06nbs7c5ka24YZAS-3d5Ju54y9f0IIenGoqKHd6nWu0Xi
15:59:40.043 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
15:59:40.055 | DEBUG | FilterChainProxy: Securing GET /userinfo
15:59:40.059 | DEBUG | JwtAuthenticationProvider: Authenticated token
15:59:40.059 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9ab43066, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
15:59:57.212 | DEBUG | FilterChainProxy: Securing GET /page/login
15:59:57.214 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:59:57.214 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
15:59:57.217 | DEBUG | FilterChainProxy: Secured GET /page/login
15:59:57.217 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
15:59:57.220 | DEBUG | JdbcTemplate: Executing prepared SQL update
15:59:57.220 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
15:59:57.231 | DEBUG | JdbcTemplate: Executing prepared SQL query
15:59:57.231 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:00:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294800011], value class [java.lang.Long], SQL type unknown
16:00:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:00:00.851 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:00.853 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:00.853 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:00.856 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:00.857 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:00.861 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:00.862 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:00.874 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:00.874 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:01.434 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:01.436 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:01.436 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:01.441 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:01.442 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:01.446 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:01.446 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:01.459 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:01.459 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:02.183 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:02.186 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:02.188 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:02.193 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:02.195 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:02.198 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:02.199 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:02.209 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:02.209 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:02.769 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:02.772 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:02.772 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:02.775 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:02.777 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:02.779 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:02.780 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:02.791 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:02.791 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:03.285 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:03.286 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:03.286 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:03.291 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:03.292 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:03.294 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:03.294 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:03.304 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:03.304 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:04.064 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:04.066 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:04.066 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:04.076 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:04.077 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:04.080 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:04.081 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:04.096 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:04.100 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:04.737 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:04.745 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:04.746 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:04.769 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:04.783 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:04.786 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:04.801 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:04.818 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:04.825 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:05.688 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:05.696 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:05.702 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:05.716 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:05.736 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:05.748 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:05.752 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:05.771 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:05.772 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:06.509 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:06.515 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:06.515 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:06.519 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:06.520 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:06.521 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:06.521 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:06.534 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:06.534 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:07.045 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:07.047 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:07.047 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:07.049 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:07.049 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:07.052 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:07.052 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:07.061 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:07.061 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:07.666 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:07.668 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:07.669 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:07.672 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:07.674 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:07.675 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:07.678 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:07.693 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:07.698 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:08.259 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:08.261 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:08.263 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:08.268 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:08.269 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:08.271 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:08.271 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:08.280 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:08.280 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:08.836 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:08.837 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:00:08.838 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:28.754 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:00:28.756 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:00:28.756 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:00:28.827 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:00:28.828 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3034f8e5]
16:00:28.829 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:28.830 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:00:28.831 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:28.832 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:00:29.894 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=JDtL8Sx0h-kRG0LsR9WMal5wXthRO1MckxoHOdqSgyQ%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=KIb8wExPdXdeGXh53Lpg0wkaBTPyDcSNJ0fXCUwk3r0
16:00:29.896 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:29.896 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:29.899 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:29.944 | DEBUG | SessionRegistryImpl: Registering session 92095e20-0b5a-4d18-8c5d-86355143945f, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:00:29.948 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=PBToMO3WmAfNhPxm96hLiQSqJv7Ps04FdRnJ_JEgJmd47f91el-MVnzjjEtLEVHPXJt4XBJctugXNcY5ruhFt01YYuSyJryyu1lj1ApcHiE4xd5WhtPHHcKy81J-SLWI&state=JDtL8Sx0h-kRG0LsR9WMal5wXthRO1MckxoHOdqSgyQ%3D
16:00:29.960 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:29.960 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:29.965 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:29.967 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:30.010 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:00:30.361 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NDgzMCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTQ4NjAsImlhdCI6MTc2ODI5NDgzMCwianRpIjoiMmExOTg0MDEtNTQwMS00MDMxLWI0ZWYtN2NlYzA0ZmMyZTJiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.fLI_jlCnO2lZgIAb7augfOyrcY7AkHDI2aXisGiafR_KNwxZptCdnrFh4H3yJD0dXpCa5tCrhLZBZRoEHwq56_Vy0uDni8G4S6MS5P71XupjUQZWGquNJo6H1FZQJ7FGM-g-EmukH38hOMA_kK0Sx9nDjmlFPtKxRPDR70Is0f31hGp1qsjxxG55uMvmzkU7SYpO--rPFBRsrfsMkJ3idsDdPYapBwgYKfzkNtQcLOZoKSVZJRlSQQjO0jjWrCfTU9b9wJGdthjf1O3mzt5hNU4FkqddCw5yslZu2-TDywTlM3k2GVcoFK1CyCkBTLoiIYJteMGJc6Ato0LYXAiRUQ
16:00:30.361 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NDgyOSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2NjMwLCJpYXQiOjE3NjgyOTQ4MzAsIm5vbmNlIjoiS0liOHdFeFBkWGRlR1hoNTNMcGcwd2thQlRQeURjU05KMGZYQ1V3azNyMCIsImp0aSI6IjBjYTE4NTc5LWEzOTMtNGFmNi05MTRlLWMyNTgzYTgxNTU0ZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IkdVNmdybERJWktmMTRISWJhMTd6SC1wcm4wbGllQWl1ZV9HYmtudjZoYkEifQ.aa70W3KCu9Y3ZGhoe6J8YPL8AIyp8R4eZvsgp1FbINqFrpCcV4dMLyda8_XwtDif1AziAWnm_r5bSoTwQ5hzSHAOGHf8Tl3RuOXCSimMAWfbzwwutz88_VHqrwMCt6SDNjzD-xn08P9Q3aem2ittJxTn9R8WNYKUDDE_Q20-DO97WE1Hb_pU2NfyibVlvwor7pqXtTcYLBvjuGrhOnrBVed6PyB-Fk1YysRa2Vt0C-XY3-CuReqeU8SicYxszyKqkY0WgZzIg7hcJHPcXgDQR2iGhRLDWwSncDgjg_IwQB9RZZwvNWEYXDOSRvvy65uq4xgYaICYT8VdPjGCpgfAEw
16:00:30.361 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 5pHLpQ6PcswAs2PpHIsb7QVI10u3iNvyVRECD5dbe3_00oKs1K9V2VEBlSBRgG9ZiRZ6--IsZT3O6xEvOY8kn_ZBCxGwO1kfCn1FhKXyvqt_WcgRppW8HRJ1Rf83og02
16:00:30.369 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:00:30.374 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:00:30.374 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@ced11df3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:00:54.228 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:54.231 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:54.232 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:54.236 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:54.237 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:54.240 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:54.241 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:54.248 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:54.250 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:54.786 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:54.788 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:54.789 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:54.795 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:54.796 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:54.799 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:54.799 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:54.805 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:54.807 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:55.303 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:55.305 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:55.305 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:55.308 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:55.309 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:55.312 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:55.312 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:55.317 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:55.318 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:55.835 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:55.837 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:55.837 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:55.842 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:55.843 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:55.845 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:55.845 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:55.852 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:55.853 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:56.412 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:56.414 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:56.414 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:56.417 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:56.418 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:56.419 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:56.420 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:56.429 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:56.430 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:56.944 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:56.946 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:56.946 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:56.949 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:56.950 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:56.951 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:56.952 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:56.957 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:56.958 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:57.530 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:57.532 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:57.532 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:57.535 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:57.537 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:57.540 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:57.540 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:57.547 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:57.548 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:58.150 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:58.152 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:58.152 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:58.159 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:58.160 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:58.163 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:58.163 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:58.169 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:58.169 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:58.666 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:58.667 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:58.667 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:58.669 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:00:58.670 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:00:58.672 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:00:58.672 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:00:58.680 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:00:58.680 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:00:59.186 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:00:59.187 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:00:59.187 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:01:00.002 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:01:00.002 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:01:00.004 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294860002], value class [java.lang.Long], SQL type unknown
16:01:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:01:55.893 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:01:55.894 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:01:55.894 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:01:55.964 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:01:55.966 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@6a03bf40]
16:01:55.968 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:01:55.968 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:01:55.969 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:01:55.969 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:01:57.025 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Lh2uGFrZcxQPC72UVHibj_j5cEtZtZnBx15TaRm0fSw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=nK1w5935Oq8UD1MdSUcsPxdFXr6SkeUCtEujO3BYTPI
16:01:57.028 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:01:57.028 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:01:57.032 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:01:57.060 | DEBUG | SessionRegistryImpl: Registering session 937e3920-6fb0-493f-bece-78e46eb47b20, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:01:57.060 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=VLyaYQS09_9umCzdFo_C_l--JY46GdcruxiSCO-WO5-DJMZB5vSPXgGFjMKw-ToXHO347T_IXicGRfzufByBOYQodHqd0D9V6wagbh-HIbbBcMfKL692KvOi5ZCitKlv&state=Lh2uGFrZcxQPC72UVHibj_j5cEtZtZnBx15TaRm0fSw%3D
16:01:57.061 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:01:57.061 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:01:57.065 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:01:57.065 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:01:57.095 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:01:57.419 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NDkxNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTQ5NDcsImlhdCI6MTc2ODI5NDkxNywianRpIjoiOTk4YjE2ZDEtYjk0Yy00NzQ1LWE1YmItZWY5NWZlY2Q3NmZhIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.Vg-twCl3hFJDXz-xN-mK44-G8b4JsbAvkBYJeXGbcoo8mExCzUfPw9Z8vtT2Vj8kTlUQIQQ5GqS9hg9dUIuXFqkTjCb_gCYvctImGmiI8ZKS8YK1-R-uOTjwvv4rQ-61JS4pITn-v4WWnRqtijlSbJOjUvBJKMPu9_Cdud0-IjzXFsrnhKBbs-H3qnI0uuRdpcy3KEpd9ytQBf1NmbPAzB5vTh4lVLwuZcQ5MXZOEE0AGwdhJDoiDCnJqCkc8U5VglkkpUAKKL-HQ5Bz4_ZF5Xcpxo102nR8h85N7RVdl2TAgB5Oo4HhncRR3QderkVCKSYlS6Vn4EOaogmu5R_T0w
16:01:57.420 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NDkxNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2NzE3LCJpYXQiOjE3NjgyOTQ5MTcsIm5vbmNlIjoibksxdzU5MzVPcThVRDFNZFNVY3NQeGRGWHI2U2tlVUN0RXVqTzNCWVRQSSIsImp0aSI6ImNiMzJhYWQxLTNjYWEtNDBiNC1hNDljLTQ1NWNiOGQ0Njg3NiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IkdsUTJKcWk2Q29DbzVvT3owVXppMDV4X0tJVHR3UjBTNWZKYkFLWUxHSlUifQ.AAiMVH5h1ITdAVo-5pCjHwNSrMfUp8azI-Xm_0VpI33Wc0v2jRzBynA2LwvFU4U3wqhBW1Bav5AEbkKisYBVAfgkvqFvml4GXzmUIX7SsoRfgzO9dyD1yz-ShYt4cBAMorcEmyzMsJohV_9XHCr7CTe9LYyOV7ivo6BxJCfunh-1GY9r5GVMyUBdE_-EQokTiH7VCjlOdZgeLJC9z9PD-jVp4D7TU0I_SYoHUAkNNBmbaEF-xUeXvSoVmYZDhB18h6CItNSnIi_J9C6ArtOThIXyT1HAZhXAAbAsEYhmBBIhCbHcCuyfQPCqFIOc91EAd3CPcsaZWZuv9yr6v1_wZw
16:01:57.420 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: xPQM7qMG0stVNd5i3Iep_0kGVDI1vMbABY6hKhp9You0NgQFJWto5LVEAsGuaOC01GME7FJrtB0ZfbUfOgH33wnlP9uWLFGLisch5urBH2891TkMg-3G6eqeAYuo-8e2
16:01:57.429 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:01:57.431 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:01:57.431 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@7eba3d90, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:02:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:02:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294920008], value class [java.lang.Long], SQL type unknown
16:02:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:02:14.918 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:14.922 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:14.924 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:14.928 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:14.928 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:14.930 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:14.931 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:14.946 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:14.947 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:15.464 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:15.466 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:15.466 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:15.470 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:15.470 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:15.471 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:15.472 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:15.477 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:15.477 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:15.991 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:15.993 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:15.994 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:15.998 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:15.998 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:16.001 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:16.001 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:16.011 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:16.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:16.691 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:16.693 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:16.693 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:16.698 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:16.699 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:16.704 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:16.704 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:16.711 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:16.711 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:17.199 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:17.201 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:17.201 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:17.205 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:17.206 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:17.208 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:17.208 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:17.215 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:17.215 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:17.739 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:17.741 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:17.741 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:17.743 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:17.744 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:17.746 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:17.746 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:17.753 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:17.753 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:18.465 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:18.474 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:18.475 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:18.479 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:18.481 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:18.485 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:18.485 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:18.494 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:18.494 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:19.189 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:19.192 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:19.192 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:19.196 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:19.197 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:19.200 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:19.201 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:19.209 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:19.209 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:19.774 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:19.776 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:19.776 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:19.779 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:19.780 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:19.782 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:19.782 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:19.790 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:19.790 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:20.511 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:20.515 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:20.519 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:20.526 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:20.527 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:20.530 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:20.531 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:20.543 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:20.544 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:21.166 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:21.168 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:21.169 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:21.172 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:21.173 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:21.175 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:21.175 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:21.183 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:21.184 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:21.790 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:21.793 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:21.793 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:21.797 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:21.799 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:21.800 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:21.800 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:21.806 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:21.807 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:22.669 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:22.672 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:22.675 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:22.681 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:22.683 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:22.686 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:22.687 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:22.694 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:22.695 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:23.509 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:23.515 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:23.515 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:23.520 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:23.524 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:23.527 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:23.527 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:23.536 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:23.536 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:24.616 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:24.617 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:24.620 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:24.625 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:24.627 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:24.629 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:24.629 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:24.637 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:24.637 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:25.471 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:25.473 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:25.473 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:25.479 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:02:25.480 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:02:25.482 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:02:25.482 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:02:25.489 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:02:25.489 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:02:26.252 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:02:26.255 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:02:26.257 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:03:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768294980013], value class [java.lang.Long], SQL type unknown
16:03:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:03:32.533 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:03:32.534 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:03:32.535 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:03:32.606 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:03:32.606 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@63a0889c]
16:03:32.608 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:32.608 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:03:32.610 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:32.610 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:03:33.659 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=9Flr2AMtijKBK14e2hiyYvovUFO1Whrod7aN_SpnBEM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Q29VNxtOvFFtI_Rry3pOnrxQXF0aPABGx0Wbq-_Vg0U
16:03:33.661 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:33.661 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:33.664 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:33.691 | DEBUG | SessionRegistryImpl: Registering session a55c87c3-57cb-486c-9e62-fd0e796238ea, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:03:33.692 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=Ea119eaZP8zxkiflk_pNd15EbDea7_RhnH739IGbLPR-0JMgJ2E_pktRGUrtQCP7kGQwn5Kvuqy5Iy4T6er4ZsgmVgByaeBuW0qBu4X_ZLh9O-S57sT44yHhwUCiJ_x_&state=9Flr2AMtijKBK14e2hiyYvovUFO1Whrod7aN_SpnBEM%3D
16:03:33.692 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:33.693 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:33.701 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:33.701 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:33.727 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:03:34.011 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTAxMywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTUwNDMsImlhdCI6MTc2ODI5NTAxMywianRpIjoiOTA4NDM3OTktZjVmZi00MmYyLWFjZWItZTVkMTY2MmJlNmYyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.ARf7IQ8n_pYfM9ZFeLm-bvjK-fgpN-WcaoiSJmjfAdLIvdt52VLRgIqOcwBjjB5agKQIuSqVmGhumbJjrV6ZATQ-D5y2NkwtrBLAlMRuOOQ4dW_oNNR6MqHlAkQwCQiceO80d1au-9_na5qlO53okIJSY5h6C5-3xjQz3d07Z4vB6pHNy-Fdy2seVEsa-0oE_bs5x7sOwHcjlH8XiWk7XQpNHi-AM1FeT7CGRTXFucewLxvoU2cuHCtr8aZiOf58iMNDb6ZEMb_SC-6VX6bIF1setJVQ-pJZotE4Hzx2p8pGQ87LW1kIo4_hpiwYuye_YsSHlT4DBxf7l3FxDlmUUg
16:03:34.013 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTAxMywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk2ODE0LCJpYXQiOjE3NjgyOTUwMTQsIm5vbmNlIjoiUTI5Vk54dE92RkZ0SV9ScnkzcE9ucnhRWEYwYVBBQkd4MFdicS1fVmcwVSIsImp0aSI6IjU2NzI0ZTFkLWNmMDQtNDA2Mi04ZGVmLTZjOWRjM2MyNTFhNSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IlRjUFZZWjU1aUQ1dkM0MVE1Ujl2VmtoVG1nTy1nZjFCM3RXT0VKeWJBek0ifQ.CWSvUp_zDPp5sr-uzhGmbnu3KoI45GlecMtOszKhYDfD381-E7wB9wu1_QYfWi-0O6Ios1jEdnl3yUtlGXHMACbBZWYODvI675AZAAyKG2WyPkgAscDH6kClQu1TMs70WutqBtbofHKtjNptsrSyihagg_KpXUW1P77jFMSf2JGORmQuPevWStK1gMnrLHX7GM1z7_Si5hCjuGwqQ171sdm8rDHyLcCxNP6bAzDS_YkLWTGiIeDJfBI9Qt2xjbTWEmBIEI2FwTEivrQmb4E5-2ARkLVia69D2kqCK2You-9a019lQgl0w3cCNSOgtecOuyskVnjOoPjwezcUDQFgpg
16:03:34.013 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: lqLzPMLBfWQVGbzInE8Yd2KBV1sjDwB6IxfRrC7D-nHaDnTTG6X2iXdAtYnTh-RskgFJufrAjmkDvjCrSt5A7w5y5RbrkEHWjUac5CctewL4H4OvLAsQNH6n112S-w9w
16:03:34.021 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:03:34.022 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:03:34.022 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@508fb8a0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:03:45.871 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:45.873 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:45.873 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:45.876 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:45.877 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:45.878 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:45.878 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:45.886 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:45.886 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:46.452 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:46.454 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:46.454 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:46.458 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:46.459 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:46.460 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:46.461 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:46.467 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:46.468 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:47.142 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:47.143 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:47.144 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:47.146 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:47.148 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:47.150 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:47.152 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:47.159 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:47.160 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:47.747 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:47.748 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:47.748 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:47.750 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:47.752 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:47.754 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:47.754 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:47.759 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:47.761 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:48.351 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:48.352 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:48.352 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:48.354 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:48.355 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:48.357 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:48.357 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:48.363 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:48.364 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:49.078 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:49.082 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:49.083 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:49.089 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:49.090 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:49.092 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:49.093 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:49.103 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:49.103 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:49.676 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:49.681 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:49.681 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:49.684 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:49.685 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:49.687 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:49.687 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:49.727 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:49.727 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:50.403 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:50.406 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:50.406 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:50.410 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:50.411 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:50.419 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:50.419 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:50.426 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:50.429 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:51.174 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:51.176 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:51.176 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:51.179 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:51.180 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:51.182 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:51.183 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:51.187 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:51.187 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:51.725 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:51.727 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:51.727 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:51.731 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:51.731 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:51.733 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:51.734 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:51.739 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:51.739 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:52.291 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:52.292 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:52.293 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:52.295 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:52.296 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:52.298 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:52.299 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:52.303 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:52.304 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:53.197 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:53.198 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:53.199 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:53.202 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:53.202 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:53.204 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:53.204 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:53.208 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:53.208 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:53.815 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:53.816 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:53.817 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:53.821 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:53.822 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:53.823 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:53.824 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:53.829 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:53.830 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:54.406 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:54.407 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:54.407 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:54.410 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:54.411 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:54.412 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:54.412 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:54.418 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:54.418 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:55.290 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:55.293 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:55.294 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:55.300 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:55.301 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:55.302 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:55.302 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:55.310 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:55.311 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:56.314 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:56.316 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:56.316 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:56.319 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:56.321 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:56.324 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:56.325 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:56.331 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:56.331 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:57.303 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:57.307 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:57.307 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:57.312 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:57.313 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:57.315 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:57.315 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:57.323 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:57.324 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:58.149 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:58.151 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:58.151 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:58.156 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:58.162 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:58.164 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:58.165 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:58.172 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:58.172 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:59.051 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:03:59.053 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:59.053 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:03:59.059 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:03:59.060 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:03:59.062 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:03:59.062 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:03:59.069 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:03:59.070 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:04:00.028 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:04:00.034 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295040016], value class [java.lang.Long], SQL type unknown
16:04:00.038 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:04:00.217 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:04:00.224 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:04:00.224 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:00.229 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:04:00.230 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:04:00.233 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:04:00.235 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:04:00.263 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:04:00.263 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:01.243 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:04:01.245 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:04:01.246 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:01.250 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:04:01.251 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:04:01.252 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:04:01.253 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:04:01.261 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:04:01.261 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:02.045 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:04:02.047 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:04:02.047 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:02.053 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:04:02.054 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:04:02.058 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:04:02.058 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:04:02.063 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:04:02.063 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:04:02.819 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:04:02.826 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:04:02.829 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:05:00.001 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:05:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:05:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295100001], value class [java.lang.Long], SQL type unknown
16:05:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:06:41.362 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 14340 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:06:41.366 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:06:41.457 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
16:06:41.457 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
16:06:44.502 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:06:44.506 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:06:44.906 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 380 ms. Found 6 JPA repository interfaces.
16:06:44.936 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:06:44.940 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:06:44.998 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:44.999 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:45.000 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:45.001 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:45.002 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:45.003 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:06:45.003 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
16:06:46.924 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:06:46.968 | INFO | StandardService: Starting service [Tomcat]
16:06:46.969 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:06:47.095 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:06:47.098 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5637 ms
16:06:47.871 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:06:48.080 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
16:06:48.203 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:06:48.906 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:06:48.985 | INFO | HikariDataSource: HikariPool-1 - Starting...
16:06:49.780 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8cd5f2f
16:06:49.785 | INFO | HikariDataSource: HikariPool-1 - Start completed.
16:06:50.001 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:06:50.070 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:06:52.013 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:06:52.221 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:06:52.819 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:06:53.510 | INFO | QueryEnhancerFactory: Hibernate is in classpath; If applicable, HQL parser will be used.
16:06:54.896 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:06:54.898 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:06:54.899 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:06:54.899 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:06:54.900 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:06:54.901 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:06:55.206 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:06:55.207 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:06:55.207 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:06:55.207 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:06:55.207 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:06:55.209 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:06:55.541 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:06:56.825 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:06:57.432 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001cc32d9e2a0@2facd31a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:06:57.619 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:06:58.763 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
16:06:59.035 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
16:06:59.074 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:06:59.119 | INFO | AuthServerApplication: Started AuthServerApplication in 18.411 seconds (process running for 19.456)
16:06:59.428 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
16:06:59.434 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
16:06:59.437 | INFO | DispatcherServlet: Completed initialization in 3 ms
16:06:59.589 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:06:59.749 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:06:59.779 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:07:00.035 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:07:00.041 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:07:00.056 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295220032], value class [java.lang.Long], SQL type unknown
16:07:00.071 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:07:00.718 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:07:00.727 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7dac3fa1]
16:07:00.784 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:07:00.785 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:07:00.795 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:07:00.796 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:07:02.024 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=BM_oKKCPtDnpACQ-nX2R2KjJKaQnfg03BLuyGyyp6TM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=rd_RYHA4myCwflhMx8uXmlSgzLrGjObZs6WDVnM2rHs
16:07:02.064 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:07:02.070 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:07:02.081 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:07:02.300 | DEBUG | SessionRegistryImpl: Registering session 702b957e-43d5-49b8-93a6-65b4c0325d59, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:07:02.302 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=ASXw1H_BUBK1ZV61HX0h-HIx0iwtdnOlOG2whYfOHyLHotzJWVoLanQS1yWZP7tknMTiZN1euphi4Wtl6KP1AUwDh__Rbq2PaEuAKZI4BGw0CJm_VBZnPexw4wh2dsrw&state=BM_oKKCPtDnpACQ-nX2R2KjJKaQnfg03BLuyGyyp6TM%3D
16:07:02.306 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:07:02.306 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:07:02.322 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:07:02.322 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:07:02.439 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:07:03.049 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTIyMiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTUyNTIsImlhdCI6MTc2ODI5NTIyMiwianRpIjoiMTQ0OGY0ZTgtY2M2MS00YTdiLWFjODAtOTdlZjhjNWI4MzgzIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.s32f6rNP9R-VurZ-Fg5lA4SzcDXhEa5mqO8yzpflJ77WllrzcbAGVT75b00guNP8Qa-dXdx24fjs8ofi7r5spZVAl3Hy5mrqLR3XZHPv_J98viqyS-xLV-WqfsAYV59ORnO0gpTMHbNW_6UwtIM9O_ctdUzKfb825oZ4TvABtgSc9BoLLDTVN4F8AUswUzWJU4FmJTffvlhVH0i3C9IIQjwVrt35C2stiaQeJBFVggoZVDKKN47GzuMbzk8RQhA_rniDXRuHkBQ3m0OPV08nslPSljBs1OZ0GZcU6fFEhEBPBQu-OJ8ODn0RKpNylmTgO6sI0S0LNcbSxbw0VU9w5w
16:07:03.050 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTIyMiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MDIyLCJpYXQiOjE3NjgyOTUyMjIsIm5vbmNlIjoicmRfUllIQTRteUN3ZmxoTXg4dVhtbFNnekxyR2pPYlpzNldEVm5NMnJIcyIsImp0aSI6IjEyODllNjJiLTUwMDEtNDc5MC1iYzM4LTIzOTFjMTAyNzAyMyIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6InJvZ0JKQThGbzd5cUhmOGc0NlB2ZF95U3ZLMXE5RTFlNEhRcXJfX3kxN1kifQ.iQ-r9dILxI5YZyK2gX3RT2Ct2ZvuC_GJtgtz4yTFXPgJNNwPEFdBuJjFNbvU_pHKh3MKrWB9lBe4iibhpal8WZ59TEUxO4vtvodz6jZfXCzoUvgGVfK3kK5Y8hQC0oP21iBS4GIw4ApCCZce_346hX7d_0R-hpl9wqxXVrd-KfRPK-Vnx-6MQSp3unbUqgzIdwAM6gLHaffy1TyiWkxaRdIK75hF7cSvslXOKJDeOE9lC9TOAyjHSsD9dlbYtlHcHxBW1SHSHZ3dYL0drw7QZlO0BoV_jhLDoK_WlB_mtlG-YIS3_637rGahy9pWBFaJ0oNC2Eu6vRmxoKdgt-PeEw
16:07:03.050 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 7ndCzU2O6R2goMth4BsHf8LZggpyzJdeau-epzt_g9w72LbqH675bR62bT1fXu6yJ2OQ5UIBHuXCjBLIMNhpx6BK8a5LMh6eiIqr3eb9jgBqO5urWLs1qosKLPJdlWI_
16:07:03.074 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
16:07:03.087 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:07:03.111 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:07:03.112 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e100370b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:08:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:08:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:08:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295280008], value class [java.lang.Long], SQL type unknown
16:08:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:08:40.976 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
16:08:40.989 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
16:08:41.000 | INFO | GracefulShutdown: Graceful shutdown complete
16:08:41.026 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
16:08:41.034 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
16:08:41.041 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
16:08:41.185 | INFO | AuthServerApplication: Starting AuthServerApplication using Java 21.0.3 with PID 14340 (C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server)
16:08:41.186 | INFO | AuthServerApplication: No active profile set, falling back to 1 default profile: "default"
16:08:41.900 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:08:41.901 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:08:41.942 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 40 ms. Found 6 JPA repository interfaces.
16:08:41.947 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
16:08:41.947 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
16:08:41.954 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationConsentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:08:41.954 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.AuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:08:41.955 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.oauth2.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:08:41.955 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:08:41.955 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:08:41.956 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.auth_server.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
16:08:41.957 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
16:08:42.160 | INFO | TomcatWebServer: Tomcat initialized with port 8282 (https)
16:08:42.162 | INFO | StandardService: Starting service [Tomcat]
16:08:42.163 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
16:08:42.206 | INFO | [/]: Initializing Spring embedded WebApplicationContext
16:08:42.208 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1017 ms
16:08:42.302 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
16:08:42.307 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
16:08:42.326 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
16:08:42.328 | INFO | HikariDataSource: HikariPool-2 - Starting...
16:08:42.372 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2dd12b39
16:08:42.373 | INFO | HikariDataSource: HikariPool-2 - Start completed.
16:08:42.377 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
16:08:42.378 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
16:08:42.642 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
16:08:42.741 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
16:08:42.853 | INFO | InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer: Global AuthenticationManager configured with UserDetailsService bean with name userDetailsService
16:08:42.940 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:08:42.942 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:08:42.942 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:08:42.943 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:08:42.943 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:08:42.943 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:08:42.969 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
16:08:42.969 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
16:08:42.969 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
16:08:42.970 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
16:08:42.970 | DEBUG | SecurityJackson2Modules: Loaded module org.springframework.security.oauth2.client.jackson2.OAuth2ClientJackson2Module, now registering
16:08:42.970 | DEBUG | SecurityJackson2Modules: Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
16:08:43.026 | WARN | JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:08:43.191 | INFO | EndpointLinksResolver: Exposing 1 endpoint beneath base path '/actuator'
16:08:43.263 | DEBUG | DefaultSecurityFilterChain: Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001cc32d9e2a0@1f7e5a25 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
16:08:43.299 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
16:08:43.436 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
16:08:43.497 | INFO | certificate: Connector [https-jsse-nio-8282], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\auth-server\target\classes\bookommerce-ssl.p12]
16:08:43.502 | INFO | TomcatWebServer: Tomcat started on port 8282 (https) with context path '/'
16:08:43.585 | INFO | AuthServerApplication: Started AuthServerApplication in 2.444 seconds (process running for 123.923)
16:08:43.630 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
16:08:51.397 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
16:08:51.397 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
16:08:51.400 | INFO | DispatcherServlet: Completed initialization in 2 ms
16:08:51.405 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTIyMiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MDIyLCJpYXQiOjE3NjgyOTUyMjIsIm5vbmNlIjoicmRfUllIQTRteUN3ZmxoTXg4dVhtbFNnekxyR2pPYlpzNldEVm5NMnJIcyIsImp0aSI6IjEyODllNjJiLTUwMDEtNDc5MC1iYzM4LTIzOTFjMTAyNzAyMyIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6InJvZ0JKQThGbzd5cUhmOGc0NlB2ZF95U3ZLMXE5RTFlNEhRcXJfX3kxN1kifQ.iQ-r9dILxI5YZyK2gX3RT2Ct2ZvuC_GJtgtz4yTFXPgJNNwPEFdBuJjFNbvU_pHKh3MKrWB9lBe4iibhpal8WZ59TEUxO4vtvodz6jZfXCzoUvgGVfK3kK5Y8hQC0oP21iBS4GIw4ApCCZce_346hX7d_0R-hpl9wqxXVrd-KfRPK-Vnx-6MQSp3unbUqgzIdwAM6gLHaffy1TyiWkxaRdIK75hF7cSvslXOKJDeOE9lC9TOAyjHSsD9dlbYtlHcHxBW1SHSHZ3dYL0drw7QZlO0BoV_jhLDoK_WlB_mtlG-YIS3_637rGahy9pWBFaJ0oNC2Eu6vRmxoKdgt-PeEw&post_logout_redirect_uri=https://auth.bookommerce.com:8282/page/store-login
16:08:51.535 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/store-login
16:08:51.541 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:08:51.544 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:08:51.546 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:08:57.691 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:08:57.693 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:08:57.693 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:08:57.838 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:08:57.839 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@e906593]
16:08:57.848 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:08:57.848 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:08:57.851 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:08:57.851 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:08:58.918 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=D_R1mbwS-Vk1e3B9QUp05ar9d6uPkAgYO_1FXVagMu8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=n9DG9bB5qMYi50jux0jAUEzSS7cTZMdEp9piOVrxnuQ
16:08:58.921 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:08:58.921 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:08:58.928 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:08:58.977 | DEBUG | SessionRegistryImpl: Registering session f2d589f4-3946-49cf-aea7-30762ca0722c, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:08:58.980 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=v3nWzsUh73UAOhMFM3dkP-fqx2SxievK95OzQgQytmc1HpRUYYb_sU1jp8GrhDSNmC4cnaZI2sMkRp7vpX9tndHpbamz0Z9RIAbxj1wNnO6i5ww3jUziDayBpfMp89e6&state=D_R1mbwS-Vk1e3B9QUp05ar9d6uPkAgYO_1FXVagMu8%3D
16:08:58.981 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:08:58.981 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:08:58.995 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:08:58.995 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:08:59.067 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:08:59.376 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTMzOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTUzNjksImlhdCI6MTc2ODI5NTMzOSwianRpIjoiZjIzZGNkMWYtOTBiMS00Y2UzLTg5YzctZTc4NGQ1NjU5MzEyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.qfVAa7ao-ImKF9gxoHZtsIoygzhocPDrktht2gnz6dFDJOVRqllbgprYm19R5aDug8RW8BC5X4SZY3Ao-S6M7GDKcjkQ_c2x-_0wTRuXM8mJT68-OjSVFYHedsTWOdrOsG_19c-dGWQQxqIImJ-7NJMvE2cuWQ3xO2Va2HihjYMxlvvSEWdaRfLaaY9p7B5kRsocEDU8w-parbxxEphtCtwzgljEjLav7jSrD3sjPL8HIA10grp8506Jho4JaWVop7m9EA8AfTOn2WtXgJP2F37E-43hj1gTp0dZPGPeoe0QMMh8B3HtaNqSbeYQtu6KOOk_8IIWhwh9OsfSQepmgA
16:08:59.377 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTMzOCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MTM5LCJpYXQiOjE3NjgyOTUzMzksIm5vbmNlIjoibjlERzliQjVxTVlpNTBqdXgwakFVRXpTUzdjVFpNZEVwOXBpT1ZyeG51USIsImp0aSI6Ijg1MjExZThlLWUwYmQtNDhmYy1iNGQ5LTZhZDRhZGExMmEyNSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6ImlucmxReklQQ0lkM3hyWmhZU0FEWWJsN2ZGeHhLdVB4MnJqZ3VVejBmLXcifQ.aQn_2QSaGaBXESjGGTn5yZ8sTYhtk-zZA_AbUVzldPEDy-8hIvWo7DR5y3XN83aRzuShlZVCxXCwhHjbTvrOlbxDDD7nzQtCGLSEvcCw8dgwDmcrMxUowoILJFnOFsMZqP5O5JmrTkpfzY4AvHFloO27W-mDKov1fqvxghAf9gui3uPXDfXjCpUQSnXf041cBFDQAhjvp8kZIQw9DGqBE-8HuosXtpsGuKloT4GaO-ozZRiRTuAXodzBseK8B3gNEjvTfi_G0KngccT_tcrJkkaTu5HxovriCnJAn8uE8KueQ14hV0oNAojgu4sZGBpBjtdj3ZrwjWE6R-pNH-JWww
16:08:59.377 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: ZXpvKjS9dCwkJTqQ-yWhlpCLRWWhUghS4hyB3stVYd-j_n17Yp9TaSSDRseDdKUINd_BV2W5G8x14WbqN2oXTdm3KEW-40OHc2yM1gBurm6ONCtbDaNdIhxf-W3jci8Q
16:08:59.385 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:08:59.387 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:08:59.392 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9f8125a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:09:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:09:00.023 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:09:00.034 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295340018], value class [java.lang.Long], SQL type unknown
16:09:00.040 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:09:16.929 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:09:16.931 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:09:16.933 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:10:00.002 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:10:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:10:00.003 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295400002], value class [java.lang.Long], SQL type unknown
16:10:00.012 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:10:33.030 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:10:33.031 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:10:33.032 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:10:33.099 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:10:33.099 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@58112db]
16:10:33.103 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:10:33.103 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:10:33.105 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:10:33.106 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:10:34.161 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=4duM_exzh18KS-Etkhz3LVy1sFZy9oY0JnWXJwr_5-4%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=m6JdB-Mw6RYxHBESeYUcLNl3ERYtJrphJubywVMzWWU
16:10:34.164 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:10:34.165 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:10:34.167 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:10:34.192 | DEBUG | SessionRegistryImpl: Registering session be724b73-d334-4b9a-82f4-40aee4a46319, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:10:34.194 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=gmEVaJDKhvVHiEPEVZcfy4zCShAPy4HERATDkOVxAJdcepOjhk2Lqkdmpf9zeSMDQWA81ruACueu6yPYELQD0BF97WvadH8pQowVkJqJxUL-dF53sygVekUF9QPgjNpD&state=4duM_exzh18KS-Etkhz3LVy1sFZy9oY0JnWXJwr_5-4%3D
16:10:34.196 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:10:34.196 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:10:34.204 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:10:34.206 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:10:34.232 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:10:34.610 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTQzNCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTU0NjQsImlhdCI6MTc2ODI5NTQzNCwianRpIjoiYmMyMDdiZGQtMTRmZC00Yzk3LTg5YWUtYmI5NzMwODUwZmUxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.lWJiw5gOQsUwH9vH-3RV4lqeH_9zCsZqbQHD9y3HZekCvgTau3p84CpdY7n2S8ueAhF110EEOqA8od61MTkBUbZ2cwPPZxlkeV5V8_PRG1-5S5c3NhKIma5agrct3b69qt9iQMbH__lRB8RKDaOraBCRRA7seDCWnLuriho_rvota5jH_r0aJDPhLsI97Ccst-7xXxDxBFa3tdYIcgiTR3YhSDoxnxwo6zK7UOf_VMwSWyswBjCq1rbgFCrUw2JTQSY2nMeSPCEsq4Df205OFVqAO4o7DuO5aJyr0UkmTWvNmmcZyMt_M-kjT-aO1fMIL6CDwt9hoqEG_OjmopKQ5g
16:10:34.610 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTQzNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MjM0LCJpYXQiOjE3NjgyOTU0MzQsIm5vbmNlIjoibTZKZEItTXc2Ull4SEJFU2VZVWNMTmwzRVJZdEpycGhKdWJ5d1ZNeldXVSIsImp0aSI6IjQzOGJmZWI0LWQyN2YtNDU3NC04OGUxLTMzNzVhODQ4YjllNCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjBudVktOVNVSDRycFphWVZUaGRGWHFQMVY3TDMzdlRzekU2RzVwQVhvOGsifQ.skSzEN-0ohklpdfvBlFEbc5OoCBhcWarF-nSS5YvylJtes2L7xYE2wDiCBl0rPO-sjMdN3hHa0YDdMgHcNYgc0RQo1P7JjytATXoiItqgYwGtQHoiZ4lsfInlLLSJUp_Q5p1V0vuoogt3nKvGO1TlHRxVk62vBdnt0dbz-df-CE1yZu5e7qBt-DyZcL3dUZWmnKBi3m8gwtuqk6tR3ymoP9wX9hCb_aQsoHgT1OoYBqUXqDZfhuBfd_DlPsLQbWUnG3WmtpcuCGf3XNgWnnaVv3-S-G6me1Bey0hd33iBsQILpyr2mL-Emj8Y7TjgudI0HC8AbciZmf59OIbCVUYIQ
16:10:34.610 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: Omf863P6DUzgheKp7CMZzkTSmbBF5QjXBS-57MtZfRZInjcPjqBebWBQcKHdr-WmlnG8m1vz_31-vwy7zgWctLAa8LVBqWOhb7uazUgpL-r71kzjT_dz78T75UffmaMP
16:10:34.623 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:10:34.625 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:10:34.626 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@bc102148, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:10:50.083 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:10:50.398 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTQ1MCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTU0ODAsImlhdCI6MTc2ODI5NTQ1MCwianRpIjoiYmM2MmQ3YzMtMjUwYi00ODNiLWFiYWMtNzQ1YTE0OGQzZTUyIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.omkFkrPP1tsU6saUC1JKYiGAaZauVbfQEehxE-B9L99TxD7iYdCbnsBLc7WbPIEgZtXqTyYAtq-QIa81Q7F0Veq5KV76XVMXtBSVJq4M7Oqb31VcomVb2ngK_bs0zlnkUi_B7pMIW1mbL1PAnunAo3kddeqpaswtjpQYy0ouk_dee_MxHO-WtRPeXsnVjOQpuJ4UsPLb8f8QX9LUwkybEnFCvCxfrwVUazAFO1T1q2_W4o28lt2v8rkg3i_3U91yvzyfCdwfgYP7Tmb0VMBI7zRSUzKmqn5BsCEhqG2TE6rP_fKz2mdeeX4DBlQYgU7xK5l3qLRbkcfJq-FTOR5fSQ
16:10:50.398 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTQzNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MjUwLCJpYXQiOjE3NjgyOTU0NTAsImp0aSI6ImY0MWFlZGNiLTU2OTItNDE2YS05YTFiLTM3MzI1MTc5OTA3OCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjBudVktOVNVSDRycFphWVZUaGRGWHFQMVY3TDMzdlRzekU2RzVwQVhvOGsifQ.ZIKDGV98oPtTQpbhAigbvpur3QOn15cUmN4xsjaP2aGs9C_HGvYTgI_Gc5nSQ5_PFwpN1-ITsgG1wvUYvvS2TfuMXkH-L04HgXq61tw5HWVqg-UO0pMwnMa8VWdwFtu_eh_viMkpmvjuhrNedf0XR62Khp3ektz1iwQ-sRYFV2C_VMmif3Pqv2y_92QMdLtoHp7IfvbpUAJrMgVBS5iTdt0g6Wgbz9luPjlCuZQRmYZrX1FkJ0g_g5NlwmHgxRKJSZhjL2ylztl9C73RH-riiw4f-O_WCcxSkr4pF0s8QhP0rvXU_Yk69y38Tg84rP4LdnBjdTySaOrmZTQDkgXyow
16:10:50.398 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: Aj4Mw1qtJCXMnu3SqVhRAu-rCmbS00C3DAPA9cNP-S-rIPL_uESNyLu_7TCir3CsCdL-3RkJXFhtykDFXIEfs2muAjkR8GvQ5DFodkzoipvdQhD22bIwB3xbXeXC80WM
16:10:50.407 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
16:10:50.422 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:10:50.425 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:10:50.425 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@82d83918, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:10:50.492 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
16:10:53.241 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:10:53.601 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTQ1Mywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTU0ODMsImlhdCI6MTc2ODI5NTQ1MywianRpIjoiMzhhZWY1ZWYtNmE3NS00YzM0LWE4NDMtZmJmYTZjNTg5MjkxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.cfTZtyf2CBUHVHtEOcRp1VVQp6-67uJKNp_S9Yc5IzuVapMc1ZqVJExuAyXhPERQ-dm0ZRAxbjj6QrFeg5lwGSo_0R-VMPCKYF0RFlcdw_9oED4D8eFLHMkZ706kXwOf9ZbUz1Yu5IquKBVPL8OkJMOuK9W0rHyf1XMUNt4yb6vh4GgfeDzUhLNusF0t4MQUHcHXzqD9pgM4UAyo-clNNTUZNpMQFDLJfZvlWjQmZggf9ixLPylpdovnp3zST8Snv5RTlh9EN9fEW8WpzC5XZsJ1zxtDjdY4EjpoLrf5iDDHKp0Li4U3aP5f1IiWWvFo71OvH1LSzVt7ytYJLFRuuw
16:10:53.601 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTQzNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MjUzLCJpYXQiOjE3NjgyOTU0NTMsImp0aSI6Ijg2NmMzMzBkLWEzNzktNGQ5My1hMzA2LTU0NmRkNDc3MmIxOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjBudVktOVNVSDRycFphWVZUaGRGWHFQMVY3TDMzdlRzekU2RzVwQVhvOGsifQ.s5B0uLdO7EcfB54L1s5IAglr17QO-qciXEu30TOCjwosLdeQio-J-kscOmC2twuKmA-82NY2PzolrmpAaSPNX0B_JGiGnhYbExgj5O7DnL_RT3uTmmamZ_H32_0foMf8Yi6x3Rp8S16I4nd26p-IuLTARQA9tvFGfaFhxHK3ayrS4yeNUXjIm0LbFWpeyCy7jHKhxurOTE4afsHFKM10F0qMDZWcA9f5c4jHDwiHjF7pT7I0J6V0NblxoPorYjdCsEZJama1xUPMS8qJ4-OGF27ULgBOq1ZYujNmEsw9f2TB2SNn6QvTcU0GyGhDDKuMtsZXoyLudo0xLX5yrGUghw
16:10:53.602 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 0DDv8D99HIexKSQQ3-bFEJFcUZqHPxflcJ4Yzb0isY_5EGeSK2dNNtjhIVEjEqNLqDg4Nn_qQ6GxjaHJ0GyTp0iC80Yvs9xVZI3Z4ctqQsInD_kuygjnycmB9CZglt-s
16:10:53.608 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:10:53.611 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:10:53.612 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@522f4c60, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:10:53.648 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
16:11:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:11:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:11:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295460004], value class [java.lang.Long], SQL type unknown
16:11:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:11:22.894 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:11:23.222 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTQ4Mywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTU1MTMsImlhdCI6MTc2ODI5NTQ4MywianRpIjoiNjAzZjMxNDAtYTcxOS00MDE3LTk1ZWYtYzEyYTFmNDZlZDQ1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.qFjXOmRmxDsQxjfxXDYEc66VtEYYFnoD4BNiOJ4Unl9EgrkVn3f1X4YCXmGvKubBbE6J5LfNqoWmBfpSWZYk6DUDUBW23_nwzjkU0GE5CgGRLeiZIja7q-zZYOPPHTlic8FRPxUaxlUkpOdr_fZkeJU0bgfwrEghkCiYvCgR-e6YVctX_ZHfcFxiuHszkRoNt0SWjbexMdCsFelMymmvGHttQWbrRAuNZzwmOZ3MDPBXANDoR4dcAoHsEBp5_ypc7T_aZN6bDJZVznqEiO5ARSvemtcijX-0Dk0Y4oTkCpBEuSdVOoNVr_iGdLTMRDnG0c_OBF3vuuyGc8WFwlqOCw
16:11:23.224 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTQzNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MjgzLCJpYXQiOjE3NjgyOTU0ODMsImp0aSI6IjBlZDgwNjZlLTkyYWMtNDMzZi04ZGJhLTc5NmE1MDY1YjNjOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjBudVktOVNVSDRycFphWVZUaGRGWHFQMVY3TDMzdlRzekU2RzVwQVhvOGsifQ.mD7YMyietXY2Ep7N-ypUvIpPpTnjCDPyFiHkVUZT2_OHtOqB5kxaY8wzgQyYSlI0w6PVkP-8Xf9N6fwVdYGTa6Hu1NpL9lspxB4X17XIaDfUDoQsckqHeuMbWRRcYDmZINtzBRhIjEiDB0XB2ENDY8SEO5pkwvnshfLxkNWrJvahPDysXjdtMGakQ-0OVM7PR2ga1_4ZNCFz9x3ncwJU8SKjGeOV4HMxuDB0qPmfmQGm1m0UGurCNMPrOL1g9QrkF_SLwbfgZ5gjwUEUhDyJvQ6rgUvx3sjGKqreSB0l4NrpbY6mbEbYTBeb9t5oEHfTi2qpexNZ9OhVyLZ1M6XUGQ
16:11:23.224 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: sLc-H2pHVCi_uxaOeypqA-C9ACSGQNwXLJIHxi-fO8WfIY8rKbPdXk9pcfuYC2R_iI27_Ot7PWjk8vZypIUxogdskENrCy1HvDkyN1wAW_M7u5PHARcEYxXyEbcPyzwM
16:11:23.234 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:11:23.236 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:11:23.237 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@71c3ae59, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:11:23.299 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
16:11:48.376 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:11:48.686 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NTUwOCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTU1MzgsImlhdCI6MTc2ODI5NTUwOCwianRpIjoiOTU2YWNjOTEtYjQ0ZC00ZTVjLWIyNDItZDdiYWQyMmMxN2U2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.r_x3b5lrQTUHEWS1ENS2w3eS584us_xPG9DmG6tjAX4cMUhecz2BsxuY8T10nNaYzYjBsLk3JF979FbD7FUlSS9TH7FQJCavi56VpkFGXN9vdefxC5W9iqp5ZcJ4lu1RWx3SjRKhp_aZDbO4kNdQKNxkC-VQW-CSc-f7TB2ft1LlPVv7b5E7ZMTNyvrW6PSZrSQdZlbE6DCTBSPmPH603KucQNDZLgBA0BH4aoGtb_ErNfLumDBAy2ypFihkJNZp0tAkYuyemwuwzf0OHUSIOUo6LpbIa0-m4jvVfuq0h2ImVDpAHeUU5qfYQJE9beyVIhW6OX1BCNGpkY1-a1N8TQ
16:11:48.686 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NTQzNCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk3MzA4LCJpYXQiOjE3NjgyOTU1MDgsImp0aSI6IjExNjk5ZDgyLTk4OTQtNDI4YS04N2FjLWQ5ODMwMjRiYmEwMiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IjBudVktOVNVSDRycFphWVZUaGRGWHFQMVY3TDMzdlRzekU2RzVwQVhvOGsifQ.rw8UxWz3D4VDxu9FrJfg5PjSMhRrGnnErR0f5gD5DMuAY2evePgLZdlg8AT6qFDrtJWSRCrls0Xl3PG_EsRVsMXBiun1ROMCWpQsKfub25oxJV12Oxt8iNxzkSOH1Q5z2QhMPSi5vIfT4VzsHV2QbGIRBum20_MzQg878KNrYB6V0E6sMyyT_BBSN6KY7sW3HmfcbRRH5-bhE1c_2bVOdIe5qQeiGKz52QXnpHkUYJI4FH54aLNeC7ZWHlcw95WC8je0hWUIKmAPqHOmTovCZHR-nwZMO4DYv0wAlg27ElzEi7RgpQUirlTxz3X1_lksTGGVCIiQINvGEQqVxQdyQg
16:11:48.686 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: Z9-o_SjFJkHVQy08v1wHMmmd0Y2yLExTnvjcgM1NMnlhzJdqRWUbOuOj_87KZL-G2Sqabxt2RvPiQU6HNLnMP9n7EGPoJ-_xNKjASZu69m_NWhjTlii5p-5tpdEu6a5R
16:11:48.693 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:11:48.696 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:11:48.697 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@13b9453e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:11:48.737 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
16:12:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:12:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:12:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295520008], value class [java.lang.Long], SQL type unknown
16:12:00.018 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:13:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:13:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:13:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295580009], value class [java.lang.Long], SQL type unknown
16:13:00.013 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:14:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:14:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:14:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295640017], value class [java.lang.Long], SQL type unknown
16:14:00.023 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:15:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:15:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:15:00.015 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295700014], value class [java.lang.Long], SQL type unknown
16:15:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:16:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:16:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:16:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295760010], value class [java.lang.Long], SQL type unknown
16:16:00.014 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:17:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:17:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:17:00.006 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295820005], value class [java.lang.Long], SQL type unknown
16:17:00.010 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:18:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:18:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:18:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295880004], value class [java.lang.Long], SQL type unknown
16:18:00.007 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:19:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:19:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:19:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768295940013], value class [java.lang.Long], SQL type unknown
16:19:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:20:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:20:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:20:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296000014], value class [java.lang.Long], SQL type unknown
16:20:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:21:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:21:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:21:00.018 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296060017], value class [java.lang.Long], SQL type unknown
16:21:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:22:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:22:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:22:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296120009], value class [java.lang.Long], SQL type unknown
16:22:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:23:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:23:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:23:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296180013], value class [java.lang.Long], SQL type unknown
16:23:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:24:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:24:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:24:00.015 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296240014], value class [java.lang.Long], SQL type unknown
16:24:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:25:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:25:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:25:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296300008], value class [java.lang.Long], SQL type unknown
16:25:00.020 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:25:54.953 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:25:54.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:25:54.977 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:25:58.893 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:25:58.895 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:25:58.895 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:25:59.059 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:25:59.063 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@58ad8c32]
16:25:59.076 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:25:59.076 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:25:59.093 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:25:59.093 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:26:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:26:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:26:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296360017], value class [java.lang.Long], SQL type unknown
16:26:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:26:00.215 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=D7GIGB5yoRPjvb8qDO_AN_9218p4X4IoS5FLBHkE75k%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=LrDgC1aW4GYQ0A89H2NTAZ9_8Jcgz0MAnXx-whoHq_E
16:26:00.219 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:26:00.220 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:26:00.233 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:26:00.280 | DEBUG | SessionRegistryImpl: Registering session 39441852-6ed8-4005-bf29-3b794e05d7f5, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:26:00.282 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=kjYYnLSigTqQjMTZBljX8nylW8OCNiAFbj-N1O8f0lgmyDf_DYKjeTtQXKPNUUwR5Hq27uEG9T7iLsKu7YqrH7e1Kbg6bBjLuSiG45tcV_G3D6prtpTfLMO0W3RQ1vBU&state=D7GIGB5yoRPjvb8qDO_AN_9218p4X4IoS5FLBHkE75k%3D
16:26:00.285 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:26:00.285 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:26:00.299 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:26:00.299 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:26:00.402 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:26:00.761 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjM2MCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTYzOTAsImlhdCI6MTc2ODI5NjM2MCwianRpIjoiNTU5ZGM0OWYtNWQwYy00ODMyLWFiNzgtMTJkN2NhYjRlMDA2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.cFpf-E6-0RAQxNTCvwYo4u3JdTjDxiod3KuZpjNIeyrOhv-n3TiShn2R_2mB-Vrx3Du8cGDaaJe2j1znE0ZFLV_ymYHKur2T2ZhUM08JTrIQR1BTuFH0onwtEfipO9921cNTbI42gFUyszNpI2tRwMXLB4ADiakmowJHqHi8zuvU7CeAp8WSv14oJUVQSEVuhE5Mi7LoQv2VLzockQpC0yzvsB3XFLv7tqLJfTQHb6k-9weDjJ91KKD6Qh7oyXOkdbOCvOGXHsSMTFJAwNcrEomYUj_xyCICbynnbulp0zdbDlmCWWPjNtIqt2MZFM-JffjXG1QkSnJKAEs6wVlHOQ
16:26:00.761 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjM2MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4MTYwLCJpYXQiOjE3NjgyOTYzNjAsIm5vbmNlIjoiTHJEZ0MxYVc0R1lRMEE4OUgyTlRBWjlfOEpjZ3owTUFuWHgtd2hvSHFfRSIsImp0aSI6IjJkNmUzZmYyLTQ0NzYtNDQyNS1iMDhiLWNmNjVjMmNjMzBhZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IklQbVN5UlEtSldyWWRIYUdXQ3FOb1dMdjdYTGtfeUlBSVAzbllZNWk0OUkifQ.E6LwFxOpIclRA1Bs2yPY3bUxNvYwXpmcJRGkceSYtAnjFNSRTkAKSguf4OXaqq5aXnnLIeWiUtqsD6Wig074cgzTGK788nz8jqFeTUKQUicJ7UyJI29SdlQm9ugBROoiMz9i4pbEFjc8cHnkXZZJpWk_JDOaWJX9dwEHxSdrxyzKf3maxgcqmvwjkQHSLtjOQfywMDTTDSj-saq8-zW3uPsGBRdIt_wQrS42n_1DnYARSkhbQc-gmO_NrmLCfl80vFVjKKIvXTRPeMxddmANXhvVvJRgrWFUCeG7og68eUrQG0nWaXC0Jg42hgXPZ8TH99pC0058FsFdRCLJMpNLvA
16:26:00.762 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: mEIcPBltOjoaia1Tr8wvcFRL-Dhmxl8Agi5eKx8wxoXmT0u9wlDW-P0LacsATIAqgHwaa7QeB6brweiFE7XhSqM2As8xdDUAdUsukd9XqfmZb-Lhada3-3pHmaLIRc1v
16:26:00.923 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
16:26:00.951 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:26:00.954 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:26:00.955 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5b816752, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:26:07.889 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:26:07.890 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:26:07.893 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:27:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:27:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:27:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296420003], value class [java.lang.Long], SQL type unknown
16:27:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:28:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:28:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:28:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296480003], value class [java.lang.Long], SQL type unknown
16:28:00.009 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:29:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:29:00.022 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296540018], value class [java.lang.Long], SQL type unknown
16:29:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:29:16.007 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:29:16.023 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:29:16.029 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:29:16.318 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:29:16.323 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@13fa4e]
16:29:16.353 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:16.354 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:29:16.380 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:16.381 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:29:18.773 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Ba3Dhjo7FDGbjnzotMlZc9nhfj_HfykGQz6ktwfGgf8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=KalCP8QTUMc2w8ec82BQyBqnyPzuklfQm78oBG4LXLU
16:29:18.812 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:29:18.815 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:29:18.874 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:29:19.040 | DEBUG | SessionRegistryImpl: Registering session 09453df1-15dc-4237-860f-fb9158e300f3, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:29:19.046 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=4ed1DYzRCV5Vtp4FAWHS0bdqWT_-jFZgg5e83irviyjkXOifJZXoOcpwJy9-JM69t4FFqYLQMDhTc8jRIORXM6bhjyKsXZFIxyIp4CZrkmh3eWl57ZbY9CcA0VqwFJ46&state=Ba3Dhjo7FDGbjnzotMlZc9nhfj_HfykGQz6ktwfGgf8%3D
16:29:19.053 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:19.054 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:29:19.072 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:29:19.073 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:29:19.668 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:29:21.049 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjU2MCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY1OTAsImlhdCI6MTc2ODI5NjU2MCwianRpIjoiNTIwMGFkODgtYzdhOC00ZTAzLWJhNzAtZDhkZDJkZmJiZjc2IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.Gr8N_AlCpHnXk__LrQWDdNk_hpGM9LdXAgW6WfoJLgem-3LevQzks-wnVX2xHMzdgPz4nB68UMEmpZPRnpCg9tXbApF06sM_qwA_XBBhigMdxOmZQ-sXJQOh2Nwh7vuU-OedxDjAlodXAPEUcOhC05TRCqzAYkuy5d4yu7JQX4HCte1SIVLQ5jxZHvZpNZ1od-BkOYFJS-1PzxVF6VZoR9N5scjz7_M9XedaQu2qSUTKwVY2qPDQA_5wtwsi5aJ5BnVG8N0zLcJTHynyC0OYcV9L8NrxKxmvbVL3x1T19RE0KgjROWvL5LzD3goChV4dmmbljVsxwDGEwQjupvOtqg
16:29:21.053 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjU1OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4MzYwLCJpYXQiOjE3NjgyOTY1NjAsIm5vbmNlIjoiS2FsQ1A4UVRVTWMydzhlYzgyQlF5QnFueVB6dWtsZlFtNzhvQkc0TFhMVSIsImp0aSI6ImJjOTg4NTZmLWQwMDgtNDM0Zi1iYWQzLWU4MmVhNWRiYzJkOSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6InFxaXo4cTc0REwzOTlHbjZOMVJpZVhVdjRKM2ZhZHBjLU0yaDZHeHpoUTgifQ.kUWJ2VIQqTJe3SwSTLcbq4oOt1yleot39fVluy8c9TmrOFgSh0IvwDmiQ4OOvCOr4NbdBspKwWGz4Is7-JVl-u8mkOifIpZn_iYNdHHlEWzxjuFLidx1RoYupxR2WCY7Eayx6YThGB5fSO4dFMSPbgZFSH4CWREJiUCwQKA8dQd4XxWClPfe86RZNjkJgKl1T99oQjXheJu9OLIsp2biqr27sTaBjCUr7KwQH8tFmxurnjjwJ17LTCBvj9aQNe_tzKC9ghhusW-Epa0qIpXw5lLrT4W6nUz1lxt8ri3skoah1cOmOwFcdNYYYqnwzMfhp76jepHtzBdY88G-oct4Rw
16:29:21.058 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: heyvYDnn9vU31xyAFc28uLXbHSI_LrDcu7NH0TormY7NMkVn5Cg_hvLKFnqkoIQ-fj5Yu1tF6ES2kwTTzVoWPFMbk8l2QoUltOCXid-_KPZPUdvynIH6MpgLy22TNwG9
16:29:21.177 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:29:21.219 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:29:21.223 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6dee18f7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:29:33.993 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:29:33.997 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:29:33.998 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:29:38.655 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:29:38.656 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:29:38.658 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:29:38.759 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:29:38.761 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@325f33b1]
16:29:38.765 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:38.766 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:29:38.767 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:38.768 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:29:39.850 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=dQor45bzoltV1oEG1fyuJ5Q0B-rRlCLG_mY1SHPUp_E%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=L9dIfDMV3VZRJT1KOeclnlpZjY954cBDLOQqUgY_6pc
16:29:39.854 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:29:39.854 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:29:39.859 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:29:39.915 | DEBUG | SessionRegistryImpl: Registering session d3ca0227-b3f4-4091-8c02-7b6ac52ad368, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:29:39.916 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=3EyvRiVCrIExnCEGdhPCei96u6neNIZfUYJk7ft6ADi4cWSOriN_yfJE-yeR6OIVNQ0AbmPN5CejIe1oQXiw7I8orjviMruDXfD6JeKy1J0wW06lim7ULWHf95gP7Rdo&state=dQor45bzoltV1oEG1fyuJ5Q0B-rRlCLG_mY1SHPUp_E%3D
16:29:39.918 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:29:39.918 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:29:39.930 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:29:39.932 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:29:39.985 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:29:40.599 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjU4MCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY2MTAsImlhdCI6MTc2ODI5NjU4MCwianRpIjoiNjI3ZGEwNTEtNWUwOS00YmZjLWJmMzYtMmVmN2FlM2U4NmNlIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.XTNI1QOB-rQnZV2bUUPWSxhG3JCZ_i196-9B01KV3MV6ZqyvmpJEUlDEe3E7W8pEzkTAL8JPRpXlZBza2DY1SYn_SJshp8kaB8EwE_7fANPE_sAiX6EFmv12tnAjdRxml1ascFuglyhCXBzWgMcLvSSmzeH-ESQV8NGmId9S4c5a1MSOKQw_krZq4VToFxQ51R2ToQvRtdnhlObCv3zo42Dxcl3edltiP6iSSMOFJ5jFcyNtNDOwA4axhyb3DkfTBbRmUAAWhDfyN-5WQdWR7pSyoJM-lBQ444UwXpfycXFFwEoNlNqySeYh8uF3Kbu7UYHb2bhDEkHbAWd5NdaVaQ
16:29:40.599 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjU3OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4MzgwLCJpYXQiOjE3NjgyOTY1ODAsIm5vbmNlIjoiTDlkSWZETVYzVlpSSlQxS09lY2xubHBaalk5NTRjQkRMT1FxVWdZXzZwYyIsImp0aSI6ImUxOTQyYmU3LTMyNTMtNGFkNy05MDY3LTg4NWRjYTJhN2MyMCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6Im9BZzg4MThvZzBoLTEtaDRoTWhJV2xON3hQQ2RFcmNGZUhKd3hjQl83bEEifQ.WHsyfHqEfUOZTRoU_i-WGjVGUXeQGZFDzOvxnjqnKNpjqfUWbGhv2cDsCo0wG8nUYCi_I2StU3kxyLQ3wjqgdthRpJwmBrR2Tlatcl8anKwR32Y3tKh-4fx0T53u2F8fFnSENvtMVCK2QFnGpXzlLsh1zTmKbwl82DE2ebMCTIc17Xb0roBkMHfV7nCQcYkq7Fb1fQSDSWFDIQebW7EDmLc6082WWVqyYCdZZqNb8rKYalnVehsAsb5A9ZWvUhbdNQL_bJKmqUGzN78phw9Ompl1abSGutLGgjUEzABvp_BJsNBj3pngfCkVu_LhpbZnDFfnlVRyZFTIClDL7Lwm8w
16:29:40.601 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 74x0pXLiKQIozEIT7gnLbJQKtyMDQlCW0K18nR6dBxlWqTLaxG7VqAfMtbD2C_WQnLc2yUJLB0Lw0Zby5T_JLbSFPQVco9BMnZa6C62RTeqQo7C6Ai1kT7aeNuPnCjvi
16:29:40.618 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:29:40.626 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:29:40.634 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@32fda635, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:29:47.963 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:29:47.967 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:29:47.979 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:30:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:30:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:30:00.010 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296600009], value class [java.lang.Long], SQL type unknown
16:30:00.029 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:31:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:31:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:31:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296660013], value class [java.lang.Long], SQL type unknown
16:31:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
16:31:25.175 | DEBUG | FilterChainProxy: Securing GET /page/login
16:31:25.176 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:31:25.178 | DEBUG | FilterChainProxy: Secured GET /page/login
16:31:31.199 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
16:31:31.201 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:31:31.202 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
16:31:31.277 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:31:31.278 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@7c6f072e]
16:31:31.280 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:31:31.280 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:31:31.281 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:31:31.282 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:31:32.393 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=SCdh-8--q7EK3Mnh3oM8fuiee8dMwmS-U2p7BFWnGw8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=2XwWikLcKE1vrE3jf2bvoQgHY9kSTAsyFDHSbF982TI
16:31:32.399 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:31:32.400 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:31:32.404 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
16:31:32.450 | DEBUG | SessionRegistryImpl: Registering session b24b58dc-c147-4d7f-86ab-a6a05146e740, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
16:31:32.451 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=FpuI4W09iLnrOaphhKSzBvDfE05GQlzaK_gpT7QB2mTOmps_nAo058vJm4vJNw5hNqNxsaRsYwKblQTEkM6Rxr2asKkgbw1ttM6v8b_TADvhjpmSlwcuv4zI3wwgNVwf&state=SCdh-8--q7EK3Mnh3oM8fuiee8dMwmS-U2p7BFWnGw8%3D
16:31:32.454 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:31:32.454 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:31:32.469 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:31:32.469 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:31:32.547 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:31:32.910 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjY5Miwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY3MjIsImlhdCI6MTc2ODI5NjY5MiwianRpIjoiYmJhNmRjMmMtNmY5MS00ZTdlLTk1NzEtOGY0N2I4NGE4NTFmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.Jfw6Irvbl-e83_stbAc-cUi-zBG7zDkNMvn0fY6sIoxFT1IvlCyfmiILBHq0tP2b_W90L5HX5K6CKtjvGRyuCejG8KFot4akaoIr1vYzEfXVCR4fUjXgg9Vtp-gu2gOfDfUzpfObxOnhb8gbleTOCcBFB_UuPcTd4EdD1K9sMOgwjACP1j5myNn-wXYpAlY3Y7H6nThyOill52CfzSZ_8j3FSycK0dRRzoXALQiikF4lWsFO8lnHu5FfohrNFuF7uO5W6i-hgLuPrboeTAHZ5ssCi9GbbGtY--FHjyWx9cppwQyUiZb221DY6GD2iNHtdHVyk4mJoEv2Oca0xnS-QA
16:31:32.910 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjY5MiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NDkyLCJpYXQiOjE3NjgyOTY2OTIsIm5vbmNlIjoiMlh3V2lrTGNLRTF2ckUzamYyYnZvUWdIWTlrU1RBc3lGREhTYkY5ODJUSSIsImp0aSI6ImE4ZDc3ODYyLWM3YzUtNDJiNy1hMTU2LWRiOThlMGZlYzgyNiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiWlZtVFN5R3dJY2Q1WUJialRRMTJxRFZBXzZoR0NZd2VrZXVPMVYtbnQ4SSJ9.nOw6-Yo8uTw8ffEcq1ad1S3MLY066aMVzTu3Rr_UjE4k4B5poQIXGNLBrFqrOm0t0dniF9glLMpb7Y7m69GrvzsLQtU864rICLKR_WYtZKsqc71od62bIv_AgoW67jlSUaANchK8x6dh8hASeuHGv4qQtFksZdM1r6gIBGB7T80DNuI10ZmSE1Ea5y0ZmMfATr_XZ2JR9z8ur1H9OSU6IVzuUqTK9efhbKxv-qVVBThvhXLNxxTlDAJaTTyQ5Abc3Wa8Q2drpItNfDvNn5C8oQJjRi_cU-5oUon09Nk9OhMYKBFi5XbVFep2XgtuNhW09duT0LwaLmm156H3I7r4_w
16:31:32.910 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: d5VFOo9msjkr8Z1uNXCI-CYpoVaDwJdynwx0nEBipz7eORw7fbILk4XT7QLkSDPQWwdDP5i1S-QpKBR2QjhjnHg50lqaURf_iukaZlLs-rBysUxsiyyMCWVatcyUuu2Z
16:31:32.926 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
16:31:32.934 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:31:32.938 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:31:32.941 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@1cdbcc47, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:31:48.787 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=cLkM5e-DYtkS4vusKwy4Ew1xO6um_NFcr89AyvRabv8%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=AWyMf8W7tPdbzr7VLyUzDIfP0KmPLDaufkCSmRAUL9Y
16:31:48.792 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:31:48.795 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:31:48.802 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
16:31:48.837 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=4b82DplhNPkOChQ6ZEd7TlUx5k7YtYOwfCr1TbGgJjrNXTSdMwQODhJ66hz72cZjifLVo82QL27o4KL0r15DaO6MouhNWm6Iiq4kkB6UPhN6uylBrV1yS968wpmq_6QA&state=cLkM5e-DYtkS4vusKwy4Ew1xO6um_NFcr89AyvRabv8%3D
16:31:48.838 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:31:48.840 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:31:48.852 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:31:48.852 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:31:48.882 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:31:49.183 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjcwOSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY3MzksImlhdCI6MTc2ODI5NjcwOSwianRpIjoiNGRiYjY2MjAtZGY0ZC00MjFlLTk2ZGQtYjk4OTJjMTE2M2M4IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.RjsvSBjIznD751JcWPY7ZGrZmBsJWV7P5qNaPe9ToItekIZ65o7qidg_nVlJJBXLMzmF4scMWjclezkkyQyaUpxSgtf0MtIAFcJDY04lw1LTd77Z7EDeA10qcWgmPKWYSLDx1ipo4iW04xVNceKQfS-ZErjhBQWKGv-VTKbTlnxgZw1oe-hPqVMunGr-0aLBQqzaF3JywQBZMFmppaPBi5DOiUxA7mj-Wudze1WPJHPNCqv8OA_qCmIypKqUcYR_1WL5HzqARK1-nkOlHRhxNDE_2BZ7fLgWljpUH_hdUZ_n1S2D_lkTC_-sXFWtZMBY4BK5-qDlfKl5L1OFHCX_iA
16:31:49.184 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjY5MiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NTA5LCJpYXQiOjE3NjgyOTY3MDksIm5vbmNlIjoiQVd5TWY4Vzd0UGRienI3Vkx5VXpESWZQMEttUExEYXVma0NTbVJBVUw5WSIsImp0aSI6IjM4MDZiMzIxLTA4YjgtNDM1Yy1iNTNmLWU0MDg5MjA5Mzg3MSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiWlZtVFN5R3dJY2Q1WUJialRRMTJxRFZBXzZoR0NZd2VrZXVPMVYtbnQ4SSJ9.A8NqPHfAu-vyrrh-4JiYwdqmJOAdyUXhbOps9NKMuXhQsuzfjvhvviyioHd4LbyAIljRMQoPk68FcWbTyK2VuxJI0viu0TWKV4DFlwWcUDzhnbVqY_Uksdea-7uXhy4-Ib8TQ0jtKf6qcZvwoTK9pOEYLfNCNAChssQMdab71-NNXkg9j9LVkPniMW9n9LpRvoFBWRltxY-2oTWoreXksmjctx5rdawAyO2mNkzCRpvGsgwchqIyJkPGBKZhjg80d9CqFlGtUssQhwkkmx29ftH2nnmT8_dJzNQ5SbIr6hUmm_kxxtO3WAf-FRXiQTejHk4vL5Wu31qk11SzwVb86Q
16:31:49.184 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: Kc18qTzyAOIItbuA0OgzZsL131oUyAxB3dN1CbWV5sLZhUjfrgXhUm0NmoVlCsUy_cpaAmrfC1sUIirVGOdoDqK60fmJFpKJYTJLXjf1eg3yDxwMDpczMh4aGzJEnvkg
16:31:49.193 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:31:49.195 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:31:49.195 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@e016441c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:32:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:32:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:32:00.012 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296720010], value class [java.lang.Long], SQL type unknown
16:32:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:32:08.718 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=u7pto6xEvuXVHgwTutmjEmxBtFokXqjN2NbA3Hj3--o%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=CwHQy3DXMFhHa9tkda2lrWiSb74tMshF5c7sPJn5lFQ
16:32:08.744 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:32:08.813 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=u7pto6xEvuXVHgwTutmjEmxBtFokXqjN2NbA3Hj3--o%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=CwHQy3DXMFhHa9tkda2lrWiSb74tMshF5c7sPJn5lFQ&continue to session
16:32:08.817 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
16:32:08.818 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:32:08.819 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:32:08.821 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:32:08.822 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:32:08.917 | DEBUG | FilterChainProxy: Securing GET /page/login
16:32:08.917 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:32:08.918 | DEBUG | FilterChainProxy: Secured GET /page/login
16:32:19.059 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=k0JIf0xAYmcaOZeBSPr6qfiRl9FvLbI1-GW6lcQ9V8g%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=CSo45NmKNbyIomPfvLzL-hvUdjARsndBoQ-M7i9GIFA
16:32:19.064 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:32:19.064 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:32:19.074 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:32:19.087 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=k0JIf0xAYmcaOZeBSPr6qfiRl9FvLbI1-GW6lcQ9V8g%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=CSo45NmKNbyIomPfvLzL-hvUdjARsndBoQ-M7i9GIFA&continue to session
16:32:19.087 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
16:32:19.092 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:32:19.092 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:32:19.105 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:32:19.105 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION_ATTRIBUTES
SET ATTRIBUTE_BYTES = ?
WHERE SESSION_PRIMARY_ID = ?
AND ATTRIBUTE_NAME = ?
]
16:32:19.120 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:32:19.121 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:32:19.128 | DEBUG | FilterChainProxy: Securing GET /page/login
16:32:19.131 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:32:19.132 | DEBUG | FilterChainProxy: Secured GET /page/login
16:33:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:33:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:33:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296780015], value class [java.lang.Long], SQL type unknown
16:33:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 2 expired sessions
16:34:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:34:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296840008], value class [java.lang.Long], SQL type unknown
16:34:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:34:02.120 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:34:02.121 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:02.122 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:34:05.252 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:34:05.253 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:05.253 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:34:05.334 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:34:05.334 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1943dc8f]
16:34:05.338 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:05.339 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:34:05.341 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:05.341 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:34:06.427 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=WJgG4acUK841-VIlCoLUuSM_xzbYGvZpwaI77fBjeRw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=EhsfJMFT2ua-3oTTZew8xQtHfgQ1lv08t2m3-nhs28I
16:34:06.436 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:34:06.436 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:34:06.441 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:34:06.480 | DEBUG | SessionRegistryImpl: Registering session 99b8be1a-7df1-4ab3-87a0-fbd71ca6e94d, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:34:06.482 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=kn3dYjbB6ZekNorr1Z2uUkVi7rUzesU8BRtOLBccXMNIHBenjHBApWhdyIxqZK6ptAFcH9CJ_kV1gn9bwQxTH6jVS9IEfCfCMKJ6T-pZn1xDYaUtrzsd6YGcmXc7jK4K&state=WJgG4acUK841-VIlCoLUuSM_xzbYGvZpwaI77fBjeRw%3D
16:34:06.484 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:06.484 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:34:06.498 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:34:06.499 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:34:06.535 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:34:06.842 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5Njg0Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY4NzYsImlhdCI6MTc2ODI5Njg0NiwianRpIjoiOTE4ZjA2MmMtMmE3Mi00ZGE4LTk2ZWItOGM4NzI1NGMzMWE3IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.nKpB4_qgYWd2Lyb9YfwBudfT9fnsxr4UeyjHvySUGuqtIT9q_Xc_qBvmyfAUwbIdblfUd3za1UwE-9rGx5QP1tsnjqdSyCR5Vzuff8nHzu6eweJl9sEh4gOfJUEku1P4SapGJbUPktely__0eO1Oc3ejq3hw97b2p2LWOGQkAyzxM8NIBET9wcjXurYEGEzragrzlRhZVUizMKEjT8H7BDarXVWVrU3mxjg7BeVbZdlLA6d33sGeovjo3wmyrdjn96zhy1RhJe-SgrXhCB73qAAhNbyNZbHLdbaQ91uW40goQcWCJhsYMlVvAWnVXMkLPEqwU1QxqUtTDoVu8oD5QA
16:34:06.842 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5Njg0NiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NjQ2LCJpYXQiOjE3NjgyOTY4NDYsIm5vbmNlIjoiRWhzZkpNRlQydWEtM29UVFpldzh4UXRIZmdRMWx2MDh0Mm0zLW5oczI4SSIsImp0aSI6IjkzOTE0YjJjLTNlZjgtNGEwYi05MTU4LTAwZTFiZjc4NDg0OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6Ijg0VkpyUkJOSWVmNWh4VTF5NkNPMzloSFNaYk9qOUFMWGJUNUdNQUVndDQifQ.VBhI2zSBPoS35juPX_3_zjMHnlYKo_u8DxwItf7m06DguuhQcJF1Ox0mmWPmVXbDxuA_Ea29IGfsWP6v_RxkrgOyPwxakq4jEgnH4w42E24DZnGiDAICtKPwEd44oC4kZ8Vj00z4Uh_CmWPkk6vlUJ9OgaTaLacSO7Kwk-_foR1biqMoh40ILtVPkWe_E79YmHwiC8vuvE3ZiM1DsfrmFfkVRyRIe8ABubIHl0Xg7C_HMmaxmUtiOUv0hQYMdj5QtaTBwf6pEYyBZocobiLfLsGs11Vk1-W2ooR57vgVkosbC15_SSqRsSHplO9AZGLQc4r8hfWwvPs3hAse0yBx8Q
16:34:06.843 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: uoS3e28kjkZR4e-QfrGvSBIy2dK9CZ1i7WI8cyBWecFOMiK6jdQSWVkHHr5c_K4a3fwTPfxv1249pPccDH3UVrfbNBB1iQ4kbReA4tI1OyA_NZVvMkF7itkESr3OULvN
16:34:06.854 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:34:06.857 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:34:06.857 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a33eefbb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:34:16.404 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:34:16.405 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:16.408 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:34:16.531 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:34:16.532 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:16.533 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:34:23.548 | DEBUG | FilterChainProxy: Securing POST /api/login/store
16:34:23.548 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:23.550 | DEBUG | FilterChainProxy: Secured POST /api/login/store
16:34:23.621 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:34:23.621 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@b53cd6d]
16:34:23.624 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:23.625 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:34:23.627 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:23.627 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:34:24.712 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=UntwUJENn7mhDAysZsT_LOFUsYr6DAZP1fTmo-_IRHM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=aix7TtbR-NELZoixy3znEkMzC5wqBkbHdNX79XPCFog
16:34:24.714 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:34:24.715 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:34:24.718 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
16:34:24.752 | DEBUG | SessionRegistryImpl: Registering session a1d554c6-7647-4023-84dd-2d3604899128, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
16:34:24.753 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=QXITDdnrX7zLwajw9EPkUwPM4FOZRpx7Wrr5Au0RqYdfQmg6HUrw9FXwCQd-uPRdUt67ZQAhLPLbd70s6hR7GueKvu6q2B3JwLy4juWXKPFJ-3kFsqSy_OUIF1Mn8XJY&state=UntwUJENn7mhDAysZsT_LOFUsYr6DAZP1fTmo-_IRHM%3D
16:34:24.754 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:34:24.754 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:34:24.767 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:34:24.767 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:34:24.804 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:34:25.151 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5Njg2NSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY4OTUsImlhdCI6MTc2ODI5Njg2NSwianRpIjoiZjNlODM5ZjktYmJkYS00YmVjLTk0ZmUtN2Q2ZDQzNzkyYTBmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.Q7KRp_vwVOaVPsh6igxKMaCnbSFGEEWY1xYZOkAaIQkwKr7_dtLI0njRKyCacK0dd_aefF5dU8n3sZEC78e-PihCHGkm-TyCfFLDh8A7qjtwR5KY_B8gP_-BRptc96aPp-mSvA7HObYuhDYiT1FGQQel3Ua3g5iU3nqndTzTjUfQ1nosG5g2VIWs0w08oH9F3OhdOoIDXQ5dkrDGvM-HE9bSeA98JE_AygHCJkzkx9kHaaY1vbreenwkXw_qcp3JzA_Y-pgGMrGlEEJcWj0Mtz9uPi53lCBJA_88MVBpSEdUbtgs7QU8dH07kBm_gD6ctFOXD_nle_TUEm3H4M20Fw
16:34:25.152 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5Njg2NCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NjY1LCJpYXQiOjE3NjgyOTY4NjUsIm5vbmNlIjoiYWl4N1R0YlItTkVMWm9peHkzem5Fa016QzV3cUJrYkhkTlg3OVhQQ0ZvZyIsImp0aSI6ImUxOTljNTNkLTlhNWItNDZkOS1hMzVjLTA5MWQ4ZjgwZmY5OCIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6IklnR3dWYXpVTmZpTHptTVJ0bno5R1NzWHlFUFh3bTdEOXZ2TUcyS3R1eFkifQ.BidrUq928O7Iq3SBFjVFkKt94vc26b75MpUE_g2bRYwcXG6pllNZhmBhahB18pqmp7K1V8d_IvFpCeF_wq4WObw0BthTV384BzwMfI_enUpgp8qhNubPV1eM2vpquLHqm-WSwvFhdm5CAbpO88NJCC96GA1rVqbeSAOzJPtGpnBk2C3O1e-v4IhD0wbpM39TB81gwt8hrER4T4SwYSh3i8IMImhqy7TukKpisV7eHjBizurYcc8YH9vPKxFouE7pnEgHZ4e3kq3ctESU0cJ6CN-cNItnh2-Jy4vAm6-P2D_qzE1QgpbHdv-JQmRkYB-nCgV51e-7nFngB9LIgpBB2A
16:34:25.152 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: sorD9BNBoGP72GQtoZB-ep5G6Aq685s9LXKRoz9QW0Rlo5YIPLDO5TfKBT72pxHiUD8lYeVk_2ldBFvWvapjJHQIA21KosYty5bYFcNZicTT05V2YWOBRQijH97vHI91
16:34:25.164 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:34:25.167 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:34:25.167 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@df15b728, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:34:38.832 | DEBUG | FilterChainProxy: Securing GET /page/store-login
16:34:38.833 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:38.834 | DEBUG | FilterChainProxy: Secured GET /page/store-login
16:34:53.493 | DEBUG | FilterChainProxy: Securing GET /page/login
16:34:53.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:34:53.495 | DEBUG | FilterChainProxy: Secured GET /page/login
16:35:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:00.008 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:35:00.009 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296900007], value class [java.lang.Long], SQL type unknown
16:35:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 2 expired sessions
16:35:02.566 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=9egX51U98UXTPRMC2lgXErqUdxykSAgI8p3ojquRtlg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=9I3ZZw_WPhGwv0U8OIrRZBd3Oj0G3U1HzOfx74WVSoU
16:35:02.585 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:35:02.591 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=9egX51U98UXTPRMC2lgXErqUdxykSAgI8p3ojquRtlg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=9I3ZZw_WPhGwv0U8OIrRZBd3Oj0G3U1HzOfx74WVSoU&continue to session
16:35:02.596 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
16:35:02.598 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:02.600 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:35:02.603 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:02.603 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:35:02.621 | DEBUG | FilterChainProxy: Securing GET /page/login
16:35:02.622 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:35:02.629 | DEBUG | FilterChainProxy: Secured GET /page/login
16:35:08.681 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
16:35:08.685 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:35:08.688 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
16:35:08.777 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:35:08.777 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@23e70085]
16:35:08.780 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:08.780 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:35:08.782 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:08.782 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:35:09.847 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=qO27lPrITGg6b5kWKFSH-20t7wHc_qb-9pSuo8KXpJ0%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=zDZKADqDQShiyFGBpSccgOAbMvPDFO3N24uTN8V1QtU
16:35:09.849 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:35:09.849 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:35:09.855 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
16:35:09.910 | DEBUG | SessionRegistryImpl: Registering session 6ae6a396-81ea-4ab9-aaf0-757d1ef7940e, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
16:35:09.911 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=8hP7ORJdD-VAA_y7s44YgrO2VSdDs9AYykIeqAOqhX_YJEkTiFnYUIG7dp5Jw0IsAKYLsdWZsrGfEMlxeB8g_D-fvVdOlh0N_AQAfXsDccsfvrvjAIG9HewI2y7bDk98&state=qO27lPrITGg6b5kWKFSH-20t7wHc_qb-9pSuo8KXpJ0%3D
16:35:09.911 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:09.913 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:35:09.918 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:35:09.919 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:35:09.949 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:35:10.263 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjkxMCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY5NDAsImlhdCI6MTc2ODI5NjkxMCwianRpIjoiYjk4ZjM4YjUtNjhjMy00YjEyLWFlMjItODMwOTA3ZDQyNGY0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.NyZyVfc9m73DhqgcMhGt8I6QS7XXlIr5asekflFAB7tGBwJESr2bytso75xOKDx19G7oGmlT6M5gn75AtYbdYD6fiYFZYxiMdMPTu1RTCdyZ9DP07sUHuBPEqL35Ezx7Rfrg4J4pC-TJj-vdR1XojcDLukrGq-RwW3G5UD4SqJPl52RXZLVYsIJsEI179FPNyF18lQj2QId0C13qo3IagvBlCnEwV-gaxfigWmsF1ukmBm2FK7lR1eRsAu9tBZZpccjXQbRdqAk7K8xA--l23EIjMRCuJ8CngouvP_RsEFN0heC-3T_5sLP29Y8NQn1MhTiWmYw3gcpUYouYjMNLtg
16:35:10.264 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjkwOSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NzEwLCJpYXQiOjE3NjgyOTY5MTAsIm5vbmNlIjoiekRaS0FEcURRU2hpeUZHQnBTY2NnT0FiTXZQREZPM04yNHVUTjhWMVF0VSIsImp0aSI6IjE1ZjEzYzMwLWJlMzItNDczZC05NTRmLTMyOGViNzNjMWZiZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMDBtbW5CQzNzQkRFeHd5bjBzRDdtbGQ5MUhtOFE5RkFLbUhlb2QwS1VxOCJ9.mPYfaJuSTzM4VpKcTMkICVbJPn5OEbMR5NUdhyBRIVP6Ed9TPGDd0U3_vSoweX--JXsrKexkP5Ic-Go_zTWFFmCRchAg9gcM6Bqd5s8qS7cXOlTcWr-lQZbS1uBpSx0vkJDDJ6MTw2_aSOAjceywMFHGeo2Dlzr-FfqHZpWSVbWRXfCHjNQyRdchKfyRPkvoTU0UzJqT_GqBwV4DlnDvv_nIHtvVglegJpFS7WQOKQsZlxKQI1BaMMAz8Nuubon1YGfE60xcRKsmcVYKkLgL2xwzdVGgzXWkI3qZ-NgsHBY0oZ851hkJfJODK9uATUG1pmAdi31L7EHEgsyrlM12eg
16:35:10.264 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: IPfFvBKfdnvVMr33Jhd5CxFjQmvLKm9FP7mCLNn-dwU75xA2NKPGBz5jO2XLkG4lE2FKSjmYImI219nWEccqqDwrSVIvIaXJ7QFbMkXI4ipZeND75HSG64GJj1Ndn8PA
16:35:10.274 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:35:10.276 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:35:10.277 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f738f3aa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:35:15.573 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=kxp5G3gQ1a_CGvdYXxwLJua46eoEpxsw5u78k4TJ1XQ%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=WGsc2HB2nHTaWo8M0MWE_sAzAUIpxg24cRz5x79OQCw
16:35:15.577 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:35:15.577 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:35:15.584 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
16:35:15.613 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=gI9NORbQ6bcstiSyT2GvuZuqEvrwPIL1eDNsA-12wK_Uv1_9NL-OQswy92ksYP-OsRc4NygIFnuGPEsFmXmShIDej7QE6RqEgDDUdH91vw0GTiPUXippHdmXI1EHFNok&state=kxp5G3gQ1a_CGvdYXxwLJua46eoEpxsw5u78k4TJ1XQ%3D
16:35:15.618 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:35:15.618 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:35:15.625 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:35:15.625 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:35:15.657 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:35:16.109 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NjkxNiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTY5NDYsImlhdCI6MTc2ODI5NjkxNiwianRpIjoiZWNlYTYxY2EtMTY0Ni00OTY1LThiNGUtOWFhMzRjZTJkNzQ1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.XmXiKrjRb6RvA_RHWxX6WFvppb8rPTu1rYJg-vrp6wHuFgk3H0xu_Q-n5JYxs80aUpMB_U7Ytpr_zv1irN4lUKOW79wNe3FaMitpZncMaRqvwFdaH6kJprWTr59hAD_hS-FG2v4J6Lo6QlEDWotss3vrV08bT13xq52xdzwWsSm8aC5FuoEjtpDKqXVTtJf3_1RSF7hFghXX0doNzyCAqvWyYmN9VHtda_SCA5JDrFoxdnuky-Nx03hocfUXPOsfUHi35oCK_0DWUoPXhm2eoQgR2XmKc0VLlpQKGzlyz4Ba1894z_z2cW6vYHmIIsFDm4Of5Y9DIB8vObRFiK6Nww
16:35:16.110 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjkwOSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NzE2LCJpYXQiOjE3NjgyOTY5MTYsIm5vbmNlIjoiV0dzYzJIQjJuSFRhV284TTBNV0Vfc0F6QVVJcHhnMjRjUno1eDc5T1FDdyIsImp0aSI6ImM2MGQ5YTgwLTZkNDUtNDI1NS1hOTc3LTExODdmZDM0Nzg5OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMDBtbW5CQzNzQkRFeHd5bjBzRDdtbGQ5MUhtOFE5RkFLbUhlb2QwS1VxOCJ9.ghwzQikC-e3g89Edb94tGgE7AxdyZfXlDo03Lt3vp87kFoT4NEnJeWKEeWlDnqe7lRAHiEpSOcUXUSlMWE2S8C_L0fE9OtSsPfeuBd_8IPytC6PpINC91we63w5KI0OIGJ6Iv_OTloaYm1GOCu-XEALXSW3HekxMs3QPpRQgHIHwOmrckW0BHSfdQG-VlpbCpTZKon6ZFQDJV7hnq6cmSp4sIHni1kXyv8fPi1pTClK4Q8gMTpZAguYZJ7YTEBWxvVxAKxhV-V2llx_MOyC5LhJVrayW9w2CGQkTp3b-zv9wLPOHqYSNc2A7dmwW_Is77HpqUx7FoDM341OlczNySA
16:35:16.110 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: jd6TjsDZELIU43ZlRCh8cxTMuYpYy_ilazfcXZMdBMzVgj1gOG2FaDlMjUu7hGNVIvVLVovkWWsJwmIjCXX_NfzHfasWsl1d4Ni9QrsQUmdVCrhZ99yMeBlH70fYMrTg
16:35:16.119 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:35:16.122 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:35:16.124 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4b6bc781, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:35:39.753 | DEBUG | FilterChainProxy: Securing GET /connect/logout?id_token_hint=eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NjkwOSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk4NzE2LCJpYXQiOjE3NjgyOTY5MTYsIm5vbmNlIjoiV0dzYzJIQjJuSFRhV284TTBNV0Vfc0F6QVVJcHhnMjRjUno1eDc5T1FDdyIsImp0aSI6ImM2MGQ5YTgwLTZkNDUtNDI1NS1hOTc3LTExODdmZDM0Nzg5OSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMDBtbW5CQzNzQkRFeHd5bjBzRDdtbGQ5MUhtOFE5RkFLbUhlb2QwS1VxOCJ9.ghwzQikC-e3g89Edb94tGgE7AxdyZfXlDo03Lt3vp87kFoT4NEnJeWKEeWlDnqe7lRAHiEpSOcUXUSlMWE2S8C_L0fE9OtSsPfeuBd_8IPytC6PpINC91we63w5KI0OIGJ6Iv_OTloaYm1GOCu-XEALXSW3HekxMs3QPpRQgHIHwOmrckW0BHSfdQG-VlpbCpTZKon6ZFQDJV7hnq6cmSp4sIHni1kXyv8fPi1pTClK4Q8gMTpZAguYZJ7YTEBWxvVxAKxhV-V2llx_MOyC5LhJVrayW9w2CGQkTp3b-zv9wLPOHqYSNc2A7dmwW_Is77HpqUx7FoDM341OlczNySA&post_logout_redirect_uri=https://app.bookommerce.com:8080
16:35:39.821 | DEBUG | DefaultRedirectStrategy: Redirecting to https://app.bookommerce.com:8080
16:36:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:36:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:36:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768296960015], value class [java.lang.Long], SQL type unknown
16:36:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 2 expired sessions
16:37:00.019 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:37:00.020 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:37:00.021 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297020019], value class [java.lang.Long], SQL type unknown
16:37:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:38:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:38:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:38:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297080004], value class [java.lang.Long], SQL type unknown
16:38:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:39:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:39:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:39:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297140011], value class [java.lang.Long], SQL type unknown
16:39:00.035 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:39:59.776 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=R55cLs3cvAcqY6s1usx9Olrq_3qjADm6g66aYOumEBM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Z7C9XTvCt_x6rxY7jPydNrNLKMUt3nMBic4cyAbUc6E
16:39:59.792 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:39:59.795 | DEBUG | HttpSessionRequestCache: Saved request https://auth.bookommerce.com:8282/oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=R55cLs3cvAcqY6s1usx9Olrq_3qjADm6g66aYOumEBM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=Z7C9XTvCt_x6rxY7jPydNrNLKMUt3nMBic4cyAbUc6E&continue to session
16:39:59.795 | DEBUG | DefaultRedirectStrategy: Redirecting to https://auth.bookommerce.com:8282/page/login
16:39:59.798 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:39:59.798 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:39:59.803 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:39:59.804 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:39:59.826 | DEBUG | FilterChainProxy: Securing GET /page/login
16:39:59.827 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:39:59.827 | DEBUG | FilterChainProxy: Secured GET /page/login
16:40:00.009 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:40:00.021 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:40:00.028 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297200009], value class [java.lang.Long], SQL type unknown
16:40:00.043 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:40:06.546 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
16:40:06.548 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:40:06.549 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
16:40:06.626 | DEBUG | DaoAuthenticationProvider: Authenticated user
16:40:06.627 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@56a97b4c]
16:40:06.629 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:40:06.629 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
16:40:06.631 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:40:06.631 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
16:40:07.687 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=a7IVFH6X8lYPLpypwYn_uLHEBJ6TzoEeHaifrCT5kQA%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=ATmGn0BH0ufbPyfQKaQqA98sXcms80ydQ4cJPZSxK8g
16:40:07.693 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:40:07.694 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:40:07.698 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
16:40:07.730 | DEBUG | SessionRegistryImpl: Registering session d875be0b-9846-489f-9eb4-2f3dfac9deac, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
16:40:07.732 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=KH14a16U-nF0AS4C6LXW3TC2XvX-1yIXrRMCq9cqkp5t-J4RN8_yTYoTjFuYPbDz5lqNIdAingLLYJ1_0cAk5AFjMnPlUZJEsKgAvtpBSfRE3umZ-e0P_8lHOuGeOopJ&state=a7IVFH6X8lYPLpypwYn_uLHEBJ6TzoEeHaifrCT5kQA%3D
16:40:07.733 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:40:07.733 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:40:07.745 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:40:07.746 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:40:07.790 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:40:08.143 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NzIwOCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTcyMzgsImlhdCI6MTc2ODI5NzIwOCwianRpIjoiYTA0NzU1MTktMTJiNS00OWI1LTljMjgtYmU1NTNlZjI3YTA1IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.Laf8uiY54wKqOEmdWfFKnP_6JCLtHC-1wde41UgBimeZGIMxtUg322OIJhgPzZr7p3d_Xc3o4NYK1eQV1stJz10kmGyr698GjkXkCv8FNeHgEaY2XcS1ODmXjbyiqHX33I88gEHnTyHIWr12k15LrKW1KLKCzYTE3NyIht7IfmdsBh3Fln1LeRWLRbejUo53SYshOVxglbIuitbbVs3_I8guIvY3JE3-Sv21dRzVpSyYdTAE1sYV_-Sz2_TiG-UD-20tV9p85bxdUl__spQLBHsPVxlobDtVwal8Dv9Jsn1DZbs_zv7LCQisCaZrn7eV_97En9Eb8oTGuE78Sg7yeg
16:40:08.144 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NzIwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk5MDA4LCJpYXQiOjE3NjgyOTcyMDgsIm5vbmNlIjoiQVRtR24wQkgwdWZiUHlmUUthUXFBOThzWGNtczgweWRRNGNKUFpTeEs4ZyIsImp0aSI6IjRmMjk1MjQ5LWMxZjItNDBiOS04OWViLTFlZWE1MTZhMjJmOCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiZXE2b0IwVTdDLXk5ZGQyUlBmU0JXejFpTkwyUmx2b1AtakJzNVFhUzZhcyJ9.efUQMU4Mko6GGnEjQ3zv5ahM2pyBFWEWdw_iai0-I3iwh8khb1AP645NfAXO4B8zKD3asBpxEfB-EQW0IWyx1-8-iSSvIUIbrG_KYS9MLydqrZHjo17ZRif9VridFxNuBJMrHiNys6JH34fDacLkUcGNNGJIJI-Pilkb6Rk5JoV05RkUSBN5HVz1rkZonKvZ0k6MprTxqautBKHGNcFK8sgnmBxLM4V1olALQ9MgkegwCv13JRTtl5yqoqWoxJh571J-4ng1ED_TCvjjGEzgpmV7ntRaR0fjE3LcOwAzag6lyy0rZakcM914eRKg7g0yBQ3rMRLcya-JUQ-uiKqkHg
16:40:08.145 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: BV1kkd3sML4YFYYjcDFViAdhHmGfQjz2RjDOMwqRdDnbA1Jm2UEh_bzWeW5j-zhw0KsbK-9sCFOY-Y8q6efNjRBuug8DLFdtFZ6HHAQne3gTa0YhogpvOm7Lw0eY5yW9
16:40:08.152 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
16:40:08.161 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:40:08.162 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:40:08.163 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@85a266f6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:40:27.116 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=Ea3SpU6VbTMogJ0KKGr1vbE11k4a0k4Gn-YfW3pkfho%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=iPHjjBmbD0t2wl73xF8TLGEfteClAWCijAW-PTSEF68
16:40:27.120 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:40:27.123 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:40:27.132 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
16:40:27.164 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=AYzHYGJLtA0eNsHkg3LPICydsTRE17w5Bq5aoxL7JMaWXBlcln6MBtkldnsXpyB9Wtoq11DzDNsCL_iY6lX7-DRmh_sjhbPlbvHg9KYxyEqma_44Cr-yKA-TXH-D-oXK&state=Ea3SpU6VbTMogJ0KKGr1vbE11k4a0k4Gn-YfW3pkfho%3D
16:40:27.166 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:40:27.166 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
16:40:27.179 | DEBUG | JdbcTemplate: Executing prepared SQL query
16:40:27.179 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
16:40:27.213 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:40:27.531 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NzIyNywic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTcyNTcsImlhdCI6MTc2ODI5NzIyNywianRpIjoiOWEwOWE2ZjEtMjhkNC00ODE1LWJiNTItZjcxOTIyYjZkYTI0IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.TgvvjVGKrTrTUXzs4g1QaYeXwo_-jvFUXfvn2oXToKOgZEeIcznXAE_PhxUR0O2dT4_HMVGK9Ya4Ya4RYGfxNDvDm06d9Yx2d2Moli2uQz7JUN_od1eCmuMy8frWg6ape5-cnpdjKkOYmLeNg8awSo3XH0pEHhgogF5wRDVHN_r0zvP_MLzOVmkCC_wueGpFRMqRzVKv-hSvvNkLqKE8UO9jA9c2aWpW2yO99TGvXN5iMk8b7f6ZIbzTuM7XimcFzCRC8BfkePL1Uoc70UAcMKLhb-nk2tGAiV7l2ua0wzivXG-Lwkz6usw893bH3rYTp4TJ3FH_yxpqkGQd4qZFOQ
16:40:27.532 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NzIwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk5MDI3LCJpYXQiOjE3NjgyOTcyMjcsIm5vbmNlIjoiaVBIampCbWJEMHQyd2w3M3hGOFRMR0VmdGVDbEFXQ2lqQVctUFRTRUY2OCIsImp0aSI6ImMxODM5NzU4LTBkZjctNGE2YS04ODc3LTVjNTMwOTZhODY0NiIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiZXE2b0IwVTdDLXk5ZGQyUlBmU0JXejFpTkwyUmx2b1AtakJzNVFhUzZhcyJ9.TPwSjHO5HdRjqs2ybpMQMdS3tuDeikRuEI3yMoAaZCZoyIPdJLVAat5SAVL6nI20kmBbEKu8abYaWl6VAiLe-BeaFSYOpxJsrKqKbMwER_WRsrG6Cf3Pj_b-d-qMiidS_FjDBrfC6pQl8gKtdYPiwN2ahIHLvfrxlaUQh-oHZKYpbWuphGfmlUoK9hZ_WiqsCFd84wwhbVHe-qavku8_33rsNuwEJYkFE7s5wxh0T8iOtdQKR7MttL_sxli2XByeGcvXGioJw7VhILi5oMqWE_D1f4HfNTbPcFfp5immiDzOl_OomQ8Z5OA072FQMAy7WpdeXSNORlK1PTN0nyWyzA
16:40:27.532 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: mFuYTlCSrd1sGO_FQLFT2IK0CAPM9EVzUBGkBwqfJdTrJRs353gE2v2hzFAfvJx_-z2OAZWkXU0cZZw8oi1-UNReIxy578b_teFAVm7LGx2u1qnz08T4whsIXR2Oaz84
16:40:27.538 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:40:27.541 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:40:27.542 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b0ce95ea, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:41:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:41:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:41:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297260012], value class [java.lang.Long], SQL type unknown
16:41:00.024 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 2 expired sessions
16:42:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:42:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:42:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297320012], value class [java.lang.Long], SQL type unknown
16:42:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:43:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:43:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:43:00.020 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297380013], value class [java.lang.Long], SQL type unknown
16:43:00.028 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:43:16.038 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
16:43:16.416 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5NzM5Niwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTc0MjYsImlhdCI6MTc2ODI5NzM5NiwianRpIjoiNzMyZjc1OTEtZDMzOC00NDZhLTg2ODItZTFiMDM5NmIyYTNiIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.ZyRCYpMzZUqqUm6DV0AJrMOfV4Oey3ZHIiXQq6VCUpJkyFtgWSt7kP1xNhTUzrQQJ1P8HxWdynqVAuLI9t8dgPjChvzIpZdoxoreHPxI7tuDfXo7Fxo7bqQg_cOYzkObIvZPwVponjyoxxA_FpU5e0C7XaAx9g5qt4qh_B9vALIW994ZY5sfxffGRUMXT6mjdxweioaywDfeJ4Rsw5fABhDplFG0uU5ZfJATv4x3kDuJjsiA48VJ9itRbkHjA0W4WyPaVxfXQDyH5QRvKfB8ixsdJnjLb50y5d_1_05sRqctO8bl4rfE8lJ5ggkYKVIf8Zl3BTfCm9CmV-0VViQ3sg
16:43:16.418 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5NzIwNywiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4Mjk5MTk2LCJpYXQiOjE3NjgyOTczOTYsImp0aSI6IjVjNzhkNmFlLTg3NzItNGZlMC04ZDcwLWQ1MmE1MWVmZjM1ZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiZXE2b0IwVTdDLXk5ZGQyUlBmU0JXejFpTkwyUmx2b1AtakJzNVFhUzZhcyJ9.obM8Fm6LRDZw2UWtYR82W4464KVWnwCdM-euB78Mh7-SWyYpqgIUIV507P7yzDlEkgiUeUvmEuqm8o6WD8ynm7Ct1o2Y6ZWl8US9rwc9eHy9pcR_2CC9pWeaWoP6toEV0dzTD2bL8GSVf-LWrk6orY_MERrkC6m2jzC6WeWISEPYVrhC4VamWWjpDQ-NmMaXRXzzn_dYCwa_NhBxGWXB5Yq2kPrOwwnhjAXCvw-5tc2D9yoCWg9718FL26Yxt-Z83NDEgjNmaoD3gJ94tBBzEOh5EwVmgELGQigAaMp9_jm-sYTz7LmZooNFhmJxPmHnxS5TcJtJY34XHgi231f-cA
16:43:16.418 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: SaZgXGYLdrndz9imuybvZrL4SsLll8HYZdJlXJrBKrWWB5qYwyrv4923M2urYTIGvUufz0-VWp7vPi5TKiUg_8c--YaVhiuwyzarjn_73fC6s7JawHHfSnjEkTuLx1Y8
16:43:16.485 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
16:43:16.507 | DEBUG | FilterChainProxy: Securing GET /userinfo
16:43:16.518 | DEBUG | JwtAuthenticationProvider: Authenticated token
16:43:16.520 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@35c1e1ff, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
16:43:16.685 | DEBUG | FilterChainProxy: Securing POST /oauth2/introspect
16:43:28.944 | DEBUG | FilterChainProxy: Securing GET /page/login
16:43:28.949 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
16:43:28.951 | DEBUG | FilterChainProxy: Secured GET /page/login
16:44:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:44:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:44:00.018 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297440017], value class [java.lang.Long], SQL type unknown
16:44:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:45:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:45:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:45:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297500006], value class [java.lang.Long], SQL type unknown
16:45:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:46:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:46:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:46:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297560003], value class [java.lang.Long], SQL type unknown
16:46:00.008 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:47:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:47:00.014 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:47:00.015 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297620013], value class [java.lang.Long], SQL type unknown
16:47:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:48:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:48:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:48:00.004 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297680003], value class [java.lang.Long], SQL type unknown
16:48:00.008 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:49:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:49:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:49:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297740013], value class [java.lang.Long], SQL type unknown
16:49:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:50:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:50:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:50:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297800005], value class [java.lang.Long], SQL type unknown
16:50:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:51:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:51:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:51:00.006 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297860005], value class [java.lang.Long], SQL type unknown
16:51:00.009 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:52:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:52:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:52:00.007 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297920007], value class [java.lang.Long], SQL type unknown
16:52:00.010 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:53:00.003 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:53:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:53:00.011 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768297980003], value class [java.lang.Long], SQL type unknown
16:53:00.015 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:54:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:54:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:54:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298040010], value class [java.lang.Long], SQL type unknown
16:54:00.016 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:55:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:55:00.012 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:55:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298100012], value class [java.lang.Long], SQL type unknown
16:55:00.023 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:56:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:56:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:56:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298160016], value class [java.lang.Long], SQL type unknown
16:56:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:57:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:57:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:57:00.018 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298220016], value class [java.lang.Long], SQL type unknown
16:57:00.021 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:58:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:58:00.007 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:58:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298280006], value class [java.lang.Long], SQL type unknown
16:58:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
16:59:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
16:59:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
16:59:00.015 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298340013], value class [java.lang.Long], SQL type unknown
16:59:00.019 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:00:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:00:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:00:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298400016], value class [java.lang.Long], SQL type unknown
17:00:00.022 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:01:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:01:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:01:00.016 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298460015], value class [java.lang.Long], SQL type unknown
17:01:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:02:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:02:00.018 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:02:00.019 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298520017], value class [java.lang.Long], SQL type unknown
17:02:00.023 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:03:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:03:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:03:00.014 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298580011], value class [java.lang.Long], SQL type unknown
17:03:00.017 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:03:58.778 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
17:03:58.798 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:03:58.804 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
17:03:59.048 | DEBUG | DaoAuthenticationProvider: Authenticated user
17:03:59.055 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@67906570]
17:03:59.080 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:03:59.081 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
17:03:59.090 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:03:59.090 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
17:04:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:04:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:04:00.006 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298640006], value class [java.lang.Long], SQL type unknown
17:04:00.008 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:04:00.473 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=CfUHdo_akkg8ZO5sR3vYJ_3X5wDL8dsOzfBj7laugBw%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=dbKxtCKLWU9iXPN1x-ksUkMbobVVVLQnfnrieF2_Gbs
17:04:00.481 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:04:00.481 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:04:00.521 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
17:04:00.646 | DEBUG | SessionRegistryImpl: Registering session 23bd2de9-5850-4595-ae9b-8e91f741a20c, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
17:04:00.651 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=g9EkkFr48J8axGJ1Y9J7flW7zioa2jWxfGvCv2jN3YyZYqGeL60BIPMCnKvknN5G_wPqDcE_nmrdRggtool4ID-girfFl1mYmcCuaxEKsjlQZQ00IGFGwKI_95w-cZJH&state=CfUHdo_akkg8ZO5sR3vYJ_3X5wDL8dsOzfBj7laugBw%3D
17:04:00.652 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:04:00.653 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
17:04:00.666 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:04:00.667 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:04:00.844 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
17:04:01.324 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5ODY0MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTg2NzEsImlhdCI6MTc2ODI5ODY0MSwianRpIjoiYWM5YzMwMTItYzkwZS00MzYzLTgwOGYtZTM1NTZjMDZkNTdkIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.HAxQ7Tm5bf66reD-c6rTwF7BZTC2aIWXDOdprhbKxQchFctZnFWshRabfLKZ-ZVm-Va35QGQKZPbXf7LwRTYdv61cPNcEgLUjYFJJpX9YeVFxn1hJGGs81-lMtFgyTxjGhLzqlwccaFOV2in7JVeCV4_7GjW7nc60GaCXl_PkAzwvEzif2iwK3loATicg-WaGeAPt1RD01TEPPM_-uko2LWZ7v2r6weGh_aKchZP4qDuc03g8cGlO4gd2MciMAETxIEFNYHr6awax4eqxele7WjDCJUX6U2Gz6_tmBemDGic9BQQEVBTQiaozXgrT3gfs73nrx4HmFCfMNFTRlVXCA
17:04:01.326 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5ODY0MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzAwNDQxLCJpYXQiOjE3NjgyOTg2NDEsIm5vbmNlIjoiZGJLeHRDS0xXVTlpWFBOMXgta3NVa01ib2JWVlZMUW5mbnJpZUYyX0dicyIsImp0aSI6ImRmOTdiNjk0LTdjMjEtNGFkMS1hNTAyLTY0NmJjMzhiMmM4NSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiZzJ6SldfbkVMckM2c3FHOWs1Q2FaQjFfbUV3M0ZYb3VJV0FRRHBXRmEycyJ9.CBHZxx7eQpvg4p84gbmitbsGBOift7pNDBLrm1RPl9uG34DnpGeTbsRyKijrLF9r3jqsuXbD19DB3eEH9m7nV0gl2Xuwdxy9yGGZa3Ekog1jCcqAKngNdIoQNxL43lVwHqWbIDA9mHMg-l-fowLXunT6W_1SfRzDmbM3hDtPJ27L-TVe1WKdyaIVciHyU62eRoPcUCf23eo8it7av8HZEf7Z4DXOt4Rb0mwXVLtt0Ntpk1AgdspJv37_-vlw1pmd-X8xsjFcptGsO8cApeHKGsbe61b0R5lctGa0Ml3AEo4-ILIaAYLbNEBlYYIIadYoo2LtAB2PYU9sBEzhoc1XhQ
17:04:01.326 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: VqWz4KOopFOd7-6OcoJaVprop9336-r_ZPad9rxsp6R2mNET1_G6AHSaUMf8AHydEPmqCKa0J6ME0XcLulIhDdZsH6nSMDnIlxvHF6T3o0pFWgJcPt7HTfVocPhVBWGN
17:04:01.400 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
17:04:01.417 | DEBUG | FilterChainProxy: Securing GET /userinfo
17:04:01.423 | DEBUG | JwtAuthenticationProvider: Authenticated token
17:04:01.424 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d236e308, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
17:04:15.556 | DEBUG | FilterChainProxy: Securing GET /page/login
17:04:15.557 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:04:15.557 | DEBUG | FilterChainProxy: Secured GET /page/login
17:05:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:05:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:05:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298700016], value class [java.lang.Long], SQL type unknown
17:05:00.031 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
17:05:17.942 | DEBUG | FilterChainProxy: Securing GET /page/login?session_expired
17:05:17.974 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:05:17.979 | DEBUG | FilterChainProxy: Secured GET /page/login?session_expired
17:06:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:06:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:06:00.015 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298760015], value class [java.lang.Long], SQL type unknown
17:06:00.024 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:06:18.086 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
17:06:18.087 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:06:18.088 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
17:06:18.163 | DEBUG | DaoAuthenticationProvider: Authenticated user
17:06:18.163 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@30ac8542]
17:06:18.165 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:06:18.165 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
17:06:18.167 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:06:18.167 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
17:06:19.232 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=ouAN_lyeL8OfvWjheBuj60zAEvFc4MDDwkHK2Tsu5b4%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=HlsgjeJ4Gc6ioH8euJ__qFIEqwVDZQmwi8c21XZDf00
17:06:19.240 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:06:19.241 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:06:19.245 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
17:06:19.281 | DEBUG | SessionRegistryImpl: Registering session 8f3287d6-d90c-4218-83bc-21429237ad9a, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
17:06:19.283 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=VBpYmDGSv46FjdfGmWEgTV-vMVxlsDQqId0UFqjRjJy6ciivN4r0Z4WyNofAsq6HiTa5i5EIWpzOio76yZJHJySQIY8RGKsdHPJLCOsMAbBCJX83bd6HmuRCzSfP6Pxw&state=ouAN_lyeL8OfvWjheBuj60zAEvFc4MDDwkHK2Tsu5b4%3D
17:06:19.286 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:06:19.287 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
17:06:19.296 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:06:19.296 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:06:19.324 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
17:06:19.657 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5ODc3OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTg4MDksImlhdCI6MTc2ODI5ODc3OSwianRpIjoiNTIxZWU2YzItYTBjNy00MTlmLWEwODAtZThhYzZiYzI1MjFjIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.HUf8VaFPbjXw58MiNAJcpsSoWqvIROMPQ81pa3mzu1rokn1oqqatDhcGWDFE7jLLQmZsdsvf4AT5i8kMk9jjqUwtQkcVsAJpgOeAoLqWCtvHu5lvpW3084MbjhC8n91fPH1gpL7I7gfFkS3TxngG31FV8lctnMVWl_MYfo4-Wp37ymz1CYHsBdmcxj8Z3uwLImzWP9B9v1-d9WFUklY65cYvF2ZZZtXE60XlG2pOpHgpa5phFgOBOF_Ev8ZQm76NBgC4MFXnZsFLnNpjwASBRTksFAtfJrfyJJAHXzHIJNd2cdd-nwjlX0QHme541ADFvNkgZSfJ7851bcgrueQjUg
17:06:19.657 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5ODc3OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzAwNTc5LCJpYXQiOjE3NjgyOTg3NzksIm5vbmNlIjoiSGxzZ2plSjRHYzZpb0g4ZXVKX19xRklFcXdWRFpRbXdpOGMyMVhaRGYwMCIsImp0aSI6IjVkMjcxYjAyLTU0ZjgtNDBlOC05NjE3LTE0Yjk1YzFjYzg4ZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiVXd4Sy13Z1dRRGpmVnlhOHZUVzlVWkxxaWZTN2xPUkhtbWd5R29SN1NWayJ9.EVcLVcJkYXm7B-C3_KTuXymDsLM6Hc-G3EO_zcXeupv1tRGYWSLuJ5WMGjxCySQ4GajoUJ0N-eqXE7ONzidWd4uwmuC1R0NilZS9J2AyilN1CQokdItXnaEnEIOv1w59HGHhJ1LuqrTeVKrAB_yN2tVwIqDBXIjylWLnwQmXJ-_iLld8nsvcF00cAgau6R_I4hoZw2cPRGNrFf-T6ImtcEQb1-4mkVrqEsGmj933j1X8BEOuRMVTDxZJ258ASeJVrt75ut0z_nYugm1IB74LrUZEBCB33c1peY7afeOwnSEtTz6MwZ96qnKIDxY1U_dUr7iJFAnKEVh_mOoKnyRo2A
17:06:19.658 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 93EjmrwPZki_AUeNZ6lI8jhKWJSX-oIb6beCpGzUaHwN8uW2qO2c-eIHBJAU5beUxsJ4cbqtGxh9gKlx6a2QvHsNaWeTXCLRjFjRRcBo63pcM70gLfO4jVewVit-ND6h
17:06:19.668 | DEBUG | FilterChainProxy: Securing GET /userinfo
17:06:19.672 | DEBUG | JwtAuthenticationProvider: Authenticated token
17:06:19.673 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a967b198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
17:06:39.719 | DEBUG | FilterChainProxy: Securing GET /page/login
17:06:39.721 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:06:39.721 | DEBUG | FilterChainProxy: Secured GET /page/login
17:07:00.004 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:07:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:07:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298820004], value class [java.lang.Long], SQL type unknown
17:07:00.014 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
17:08:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:08:00.016 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:08:00.017 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298880015], value class [java.lang.Long], SQL type unknown
17:08:00.024 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:08:09.610 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
17:08:09.624 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:08:09.625 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
17:08:09.700 | DEBUG | DaoAuthenticationProvider: Authenticated user
17:08:09.701 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@65dbeebf]
17:08:09.702 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:08:09.703 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
17:08:09.704 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:08:09.704 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
17:08:10.772 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=2IHtysaS8F6xl9052sZszZM-lhehO6J2k-YBPPbmMSg%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=4JI0_fmYGpKOsSsZt0l4ESjh6_ph0jFIPyJJHAZWp0Q
17:08:10.774 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:08:10.774 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:08:10.777 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
17:08:10.808 | DEBUG | SessionRegistryImpl: Registering session c999350f-78e5-462c-bfe2-b9cb36c6ef24, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
17:08:10.809 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=BL8ie9H4GffVR3aqPeebT4mVbAIHKyt8wJpoQlxEWni_GW0M3yZk3yFeaF9fL6DCykRa22RMTlQdY9D6GG5LCq63ov_jjVVvynFbUlSs7dp1BauOm_HprlpRzEKyJkGJ&state=2IHtysaS8F6xl9052sZszZM-lhehO6J2k-YBPPbmMSg%3D
17:08:10.809 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:08:10.810 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
17:08:10.821 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:08:10.822 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:08:10.853 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
17:08:11.152 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5ODg5MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTg5MjEsImlhdCI6MTc2ODI5ODg5MSwianRpIjoiMWFiYzI1ODQtNWU3ZS00ZjExLWFmNjItNmY1NzQ3MDFkNDE5IiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.NJMhhrwk4l0KJGfqMUwjEEkbRZlByR7kAVVB_MgZTPeJ1HjNbzHDpd0IdqE4VjyjZT9YrMg4daQdGwBqeA3Ed7BsE-JlG08b2KZ6gf25W5_1jMJhZg74yGZKCddhBW3McKGLJwtoVf0Fp2MW7HUOOswOoC0aMcJbHpeQacg-h7USiI6znm72J_V1neGU5AM5sN5uCHAoiHz3fHjfDla25Ami5hyerTYEFu5xwUsNUfnvhEiglXvLqbVL80xFbwdSIBLZwwAycxLe7estlGvzcT3_hx0VbETuD2uIb_goS7u3B4h-CgVuhUFm7gjo7Eamllsm9UKlrDqiJNAH0SdkrQ
17:08:11.153 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5ODg5MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzAwNjkxLCJpYXQiOjE3NjgyOTg4OTEsIm5vbmNlIjoiNEpJMF9mbVlHcEtPc1NzWnQwbDRFU2poNl9waDBqRklQeUpKSEFaV3AwUSIsImp0aSI6IjRjNTM2MjgzLTQ3NDgtNGFlYy1iMDdkLTI0ODQyMGY4N2IwZSIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiWE1JUzA2X0JMd1BmLU9TNjM1WmNKRlc3Z3h0dkU1M0VFdS1HRTFuWXU1YyJ9.gJ1v29ZxL_TBjjj2V22UK1wLl-pmug7sJwzEGE-A76BTTan8X8YB_KHzz6Lj9sqcpZv0BHpYEHY_vB1pCuFMukrtYuqaBIZibAryfHOghK4jyGhe5FCIGBT-Yx8D1rhzCx9ThJ0dwpKbgfETD7yQ3lnEvhZQ_MT2s1jSiDjpN2fnXlXA1nHMCXPcQHq5MF2BN9S632R9dY6TqBx8qTjanqEwYvW8WaJLrpn9lvk9FHUmfdYyWo9sCdQZhOT6c3S3VmFKqilMUV1gM1sAd0C7wN4MS11Jsb65yK-zcw0Ezp9Gopubaq8MHNa7XK3W5ETbp3JGguY88vZ-ZtA9RhUgyA
17:08:11.153 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: HiIYqIIDi8V9nT1NHshFTA6091xyqpoBLuJ2kb-VPcICAI1986ba0i-1ieUpOsXI-cdfrGJ3zkL2YpYtpYgGo8Z4N58QdXxjTC3Lj9OW2XMiHvapMkKvlT7qxXXVppE5
17:08:11.158 | DEBUG | FilterChainProxy: Securing GET /userinfo
17:08:11.163 | DEBUG | JwtAuthenticationProvider: Authenticated token
17:08:11.163 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@82974dcf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
17:08:23.952 | DEBUG | FilterChainProxy: Securing GET /page/login
17:08:23.956 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:08:23.957 | DEBUG | FilterChainProxy: Secured GET /page/login
17:09:00.010 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:09:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:09:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768298940010], value class [java.lang.Long], SQL type unknown
17:09:00.024 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
17:10:00.005 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:10:00.006 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:10:00.008 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768299000005], value class [java.lang.Long], SQL type unknown
17:10:00.011 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:10:46.942 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
17:10:46.942 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:10:46.943 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
17:10:47.018 | DEBUG | DaoAuthenticationProvider: Authenticated user
17:10:47.019 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@3e9d0bf4]
17:10:47.021 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:10:47.021 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
17:10:47.025 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:10:47.025 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
17:10:48.090 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=TxOImoMeusfe4qArQUt_ZhPRVjyquBXwFzYQNm7x0YM%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=ZKNra7zWOkkb3SSLQu8rXui1DlAoNJv-L6xUAcE1keQ
17:10:48.092 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:10:48.092 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:10:48.095 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
17:10:48.133 | DEBUG | SessionRegistryImpl: Registering session a431c26c-4c61-4683-84ba-9cefea8cde7b, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
17:10:48.134 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=z0BoMnnKhZ9-IGxnUfSmBcupp0uQjB06e9y4xoYUVJtCFDvsg8l773MWjJDcStDXuscN3rwDE48pM6gUn3ENdY8aE6ZpF5shmecBfuIRRIjTnLjAso9cN2GG50u_k0N6&state=TxOImoMeusfe4qArQUt_ZhPRVjyquBXwFzYQNm7x0YM%3D
17:10:48.136 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:10:48.136 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
17:10:48.146 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:10:48.146 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:10:48.179 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
17:10:48.605 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5OTA0OCwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTkwNzgsImlhdCI6MTc2ODI5OTA0OCwianRpIjoiNzY2NThhOGItMTcwOS00NzY4LWJiODUtMTc5ODJkZDdiOTcxIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.PxNTmeTz1xyWBQo0lfIineDP706dP1cGEFwKmHmzU3dWwhD-ZSAGCQoPiALyZC3a4XaIlaxh9sYqEKheC_izNh7xKcEvc-CF11tk883di5rrj3I7z46YC-b6WOqRvTesYbjjN6YSwSJGTCszIseIlV2OAeAam19lBRBSr3Ybf01oG8yrS-zlHuUn3n0wPNe9T09Hvqx8JxMd8Fivmcmlzmsb7VLkfN0_l6XQDgZ5Z0x9z5ms6aLzH0rl-FoyjexPjbJ1pP1QaFrGpF10IvfkijV17KJLSdjPWufZYR07AvijvkQcSIWypsl-UH9ujWl3L4SIQhmxUbWxivoLe7IPKw
17:10:48.605 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5OTA0OCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzAwODQ4LCJpYXQiOjE3NjgyOTkwNDgsIm5vbmNlIjoiWktOcmE3eldPa2tiM1NTTFF1OHJYdWkxRGxBb05Kdi1MNnhVQWNFMWtlUSIsImp0aSI6ImQ4NjMwNTRjLTk3MTgtNGFhZS04NGQ5LTQyNWUyODg0YzUzMyIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiMEw5TTh1ZVdSbjY5eHVnVHJ6bmpGUWN0RlZraVRGclhPNnRycm91VkgxNCJ9.lhmHpc2P1eBwYqjBBOyiGIBJZkAcqq6J7TDuGyB-Wt4TsmHQYkRE-7p6trEpg6pMQUhoX2JZ57Jc4YbLuPu4CAYNDoHeg6omOee4E_n-UWnnUV-UoKk6xaPzAACnvOKVT4mIwHUjou_1IXJ4RtjB_P3onHjxTqc6_uPxw2h7nVKja6YC2TiQI_CE79FuB-egmjeY62Ah_rse9D0O0bB4jq9N5J_Wbd-yYJbzjZDm-5jqK24-B65UwMlhF0lbOcSzMQWvGRGgWMAFBvv4N9_N7s0_haLXY80cnM1H7JBkod3lDVjo08iFf2j6Hq0ffpRoIQ8aTPrWngpLsI2XxMJh6Q
17:10:48.605 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 6xSpUh88nErOfqHXyHdVDXhnfyO9U0TVhZG-6nii6tIBocxgl4Aglt7lV0mNBhMx3T9JGQSb4PQ34VpP3zbrMvHYBNXNVtLsdAVv79fWBJXHegPaUv4oYwDJ6Kkp2klT
17:10:48.616 | DEBUG | FilterChainProxy: Securing GET /oauth2/jwks
17:10:48.620 | DEBUG | FilterChainProxy: Securing GET /userinfo
17:10:48.622 | DEBUG | JwtAuthenticationProvider: Authenticated token
17:10:48.623 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5c2cec1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
17:11:00.001 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:11:00.001 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:11:00.005 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768299060001], value class [java.lang.Long], SQL type unknown
17:11:00.008 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:11:03.099 | DEBUG | FilterChainProxy: Securing GET /page/login
17:11:03.102 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:11:03.106 | DEBUG | FilterChainProxy: Secured GET /page/login
17:12:00.015 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:12:00.017 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:12:00.018 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768299120015], value class [java.lang.Long], SQL type unknown
17:12:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
17:12:58.964 | DEBUG | FilterChainProxy: Securing POST /api/login/customer
17:12:58.971 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:12:58.972 | DEBUG | FilterChainProxy: Secured POST /api/login/customer
17:12:59.184 | DEBUG | DaoAuthenticationProvider: Authenticated user
17:12:59.187 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@1c3e62ba]
17:12:59.204 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:12:59.204 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
17:12:59.217 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:12:59.217 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
17:13:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:13:00.011 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:13:00.013 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768299180011], value class [java.lang.Long], SQL type unknown
17:13:00.026 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:13:00.491 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=DuFFA4nGcaQLAn3Fwu2caTZ3pzHDnU46_GJOSfUHATY%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=6_YfQRD_Xad7eRfNS-QOvPrxNhGXKafCAuTJ7T3iVf8
17:13:00.499 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:13:00.499 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:13:00.513 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_CUSTOMER]]]
17:13:00.610 | DEBUG | SessionRegistryImpl: Registering session f1263787-8aa3-4519-984e-9d99563792fc, for principal org.springframework.security.core.userdetails.User [Username=nguyenvietanh.personal@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_CUSTOMER]]
17:13:00.613 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=ovqAxEJbwlTO1TqBjxxSwCf1R6JiyvsEVfAoShrWdxLCagzoBgXLPdcZRT-31kTSeIAAovrm_apuIFFBoqL8nQXjznPkjG0K-7owYj1uGLQE4paUM25mCl9jmV2F-Cwf&state=DuFFA4nGcaQLAn3Fwu2caTZ3pzHDnU46_GJOSfUHATY%3D
17:13:00.614 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:13:00.614 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
17:13:00.626 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:13:00.627 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:13:00.702 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
17:13:01.111 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5OTE4MSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTkyMTEsImlhdCI6MTc2ODI5OTE4MSwianRpIjoiZGRkMzY0ZjItMDE2YS00N2NhLTkxYjQtODg4YzQ1MGJkOGFmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9DVVNUT01FUiJdfQ.lvp_0t7XoUWqS0TTzqNnTo10EIxG-XYPmKM7fm5J7Hu0DbCvKc9tmlwxWsWLupbBuG7zVwingDv8auNyKd20kCSMkFGwXGoZZ3e35ARMgsM-CUqrPf7tff2h0ONsSteD9sBBR7MmGEoUQrhSFFGx-yXUZUYCoQZTbp31M7_XwPFEvVxy5CMXnfdaV1K_JBuMCjc9Zq0TrwlKWjYgl5CF7qzhD6qeRBVKjpzOnbh5x_UXsC8-XUovmmn19D6YKynj6VotHZDOsSP79vOwepXUidlT9jrkQA7yzDw4a4Wf7OZ7lQrpbpag7OVOQkT6E52C9UPkBRX7ceGB08CkLLUz5w
17:13:01.112 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJuZ3V5ZW52aWV0YW5oLnBlcnNvbmFsQGdtYWlsLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5OTE4MCwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzAwOTgxLCJpYXQiOjE3NjgyOTkxODEsIm5vbmNlIjoiNl9ZZlFSRF9YYWQ3ZVJmTlMtUU92UHJ4TmhHWEthZkNBdVRKN1QzaVZmOCIsImp0aSI6IjAwMDM2NzM4LWQzNWEtNDkxYS05MjJlLWExNDUwNzQzOWY4ZCIsImF1dGhvcml0aWVzIjpbIlJPTEVfQ1VTVE9NRVIiXSwic2lkIjoiOWZtcmRGLUJuY0U1eTF2M3lJTVFReDFGN1RTa0g4b0pySTdQZVVnb25KNCJ9.JZ6WpjFc9qW-yAzdzP-Y6fp1VoEVbIdn9iRwNURIqpQIjwZ2ClMayiSW3oyUcKVx9QaUxJlj2R9AxYzjEFxW9N8Ss0izQVejMPtSiUYoT6Q8wWlCbcIWdSDAJ6mcg42cQLX-UnbqEA07sl_0S9bZWBNktB0LpZfUv7A3drfZznv3kooz92XghsMPm6bzKvSQ5Wcae2P3GcGkv_UUC3VyPm619hEyjYv1qdlvsL5qphia_o2FOda-aN7yXp4XkHOHuRa3V3WKvI9KtLjHwU1zL8wckJOs3CCcVYue-6BSY9Wr05NU8J1Hs2VhRKUW9SHqvnzSqgN86cPfuDthPQfvyA
17:13:01.113 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: 5OzB8U6e2CvelpsNNZGmf3jccH13ep8Rpd3ARoRUgLt3m0Jfyu0W3xV-fVmg4zKb-RliVprsQPXdUKCGIN9xocvSTc7p6epgW-HAbxmCOAxiAPeYNikLWSzCLasMaEW0
17:13:01.145 | DEBUG | FilterChainProxy: Securing GET /userinfo
17:13:01.149 | DEBUG | JwtAuthenticationProvider: Authenticated token
17:13:01.149 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d1f6d1f2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
17:13:08.932 | DEBUG | FilterChainProxy: Securing GET /page/login?session_expired
17:13:08.935 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:13:08.938 | DEBUG | FilterChainProxy: Secured GET /page/login?session_expired
17:14:00.099 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:14:00.105 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:14:00.119 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768299240098], value class [java.lang.Long], SQL type unknown
17:14:00.172 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 1 expired sessions
17:14:44.186 | DEBUG | FilterChainProxy: Securing GET /page/store-login
17:14:44.199 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:14:44.215 | DEBUG | FilterChainProxy: Secured GET /page/store-login
17:14:47.927 | DEBUG | FilterChainProxy: Securing POST /api/login/store
17:14:47.933 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:14:47.934 | DEBUG | FilterChainProxy: Secured POST /api/login/store
17:14:48.110 | DEBUG | DaoAuthenticationProvider: Authenticated user
17:14:48.114 | DEBUG | HttpSessionSecurityContextRepository: Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]] to HttpSession [org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$HttpSessionWrapper@68e85b3d]
17:14:48.128 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:14:48.128 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION (PRIMARY_ID, SESSION_ID, CREATION_TIME, LAST_ACCESS_TIME, MAX_INACTIVE_INTERVAL, EXPIRY_TIME, PRINCIPAL_NAME)
VALUES (?, ?, ?, ?, ?, ?, ?)
]
17:14:48.134 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:14:48.135 | DEBUG | JdbcTemplate: Executing prepared SQL statement [INSERT INTO SPRING_SESSION_ATTRIBUTES (SESSION_PRIMARY_ID, ATTRIBUTE_NAME, ATTRIBUTE_BYTES)
VALUES (?, ?, ?)
]
17:14:49.428 | DEBUG | FilterChainProxy: Securing GET /oauth2/authorize?response_type=code&client_id=bff&scope=openid%20profile&state=ccJOzsQYtinSUu5RBKQ6ll7WIHFxRZMi_oe9yY-ErTs%3D&redirect_uri=https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff&nonce=MPxc6s1EWsFnZ27bPbMUDhvQ1DdrSHUkYABSOmS0GhA
17:14:49.431 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:14:49.431 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:14:49.449 | DEBUG | HttpSessionSecurityContextRepository: Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_PRODUCT_MANAGER]]]
17:14:49.509 | DEBUG | SessionRegistryImpl: Registering session 9095556e-692d-4a95-911e-f3707d221eb7, for principal org.springframework.security.core.userdetails.User [Username=prodman@bookommerce.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_PRODUCT_MANAGER]]
17:14:49.511 | DEBUG | DefaultRedirectStrategy: Redirecting to https://bff.bookommerce.com:8181/protected/login/oauth2/code/bff?code=T89KzAUjeFE-3lQszppSUB1w1fUJb2f39VZ7X4CPdNKSZXqvWJ-thHodT2u-9BdslgSgG35TMH85ol5JvLHEqC7fQalsptBxKRl0rHaLt0yEEOTGTQ_fEyFiHO7y-h1G&state=ccJOzsQYtinSUu5RBKQ6ll7WIHFxRZMi_oe9yY-ErTs%3D
17:14:49.511 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:14:49.511 | DEBUG | JdbcTemplate: Executing prepared SQL statement [UPDATE SPRING_SESSION
SET SESSION_ID = ?, LAST_ACCESS_TIME = ?, MAX_INACTIVE_INTERVAL = ?, EXPIRY_TIME = ?, PRINCIPAL_NAME = ?
WHERE PRIMARY_ID = ?
]
17:14:49.526 | DEBUG | JdbcTemplate: Executing prepared SQL query
17:14:49.526 | DEBUG | JdbcTemplate: Executing prepared SQL statement [SELECT S.PRIMARY_ID, S.SESSION_ID, S.CREATION_TIME, S.LAST_ACCESS_TIME, S.MAX_INACTIVE_INTERVAL, SA.ATTRIBUTE_NAME, SA.ATTRIBUTE_BYTES
FROM SPRING_SESSION S
LEFT JOIN SPRING_SESSION_ATTRIBUTES SA ON S.PRIMARY_ID = SA.SESSION_PRIMARY_ID
WHERE S.SESSION_ID = ?
]
17:14:49.597 | DEBUG | FilterChainProxy: Securing POST /oauth2/token
17:14:49.929 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Access token value: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsIm5iZiI6MTc2ODI5OTI4OSwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSJdLCJpc3MiOiJodHRwczovL2F1dGguYm9va29tbWVyY2UuY29tOjgyODIiLCJleHAiOjE3NjgyOTkzMTksImlhdCI6MTc2ODI5OTI4OSwianRpIjoiNzFhY2E1NWMtYTQ4NS00OGQzLWE4MmItODE0ZmQ5ZjdkZGVmIiwiYXV0aG9yaXRpZXMiOlsiUk9MRV9QUk9EVUNUX01BTkFHRVIiXX0.gGDP8G5fcOnqF9qjozOqS80YQlTDidJdLQjTbzkZBRQHCVSDl79NLrrKa8uX7heBgmbP-gsLiKXhfTGvtE1VENF8o4lRO9zp1G_IMFVd0Xm55vRna1725g8vKVRkBpPv9-ObWpUad5KSdsfIdur4WE-j1F3YuhCP484aaLg0ajDciHBLrQct8hqtW16s3mQJx8SULtIAtfaaSES_RSrxuwdKGvSuGWlgofdSnymXgyA6TSBDzhsaelurfmpUpQvSrq6iLo8i-dnHpRTwO7XCz9dXpnFaY0SzRnJRs8CbSDIbnvOddJwhaTwWiabNHh6kiLlDxmWKl9S5V08nkDR28Q
17:14:49.929 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>> ID Token: eyJraWQiOiJib29rb21tZXJjZS10b2tlbi1rZXkiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJwcm9kbWFuQGJvb2tvbW1lcmNlLmNvbSIsImF1ZCI6ImJmZiIsImF6cCI6ImJmZiIsImF1dGhfdGltZSI6MTc2ODI5OTI4OSwiaXNzIjoiaHR0cHM6Ly9hdXRoLmJvb2tvbW1lcmNlLmNvbTo4MjgyIiwiZXhwIjoxNzY4MzAxMDg5LCJpYXQiOjE3NjgyOTkyODksIm5vbmNlIjoiTVB4YzZzMUVXc0ZuWjI3YlBiTVVEaHZRMURkclNIVWtZQUJTT21TMEdoQSIsImp0aSI6Ijg4ZWQ2YTgxLWFiMzMtNDVhMy05OTY0LTE2MjVlNjhlNjczYiIsImF1dGhvcml0aWVzIjpbIlJPTEVfUFJPRFVDVF9NQU5BR0VSIl0sInNpZCI6InplVWZKejJNQ0VxVkphYmJWQjluQ3NPeE1sV2hNLXNyYndhajJXU2xDZjgifQ.oAZpGllD0iCS4q6cVQYfFGTM1c_0XWpqmv8HssDDoZHMJtAxDBWO-fqVQkdfDN3a718SyRc0Dfft2L1ApfoxaiMUQC2UMqpHNCrqCitltWGGz53kLdiwJBisecF_e55mvA5qez2mWVoYcvHEJt5Pi7bzHJc-qhgFAVNwgmh19KvFcwe9RWbRyg6YupJdZ2ALzsKaFgIBJQuEhwcqjXCRoUIl0jkWQ4ZBMbQAVWdsFC_zBqrpGJk1FXmZBU7sD_to071Pn85aUklQDe1JwZkEkXWJoI1322jHszmTZfXiyeWmH3nspJYcfjKBCVHL8utzI9PgVuNXOKcO6sUE-2fRrA
17:14:49.930 | INFO | CustomOAuth2AuthenticationSuccessHandler: >>>>>>>>>>>>>>>>>>>> Refresh token value: pZoo7mk-uWKMboLLClRf_rkIRB43B1XsGvmUV4VYf90NhYesxXV8Dqq1Lu3IXNAVajy_O3VCFeWuGrFKpFF-zclbeK0pwbrXcQ56JCEug8oesgqvl4YL7yXf6EatwvyJ
17:14:49.960 | DEBUG | FilterChainProxy: Securing GET /userinfo
17:14:49.963 | DEBUG | JwtAuthenticationProvider: Authenticated token
17:14:49.964 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@c23dd233, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_profile]]
17:15:00.013 | DEBUG | JdbcTemplate: Executing prepared SQL update
17:15:00.021 | DEBUG | JdbcTemplate: Executing prepared SQL statement [DELETE FROM SPRING_SESSION
WHERE EXPIRY_TIME < ?
]
17:15:00.022 | TRACE | StatementCreatorUtils: Setting SQL statement parameter value: column index 1, parameter value [1768299300013], value class [java.lang.Long], SQL type unknown
17:15:00.025 | DEBUG | JdbcIndexedSessionRepository: Cleaned up 0 expired sessions
17:15:07.886 | DEBUG | FilterChainProxy: Securing GET /page/store-login?session_expired
17:15:07.891 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
17:15:07.893 | DEBUG | FilterChainProxy: Secured GET /page/store-login?session_expired
