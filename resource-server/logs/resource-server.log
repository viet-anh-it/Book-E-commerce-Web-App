08:22:54.706 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
08:22:54.735 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
08:22:55.213 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
08:22:55.269 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
08:23:02.961 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:23:02.971 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:23:03.876 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 846 ms. Found 7 JPA repository interfaces.
08:23:03.936 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:23:03.958 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
08:23:04.028 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.030 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.031 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.033 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.035 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.042 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.045 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:23:04.046 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
08:23:11.449 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
08:23:11.625 | INFO | StandardService: Starting service [Tomcat]
08:23:11.630 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:23:12.051 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:23:12.053 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 16662 ms
08:23:13.162 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:23:13.934 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
08:23:14.251 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:23:15.884 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:23:16.039 | INFO | HikariDataSource: HikariPool-1 - Starting...
08:23:18.323 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47497f7
08:23:18.330 | INFO | HikariDataSource: HikariPool-1 - Start completed.
08:23:18.440 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:23:18.498 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:23:23.268 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:23:24.029 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:23:27.188 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
08:23:28.795 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
08:23:28.990 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
08:23:32.449 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:23:32.999 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:23:34.270 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
08:23:34.495 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
08:23:34.548 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
08:23:34.611 | INFO | BookommerceApplication: Started BookommerceApplication in 41.98 seconds (process running for 45.282)
08:25:04.766 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
08:25:04.774 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
08:25:04.821 | INFO | DispatcherServlet: Completed initialization in 45 ms
08:25:04.906 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:25:04.906 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:25:04.936 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:04.936 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:04.947 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:25:04.948 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:25:08.389 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:25:08.389 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:25:08.396 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.413 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.419 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:25:08.421 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:25:08.516 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:25:08.522 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.533 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:25:08.577 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:25:08.582 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.598 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:25:08.650 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:25:08.673 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:25:08.673 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:25:08.680 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.688 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.693 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.696 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:25:08.701 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:25:08.702 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:25:08.705 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:25:08.707 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.714 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:25:08.785 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:25:08.802 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.805 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:25:08.806 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:25:08.817 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:25:08.855 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:25:17.611 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:25:19.164 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:25:19.169 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@76c1613a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:25:19.172 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:32:00.327 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:00.322 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:00.334 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:00.334 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:00.338 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:00.339 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:01.091 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:01.095 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:01.102 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.105 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:01.103 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.128 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:01.244 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:01.252 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.260 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:01.276 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:01.282 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.285 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:01.296 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:01.313 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.321 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:01.366 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:01.375 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:01.402 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.468 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.471 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:01.475 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:01.532 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:01.539 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.550 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:01.623 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:01.646 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:01.663 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.676 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:01.678 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:01.680 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:06.152 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:06.152 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:06.154 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.154 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.158 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:06.158 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:06.768 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:06.769 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.770 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:06.771 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:06.773 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.774 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:06.859 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:06.860 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:06.878 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.880 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:06.872 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.873 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:06.882 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:06.884 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.893 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:06.909 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.911 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:06.900 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:06.906 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.923 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:06.908 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:06.951 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:06.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.974 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:06.986 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:06.988 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:06.991 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:06.994 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:07.005 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:07.007 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:28.166 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:28.168 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.170 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:28.193 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:28.204 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.205 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:28.733 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:28.735 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.736 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:28.844 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:28.882 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.900 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:28.905 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:28.908 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.919 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:28.922 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:28.941 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:28.934 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:28.937 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:28.940 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.990 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.010 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:28.954 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.975 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:28.990 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:29.164 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:29.236 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:29.372 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:29.382 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.394 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:29.414 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:29.425 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:29.431 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.437 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:29.447 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:29.461 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:34.248 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:32:35.275 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:32:35.278 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6a51b8fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:32:35.280 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:32:43.756 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:43.763 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:43.775 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:32:43.789 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:32:43.792 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:43.811 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:32:44.308 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:44.310 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.315 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:32:44.319 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:32:44.323 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:32:44.335 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:32:44.339 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:32:44.339 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:32:44.340 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.360 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:32:44.341 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.341 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.351 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.352 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.374 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:32:44.374 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:32:44.390 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:32:44.393 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:32:44.397 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:32:44.441 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.444 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:32:44.467 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:44.476 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.473 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:44.489 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:32:44.492 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.508 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:32:44.573 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:32:44.575 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:32:44.577 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:33:58.871 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:33:58.871 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:33:58.899 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:33:58.899 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:33:58.903 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:33:58.904 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:34:00.048 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:34:00.113 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:34:00.154 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.105 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.204 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:34:00.249 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:34:00.360 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:34:00.412 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.437 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:34:00.455 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:34:00.473 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.557 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:34:00.626 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:34:00.645 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.646 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:34:00.655 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:34:00.707 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.734 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:34:00.739 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:34:00.748 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:34:00.757 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.794 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:34:00.800 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:34:00.813 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.829 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:34:00.851 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.853 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:00.853 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:34:00.867 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:34:00.868 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:34:59.312 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:34:59.317 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.319 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:34:59.327 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:34:59.328 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.330 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:34:59.968 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:34:59.972 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:34:59.975 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:00.024 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:00.033 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.034 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:00.057 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:00.069 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.075 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:00.081 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.076 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:00.101 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:00.110 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:00.139 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.141 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:00.177 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:00.184 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:00.199 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.187 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:00.193 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.213 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:00.200 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.208 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:00.209 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:00.218 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:00.241 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:00.243 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.245 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:00.247 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:00.249 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:04.558 | DEBUG | FilterChainProxy: Securing GET /api/books/45
08:35:04.559 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:04.560 | DEBUG | FilterChainProxy: Secured GET /api/books/45
08:35:05.822 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:05.824 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:05.834 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:18.386 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:18.389 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:18.394 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:18.414 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:18.415 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:18.418 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:19.045 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:19.049 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.049 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:19.067 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.062 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:19.067 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:19.072 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:19.073 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:19.078 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.114 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:19.094 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.097 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:19.105 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:19.125 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:19.129 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.142 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:19.160 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:19.138 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.166 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:19.161 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.191 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:19.195 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:19.211 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:19.213 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.220 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:19.221 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:19.228 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.228 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:19.230 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:19.231 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:28.023 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:35:28.956 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:35:28.958 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@59aeebdf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:35:28.960 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:35:31.729 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:31.731 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:31.731 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.733 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.733 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:31.735 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:31.868 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:31.870 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.870 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:31.905 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:31.906 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.907 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:31.938 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:31.939 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.939 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:31.978 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:31.982 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:31.984 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:32.006 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:32.007 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.007 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:32.033 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:32.034 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.034 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:32.053 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:32.054 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.056 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:32.076 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:32.076 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.077 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:32.105 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:32.107 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.108 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:32.161 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:32.169 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:32.176 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:34.616 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:35:36.060 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:35:36.063 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@541a1b22, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:35:36.064 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:35:44.508 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:44.509 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:44.512 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:44.513 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:44.513 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:44.513 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:45.114 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:45.135 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:45.148 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.152 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.154 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:45.155 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:45.200 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:45.215 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.221 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:45.216 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:45.242 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.235 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:45.253 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:45.254 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:45.265 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.269 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.288 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:45.284 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:45.309 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:45.351 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.354 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:45.341 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:45.382 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.383 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:45.426 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:45.434 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.435 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:45.453 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:45.456 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:45.458 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:47.906 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:35:48.926 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:35:48.927 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2d6b21eb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:35:48.928 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:35:50.738 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:50.749 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:50.749 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:35:50.753 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:35:50.755 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:50.756 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:35:50.863 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:50.865 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:50.865 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:35:51.253 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:35:51.253 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:35:51.259 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.254 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:35:51.263 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.256 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:35:51.257 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:35:51.259 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.261 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:35:51.262 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:35:51.267 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:35:51.267 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.267 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.268 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:35:51.268 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.272 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:35:51.269 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:35:51.270 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:35:51.305 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:51.306 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.306 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:35:51.313 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:51.313 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:51.315 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.316 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:35:51.314 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:35:51.322 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:35:54.239 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:35:54.991 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:35:54.993 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@37aee6c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:35:54.994 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:37:07.003 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:37:08.014 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:37:08.031 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@463fd58b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:37:08.040 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:37:18.304 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:37:19.114 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:37:19.115 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@38599a48, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:37:19.116 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:37:22.095 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:37:22.946 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:37:22.958 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2896ed84, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:37:22.959 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:39:39.802 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:39:44.477 | DEBUG | OpaqueTokenAuthenticationProvider: Failed to authenticate since token was invalid
08:39:44.978 | DEBUG | ProviderManager: Authentication failed with provider OpaqueTokenAuthenticationProvider since Provided token isn't active
08:39:45.155 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:39:48.528 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:39:48.550 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@20aa2990, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:39:48.592 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:40:10.022 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:40:10.023 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:10.031 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:10.032 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:10.032 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:40:10.032 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:12.765 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:40:12.781 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.786 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:40:12.841 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:40:12.852 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:12.856 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:40:12.988 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:40:13.004 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:40:13.020 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.035 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.035 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:40:13.061 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:40:13.061 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:13.191 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.068 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:13.106 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:40:13.186 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.084 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:40:13.277 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:40:13.204 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:13.207 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.218 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:13.276 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.300 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:13.355 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.358 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:40:13.377 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:13.396 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:13.479 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:13.485 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:34.096 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:40:34.908 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:40:34.909 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@535af654, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:40:34.914 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:40:36.940 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:36.941 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:36.944 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:40:36.969 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:40:36.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:36.979 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:40:37.215 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:37.215 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.216 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:40:37.245 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:40:37.247 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.248 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:40:37.270 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:40:37.275 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.275 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:40:37.302 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:40:37.306 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.310 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:40:37.348 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:40:37.349 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.349 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:40:37.385 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:40:37.387 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.389 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:40:37.411 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:40:37.413 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.413 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:40:37.440 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:37.441 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.441 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:40:37.474 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:37.474 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.474 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:40:37.500 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:37.503 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:40:37.504 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:40:40.310 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:40:41.139 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:40:41.141 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@436881c9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:40:41.143 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:40:41.438 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:40:42.393 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:40:42.409 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@547b2f1a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:40:42.414 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:40:44.946 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:40:45.782 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:40:45.784 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@14109c40, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:40:45.787 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:40:46.667 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:40:47.666 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:40:47.667 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4207bb00, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:40:47.667 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:40:52.916 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:40:53.801 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:40:53.808 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@eb3f73e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:40:53.811 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:40:59.906 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:41:01.052 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:41:01.053 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@b31600e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:41:01.054 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:41:03.839 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:41:04.644 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:41:04.647 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@57534e88, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:41:04.649 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:41:12.511 | DEBUG | FilterChainProxy: Securing GET /api/carts
08:41:13.372 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:41:13.374 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6b2d18b4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:41:13.375 | DEBUG | FilterChainProxy: Secured GET /api/carts
08:41:17.049 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:41:17.050 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.050 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:41:17.050 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:41:17.050 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.053 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:41:17.496 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:41:17.499 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.500 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:41:17.497 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:41:17.509 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.516 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:41:17.519 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.518 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:41:17.523 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:41:17.551 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:41:17.562 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.575 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:41:17.578 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:41:17.575 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:41:17.579 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.590 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.610 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:41:17.592 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:41:17.600 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:41:17.625 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:41:17.642 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:41:17.648 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.661 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.661 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:41:17.663 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.665 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:41:17.670 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:41:17.672 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:17.673 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:41:17.674 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:41:57.492 | DEBUG | FilterChainProxy: Securing GET /api/books/45
08:41:57.493 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:57.495 | DEBUG | FilterChainProxy: Secured GET /api/books/45
08:41:57.659 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:41:57.669 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:41:57.670 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:06.218 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:42:06.231 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.231 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:42:06.268 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:42:06.269 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.276 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:42:06.768 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:06.783 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.788 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:06.770 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:42:06.791 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:06.794 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:42:06.943 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:42:07.014 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.066 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:42:07.106 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:42:07.126 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:42:07.389 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:42:07.446 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:42:07.465 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.580 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:42:07.581 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.593 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.595 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.601 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:42:07.639 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:07.642 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:42:07.644 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:42:07.646 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:42:07.803 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:42:07.888 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:42:08.155 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:08.281 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:42:08.299 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:42:08.350 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:08.355 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:42:13.460 | DEBUG | FilterChainProxy: Securing GET /api/books/45
08:42:13.463 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:13.468 | DEBUG | FilterChainProxy: Secured GET /api/books/45
08:42:13.588 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:42:13.594 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:42:13.596 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:47:04.463 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:47:04.512 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:04.513 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:47:04.460 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:47:04.526 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:04.529 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:47:05.074 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:47:05.077 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.080 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:47:05.075 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:47:05.084 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.086 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:47:05.136 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:47:05.141 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.143 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:47:05.148 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:47:05.149 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.172 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:47:05.160 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:47:05.200 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.178 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:47:05.201 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:47:05.209 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:47:05.221 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.240 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:47:05.226 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:47:05.234 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.250 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:47:05.246 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:47:05.250 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.253 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:47:05.253 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.266 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:47:05.262 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:47:05.271 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:47:05.276 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:19.076 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:19.077 | DEBUG | FilterChainProxy: Securing GET /api/genres
08:48:19.093 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.093 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.095 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:19.095 | DEBUG | FilterChainProxy: Secured GET /api/genres
08:48:19.975 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:48:19.984 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:19.978 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:20.000 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:48:20.030 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.049 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:20.048 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:48:20.113 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:48:20.121 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:48:20.197 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.188 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.189 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.209 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:48:20.215 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:48:20.218 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:48:20.284 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:48:20.294 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:48:20.295 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.297 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.298 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:48:20.303 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:20.303 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:48:20.310 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:20.315 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.329 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.349 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:20.351 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:20.366 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:20.366 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:20.368 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:24.985 | DEBUG | FilterChainProxy: Securing GET /api/books?order=DESC&page=0&size=10&sort=TITLE
08:48:24.992 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:24.994 | DEBUG | FilterChainProxy: Secured GET /api/books?order=DESC&page=0&size=10&sort=TITLE
08:48:25.557 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
08:48:25.560 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
08:48:25.564 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:25.571 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.563 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.574 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
08:48:25.571 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.572 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
08:48:25.584 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:25.593 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:25.610 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.622 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:25.660 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:25.676 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.689 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:25.715 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
08:48:25.723 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.732 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
08:48:25.740 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
08:48:25.741 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.746 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
08:48:25.866 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:25.873 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.876 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:25.893 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
08:48:25.941 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:25.945 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
08:48:25.985 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
08:48:26.005 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:26.008 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
08:48:26.481 | DEBUG | FilterChainProxy: Securing GET /error
08:48:26.489 | DEBUG | FilterChainProxy: Secured GET /error
08:48:26.852 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:29.842 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:29.847 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:29.850 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:48:29.943 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:29.945 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:29.946 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:30.042 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
08:48:30.043 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
08:48:30.046 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.048 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.049 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
08:48:30.049 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
08:48:30.049 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
08:48:30.050 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.058 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
08:48:30.079 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
08:48:30.082 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.083 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
08:48:30.097 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:48:30.101 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.102 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:48:30.121 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
08:48:30.122 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.126 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
08:48:30.143 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:30.145 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.146 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
08:48:30.170 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:30.170 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.171 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
08:48:30.192 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:30.193 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:30.195 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:37.336 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:37.343 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:37.344 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:38.050 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_28289.jpg
08:48:38.053 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.055 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_24750.jpg
08:48:38.057 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_28289.jpg
08:48:38.058 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.058 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:38.075 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.073 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_24750.jpg
08:48:38.087 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
08:48:38.091 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
08:48:38.153 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.173 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
08:48:38.211 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
08:48:38.223 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
08:48:38.231 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.269 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
08:48:38.267 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.296 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
08:48:38.381 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
08:48:38.389 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.387 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:38.387 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:38.393 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
08:48:38.394 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.396 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.397 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
08:48:38.397 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:38.434 | DEBUG | FilterChainProxy: Securing GET /error
08:48:38.444 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
08:48:38.456 | DEBUG | FilterChainProxy: Secured GET /error
08:48:38.459 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.465 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:38.478 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
08:48:42.395 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=PRICE&order=ASC
08:48:42.396 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:42.397 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=PRICE&order=ASC
08:48:42.896 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:42.903 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
08:48:42.905 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:42.905 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:42.907 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
08:48:42.907 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
08:48:46.972 | DEBUG | FilterChainProxy: Securing GET /api/books?order=DESC&page=0&size=20&sort=RATING
08:48:46.973 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:46.975 | DEBUG | FilterChainProxy: Secured GET /api/books?order=DESC&page=0&size=20&sort=RATING
08:48:47.248 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
08:48:47.248 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:47.250 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
08:48:47.546 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
08:48:47.547 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:47.550 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
08:48:50.772 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:50.778 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:50.780 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=20&sort=TITLE&order=ASC
08:48:50.894 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:50.894 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:50.895 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
08:48:51.025 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:51.026 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:51.027 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
08:48:51.334 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:51.335 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:48:51.335 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
08:48:51.339 | DEBUG | FilterChainProxy: Securing GET /error
08:48:51.345 | DEBUG | FilterChainProxy: Secured GET /error
08:48:51.357 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:49:15.937 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:49:15.938 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
08:49:15.940 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
08:50:06.266 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:50:06.680 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:50:06.685 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2d8e52e8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:50:06.687 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:50:39.630 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
08:50:39.923 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:50:39.924 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@62f0157a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:50:39.926 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
08:50:41.215 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
08:50:41.530 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
08:50:41.530 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@47dd9325, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
08:50:41.531 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
08:51:06.380 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
08:51:06.421 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
08:51:06.438 | INFO | GracefulShutdown: Graceful shutdown complete
08:51:06.464 | WARN | RedisChannelHandler: Connection is already closed
08:51:06.465 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
08:51:06.527 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
08:51:06.552 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
08:51:06.562 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
08:51:07.061 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
08:51:07.062 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
08:51:07.537 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:51:07.537 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:51:07.585 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 7 JPA repository interfaces.
08:51:07.592 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:51:07.594 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
08:51:07.608 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.609 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.609 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.612 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.613 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.613 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.613 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:51:07.614 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
08:51:08.064 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
08:51:08.067 | INFO | StandardService: Starting service [Tomcat]
08:51:08.067 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:51:08.113 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:51:08.114 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1047 ms
08:51:08.198 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:51:08.201 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:51:08.222 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:51:08.225 | INFO | HikariDataSource: HikariPool-2 - Starting...
08:51:08.245 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7bcb83a7
08:51:08.246 | INFO | HikariDataSource: HikariPool-2 - Start completed.
08:51:08.249 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:51:08.250 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:51:08.464 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:51:08.570 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:51:08.804 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
08:51:08.844 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
08:51:08.850 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
08:51:08.991 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:51:09.045 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:51:09.184 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
08:51:09.241 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
08:51:09.246 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
08:51:09.257 | INFO | BookommerceApplication: Started BookommerceApplication in 2.307 seconds (process running for 1699.928)
08:51:09.260 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
08:52:47.675 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
08:52:47.677 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
08:52:47.687 | INFO | GracefulShutdown: Graceful shutdown complete
08:52:47.690 | WARN | RedisChannelHandler: Connection is already closed
08:52:47.691 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
08:52:47.701 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
08:52:47.702 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
08:52:47.707 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
08:52:47.821 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
08:52:47.821 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
08:52:48.261 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:52:48.262 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:52:48.327 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 62 ms. Found 7 JPA repository interfaces.
08:52:48.339 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:52:48.346 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
08:52:48.357 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.358 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.359 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.359 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.359 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.360 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.360 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:52:48.361 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
08:52:48.573 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
08:52:48.575 | INFO | StandardService: Starting service [Tomcat]
08:52:48.575 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:52:48.604 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:52:48.604 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 778 ms
08:52:48.670 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:52:48.673 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:52:48.693 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:52:48.698 | INFO | HikariDataSource: HikariPool-3 - Starting...
08:52:48.718 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d986f13
08:52:48.719 | INFO | HikariDataSource: HikariPool-3 - Start completed.
08:52:48.722 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:52:48.724 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:52:48.933 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:52:49.018 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:52:49.363 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
08:52:49.385 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
08:52:49.390 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
08:52:49.506 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:52:49.544 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:52:49.652 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
08:52:49.678 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
08:52:49.683 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
08:52:49.688 | INFO | BookommerceApplication: Started BookommerceApplication in 1.908 seconds (process running for 1800.359)
08:52:49.689 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
08:56:41.279 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
08:56:41.297 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
08:56:41.310 | INFO | GracefulShutdown: Graceful shutdown complete
08:56:41.323 | WARN | RedisChannelHandler: Connection is already closed
08:56:41.327 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
08:56:41.343 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
08:56:41.348 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
08:56:41.363 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
08:56:41.589 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
08:56:41.590 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
08:56:41.877 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:56:41.878 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:56:41.909 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
08:56:41.913 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:56:41.914 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
08:56:41.920 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.920 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.921 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.921 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.921 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.921 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.922 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:56:41.922 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
08:56:42.107 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
08:56:42.108 | INFO | StandardService: Starting service [Tomcat]
08:56:42.109 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:56:42.139 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:56:42.139 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 547 ms
08:56:42.259 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:56:42.270 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:56:42.289 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:56:42.291 | INFO | HikariDataSource: HikariPool-4 - Starting...
08:56:42.315 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7b10d04f
08:56:42.316 | INFO | HikariDataSource: HikariPool-4 - Start completed.
08:56:42.320 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:56:42.323 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:56:42.594 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:56:42.676 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:56:42.916 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
08:56:42.933 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
08:56:42.937 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
08:56:43.022 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:56:43.054 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:56:43.167 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
08:56:43.213 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
08:56:43.217 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
08:56:43.221 | INFO | BookommerceApplication: Started BookommerceApplication in 1.679 seconds (process running for 2033.891)
08:56:43.226 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
08:58:38.176 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
08:58:38.188 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
08:58:38.200 | INFO | GracefulShutdown: Graceful shutdown complete
08:58:38.207 | WARN | RedisChannelHandler: Connection is already closed
08:58:38.208 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
08:58:38.220 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
08:58:38.224 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
08:58:38.235 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
08:58:38.532 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
08:58:38.532 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
08:58:38.931 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:58:38.932 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:58:38.978 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 44 ms. Found 7 JPA repository interfaces.
08:58:38.985 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:58:38.985 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
08:58:38.997 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:38.998 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:38.998 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:38.999 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:38.999 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:39.000 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:39.001 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:58:39.001 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
08:58:39.259 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
08:58:39.261 | INFO | StandardService: Starting service [Tomcat]
08:58:39.262 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:58:39.297 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:58:39.298 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 760 ms
08:58:39.373 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:58:39.377 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:58:39.391 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:58:39.392 | INFO | HikariDataSource: HikariPool-5 - Starting...
08:58:39.439 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c657fe9
08:58:39.440 | INFO | HikariDataSource: HikariPool-5 - Start completed.
08:58:39.444 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:58:39.445 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:58:39.668 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:58:39.765 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:58:40.152 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
08:58:40.175 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
08:58:40.178 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
08:58:40.306 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:58:40.346 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:58:40.455 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
08:58:40.501 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
08:58:40.506 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
08:58:40.517 | INFO | BookommerceApplication: Started BookommerceApplication in 2.059 seconds (process running for 2151.188)
08:58:40.522 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
08:59:04.638 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
08:59:04.641 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
08:59:04.645 | INFO | GracefulShutdown: Graceful shutdown complete
08:59:04.649 | WARN | RedisChannelHandler: Connection is already closed
08:59:04.652 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
08:59:04.659 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
08:59:04.659 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
08:59:04.666 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
08:59:04.812 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
08:59:04.815 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
08:59:05.006 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:59:05.006 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
08:59:05.034 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 7 JPA repository interfaces.
08:59:05.037 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
08:59:05.038 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
08:59:05.044 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.044 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.044 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.045 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.045 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.045 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.045 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
08:59:05.045 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
08:59:05.140 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
08:59:05.141 | INFO | StandardService: Starting service [Tomcat]
08:59:05.142 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
08:59:05.158 | INFO | [/]: Initializing Spring embedded WebApplicationContext
08:59:05.158 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 338 ms
08:59:05.198 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
08:59:05.201 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
08:59:05.212 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
08:59:05.224 | INFO | HikariDataSource: HikariPool-6 - Starting...
08:59:05.238 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@15bcbb10
08:59:05.238 | INFO | HikariDataSource: HikariPool-6 - Start completed.
08:59:05.240 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
08:59:05.242 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
08:59:05.419 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
08:59:05.456 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
08:59:05.670 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
08:59:05.707 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
08:59:05.713 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
08:59:05.910 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
08:59:05.937 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
08:59:06.022 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
08:59:06.048 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
08:59:06.052 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
08:59:06.057 | INFO | BookommerceApplication: Started BookommerceApplication in 1.293 seconds (process running for 2176.727)
08:59:06.058 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:00:31.928 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
09:00:31.930 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:00:31.935 | INFO | GracefulShutdown: Graceful shutdown complete
09:00:31.938 | WARN | RedisChannelHandler: Connection is already closed
09:00:31.943 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:00:31.950 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:00:31.951 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
09:00:31.958 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
09:00:32.098 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:00:32.102 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:00:32.375 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:00:32.375 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:00:32.398 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 22 ms. Found 7 JPA repository interfaces.
09:00:32.402 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:00:32.403 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:00:32.407 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.408 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.408 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.408 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.408 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.408 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.409 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:00:32.409 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
09:00:32.502 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:00:32.503 | INFO | StandardService: Starting service [Tomcat]
09:00:32.503 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:00:32.518 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:00:32.518 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 412 ms
09:00:32.554 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:00:32.556 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:00:32.562 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:00:32.563 | INFO | HikariDataSource: HikariPool-7 - Starting...
09:00:32.575 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6bdb9be0
09:00:32.575 | INFO | HikariDataSource: HikariPool-7 - Start completed.
09:00:32.578 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:00:32.578 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:00:32.714 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:00:32.755 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:00:32.955 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:00:32.972 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:00:32.974 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:00:33.045 | WARN | ResourceHandlerUtils: Appended trailing slash to static resource location: file:C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\upload\image\avatar\default\default-avatar.svg\
09:00:33.050 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:00:33.088 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:00:33.157 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:00:33.177 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:00:33.180 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:00:33.182 | INFO | BookommerceApplication: Started BookommerceApplication in 1.126 seconds (process running for 2263.853)
09:00:33.183 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:05:53.614 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:05:53.632 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:05:53.707 | INFO | DispatcherServlet: Completed initialization in 70 ms
09:05:53.871 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
09:05:54.288 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:05:54.300 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1b3c988b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:05:54.312 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
09:05:54.331 | WARN | DefaultHandlerExceptionResolver: Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PATCH' is not supported]
09:05:54.339 | DEBUG | FilterChainProxy: Securing PATCH /error
09:05:54.343 | DEBUG | FilterChainProxy: Secured PATCH /error
09:06:04.609 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:06:04.885 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:06:04.885 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@77535fbb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:06:04.887 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:07:53.890 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:07:54.091 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:07:54.148 | INFO | GracefulShutdown: Graceful shutdown complete
09:07:54.188 | WARN | RedisChannelHandler: Connection is already closed
09:07:54.193 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:07:54.350 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:07:54.431 | INFO | HikariDataSource: HikariPool-7 - Shutdown initiated...
09:07:54.475 | INFO | HikariDataSource: HikariPool-7 - Shutdown completed.
09:07:55.285 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:07:55.287 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:07:55.691 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:07:55.692 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:07:55.739 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 7 JPA repository interfaces.
09:07:55.745 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:07:55.745 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:07:55.754 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.754 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.755 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.755 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.755 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.755 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.757 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:07:55.757 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
09:07:55.998 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:07:55.999 | INFO | StandardService: Starting service [Tomcat]
09:07:56.000 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:07:56.056 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:07:56.058 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 765 ms
09:07:56.208 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:07:56.219 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:07:56.244 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:07:56.245 | INFO | HikariDataSource: HikariPool-8 - Starting...
09:07:56.280 | INFO | HikariPool: HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57640c21
09:07:56.281 | INFO | HikariDataSource: HikariPool-8 - Start completed.
09:07:56.286 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:07:56.287 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:07:56.564 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:07:56.648 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:07:56.883 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:07:56.915 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:07:56.920 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:07:57.018 | WARN | ResourceHandlerUtils: Appended trailing slash to static resource location: file:C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\upload\image\avatar\default\default-avatar.svg\
09:07:57.031 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:07:57.091 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:07:57.232 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:07:57.267 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:07:57.273 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:07:57.276 | INFO | BookommerceApplication: Started BookommerceApplication in 2.073 seconds (process running for 2707.947)
09:07:57.277 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:08:37.929 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:08:37.934 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:08:37.942 | INFO | GracefulShutdown: Graceful shutdown complete
09:08:37.946 | WARN | RedisChannelHandler: Connection is already closed
09:08:37.947 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:08:37.953 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:08:37.953 | INFO | HikariDataSource: HikariPool-8 - Shutdown initiated...
09:08:37.959 | INFO | HikariDataSource: HikariPool-8 - Shutdown completed.
09:08:38.069 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:08:38.070 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:08:38.264 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:08:38.264 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:08:38.297 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
09:08:38.300 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:08:38.300 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:08:38.309 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.309 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.310 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.310 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.310 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.311 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.311 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:08:38.311 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
09:08:38.469 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:08:38.470 | INFO | StandardService: Starting service [Tomcat]
09:08:38.471 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:08:38.494 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:08:38.494 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 423 ms
09:08:38.541 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:08:38.544 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:08:38.552 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:08:38.553 | INFO | HikariDataSource: HikariPool-9 - Starting...
09:08:38.572 | INFO | HikariPool: HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ab672c1
09:08:38.572 | INFO | HikariDataSource: HikariPool-9 - Start completed.
09:08:38.575 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:08:38.576 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:08:38.752 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:08:38.807 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:08:39.114 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:08:39.150 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:08:39.154 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:08:39.282 | WARN | ResourceHandlerUtils: Appended trailing slash to static resource location: file:C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\upload\image\avatar\default\default-avatar.svg\
09:08:39.294 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:08:39.339 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:08:39.435 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:08:39.466 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:08:39.469 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:08:39.472 | INFO | BookommerceApplication: Started BookommerceApplication in 1.428 seconds (process running for 2750.143)
09:08:39.473 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:09:38.132 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:09:38.142 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:09:38.160 | INFO | GracefulShutdown: Graceful shutdown complete
09:09:38.169 | WARN | RedisChannelHandler: Connection is already closed
09:09:38.174 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:09:38.193 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:09:38.195 | INFO | HikariDataSource: HikariPool-9 - Shutdown initiated...
09:09:38.207 | INFO | HikariDataSource: HikariPool-9 - Shutdown completed.
09:09:38.446 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:09:38.448 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:09:38.995 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:09:38.995 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:09:39.061 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 64 ms. Found 7 JPA repository interfaces.
09:09:39.068 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:09:39.068 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:09:39.085 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.085 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.087 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.087 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.089 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.092 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.095 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:09:39.097 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
09:09:39.345 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:09:39.346 | INFO | StandardService: Starting service [Tomcat]
09:09:39.347 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:09:39.393 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:09:39.394 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 941 ms
09:09:39.497 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:09:39.502 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:09:39.530 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:09:39.536 | INFO | HikariDataSource: HikariPool-10 - Starting...
09:09:39.574 | INFO | HikariPool: HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56849a89
09:09:39.575 | INFO | HikariDataSource: HikariPool-10 - Start completed.
09:09:39.582 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:09:39.583 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:09:39.874 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:09:39.953 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:09:40.299 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:09:40.329 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:09:40.332 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:09:40.492 | WARN | ResourceHandlerUtils: Appended trailing slash to static resource location: file:C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\upload\image\avatar\default\default-avatar.svg\
09:09:40.505 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:09:40.578 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:09:40.733 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:09:40.789 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:09:40.795 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:09:40.798 | INFO | BookommerceApplication: Started BookommerceApplication in 2.401 seconds (process running for 2811.469)
09:09:40.800 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:12:56.371 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:12:56.471 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:12:56.510 | INFO | GracefulShutdown: Graceful shutdown complete
09:12:56.538 | WARN | RedisChannelHandler: Connection is already closed
09:12:56.542 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:12:56.576 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:12:56.603 | INFO | HikariDataSource: HikariPool-10 - Shutdown initiated...
09:12:56.628 | INFO | HikariDataSource: HikariPool-10 - Shutdown completed.
09:12:57.521 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:12:57.543 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:12:58.024 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:12:58.024 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:12:58.070 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 7 JPA repository interfaces.
09:12:58.076 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:12:58.076 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:12:58.085 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.085 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.087 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.087 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.088 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.089 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.089 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:12:58.089 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
09:12:58.290 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:12:58.291 | INFO | StandardService: Starting service [Tomcat]
09:12:58.292 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:12:58.330 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:12:58.330 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 755 ms
09:12:58.384 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:12:58.388 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:12:58.402 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:12:58.403 | INFO | HikariDataSource: HikariPool-11 - Starting...
09:12:58.425 | INFO | HikariPool: HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f7bd164
09:12:58.425 | INFO | HikariDataSource: HikariPool-11 - Start completed.
09:12:58.428 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:12:58.428 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:12:58.599 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:12:58.688 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:12:59.017 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:12:59.064 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:12:59.078 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:12:59.292 | WARN | ResourceHandlerUtils: Appended trailing slash to static resource location: file:C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\upload\image\avatar\default\default-avatar.svg\
09:12:59.317 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:12:59.411 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:12:59.604 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:12:59.658 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:12:59.664 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:12:59.668 | INFO | BookommerceApplication: Started BookommerceApplication in 2.354 seconds (process running for 3010.339)
09:12:59.669 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:13:21.783 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:13:21.785 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:13:21.792 | INFO | GracefulShutdown: Graceful shutdown complete
09:13:21.795 | WARN | RedisChannelHandler: Connection is already closed
09:13:21.796 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:13:21.804 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:13:21.805 | INFO | HikariDataSource: HikariPool-11 - Shutdown initiated...
09:13:21.814 | INFO | HikariDataSource: HikariPool-11 - Shutdown completed.
09:13:22.038 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:13:22.041 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:13:22.446 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:13:22.446 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:13:22.484 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
09:13:22.487 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:13:22.487 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:13:22.494 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.494 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.495 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.495 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.495 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.496 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.496 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:13:22.496 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
09:13:22.639 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:13:22.640 | INFO | StandardService: Starting service [Tomcat]
09:13:22.640 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:13:22.669 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:13:22.669 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 612 ms
09:13:22.756 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:13:22.763 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:13:22.776 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:13:22.778 | INFO | HikariDataSource: HikariPool-12 - Starting...
09:13:22.803 | INFO | HikariPool: HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e54627b
09:13:22.806 | INFO | HikariDataSource: HikariPool-12 - Start completed.
09:13:22.809 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:13:22.812 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:13:23.081 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:13:23.162 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:13:23.591 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:13:23.635 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:13:23.640 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:13:23.835 | WARN | ResourceHandlerUtils: Appended trailing slash to static resource location: file:C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\upload\image\avatar\default\default-avatar.svg\
09:13:23.857 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:13:23.930 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:13:24.218 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:13:24.313 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:13:24.322 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:13:24.327 | INFO | BookommerceApplication: Started BookommerceApplication in 2.334 seconds (process running for 3034.997)
09:13:24.328 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:20:42.972 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:20:43.003 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:20:43.140 | INFO | DispatcherServlet: Completed initialization in 133 ms
09:20:43.228 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:20:43.228 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:20:43.262 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:43.262 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:43.289 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:20:43.292 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:20:44.656 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:20:44.658 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.669 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:20:44.672 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:20:44.729 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:20:44.755 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.761 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.768 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:20:44.779 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:20:44.789 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:20:44.822 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.902 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:20:44.907 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:20:44.909 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:44.910 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:20:45.000 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:20:45.022 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.043 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:20:45.156 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:20:45.175 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.186 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:20:45.201 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:20:45.201 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:20:45.223 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.226 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.234 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:20:45.301 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:20:45.241 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:20:45.282 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:20:45.314 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:20:47.971 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:20:48.661 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:20:48.665 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5741a630, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:20:48.668 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:21:03.592 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:21:03.594 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:03.595 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:21:03.612 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:21:03.623 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:03.625 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:21:04.034 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:21:04.089 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.111 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:21:04.114 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:21:04.118 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.123 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:21:04.226 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:21:04.231 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:21:04.231 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.233 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:21:04.249 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.242 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.243 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:21:04.258 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:21:04.259 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:21:04.275 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:21:04.269 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:21:04.269 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:21:04.294 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.299 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.309 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:21:04.302 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.305 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:21:04.307 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:21:04.308 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:21:04.319 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.320 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:21:04.316 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:21:04.316 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:21:04.333 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:21:10.645 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:21:11.078 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:21:11.081 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@737bde10, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:21:11.081 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:25:40.549 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:25:40.549 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:25:40.557 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:40.564 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:40.566 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:25:40.566 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:25:41.057 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:25:41.065 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.073 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:25:41.100 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:25:41.111 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.116 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:25:41.160 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:25:41.164 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:25:41.177 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.164 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.199 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:25:41.181 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:25:41.184 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:25:41.199 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:25:41.238 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.243 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:25:41.234 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:25:41.237 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.250 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.282 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:25:41.284 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:25:41.295 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:25:41.304 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:25:41.310 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:25:41.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.312 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:25:41.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:41.312 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:25:41.314 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:25:45.166 | DEBUG | FilterChainProxy: Securing POST /api/carts/items
09:25:45.463 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:25:45.464 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@152cc557, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:25:45.464 | DEBUG | FilterChainProxy: Secured POST /api/carts/items
09:25:51.070 | DEBUG | FilterChainProxy: Securing GET /api/carts
09:25:51.338 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:25:51.339 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@364e26f9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:25:51.339 | DEBUG | FilterChainProxy: Secured GET /api/carts
09:25:51.423 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:25:51.423 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:25:51.423 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:25:58.800 | DEBUG | FilterChainProxy: Securing DELETE /api/carts/items/40
09:25:59.159 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:25:59.160 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2189d0a0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:25:59.160 | DEBUG | FilterChainProxy: Secured DELETE /api/carts/items/40
09:25:59.644 | DEBUG | FilterChainProxy: Securing GET /api/carts
09:25:59.911 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:25:59.911 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3b23216c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:25:59.912 | DEBUG | FilterChainProxy: Secured GET /api/carts
09:26:04.740 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:26:04.761 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.763 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:26:04.770 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:26:04.770 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.770 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:26:04.904 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:04.921 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.937 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:04.959 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:26:04.961 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.964 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:26:04.975 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:26:04.975 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:04.975 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:26:05.006 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:26:05.006 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.007 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:26:05.034 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:26:05.035 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.035 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:26:05.071 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:26:05.072 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.073 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:26:05.100 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:26:05.102 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.102 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:26:05.127 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:26:05.127 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.128 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:26:05.146 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:26:05.147 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.147 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:26:05.166 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:26:05.166 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:05.167 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:26:07.125 | DEBUG | FilterChainProxy: Securing GET /api/books/45
09:26:07.125 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:07.125 | DEBUG | FilterChainProxy: Secured GET /api/books/45
09:26:07.242 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:07.243 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:26:07.245 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:26:09.671 | DEBUG | FilterChainProxy: Securing POST /api/carts/items
09:26:09.992 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:26:09.992 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2bffd0f3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:26:09.992 | DEBUG | FilterChainProxy: Secured POST /api/carts/items
09:26:29.585 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:26:29.983 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:26:29.984 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@24e7db0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:26:29.985 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:27:52.563 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:27:52.564 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.565 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:27:52.602 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:27:52.605 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.606 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:27:52.904 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:27:52.910 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:27:52.912 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.913 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.917 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:27:52.915 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:27:52.952 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:27:52.954 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.959 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:27:52.954 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:27:52.975 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.973 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:27:52.984 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:27:52.984 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.975 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:27:52.983 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:27:52.983 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:27:52.984 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:27:52.985 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.985 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.985 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:52.985 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:27:52.985 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:27:52.985 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:27:52.987 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:27:53.035 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:53.036 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:27:53.047 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:27:53.049 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:27:53.058 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:28:23.842 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:28:24.218 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:28:24.218 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@766453cf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:28:24.220 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:31:43.208 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:31:43.222 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:31:43.232 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.234 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:31:43.234 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.237 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:31:43.759 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:31:43.771 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:31:43.773 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.773 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:31:43.773 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:31:43.808 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:31:43.809 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.809 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:31:43.821 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:31:43.823 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.823 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:31:43.826 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:31:43.832 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:31:43.834 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:31:43.851 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.852 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:31:43.839 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.841 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.855 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:31:43.959 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:31:43.966 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:31:43.969 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:31:43.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.971 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:43.974 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:31:43.990 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:31:43.990 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:31:43.999 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:31:44.018 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:31:59.529 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:31:59.872 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:31:59.872 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@529c3523, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:31:59.872 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:42:04.470 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:42:04.470 | DEBUG | FilterChainProxy: Securing GET /api/genres
09:42:04.481 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:04.481 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:04.486 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
09:42:04.486 | DEBUG | FilterChainProxy: Secured GET /api/genres
09:42:05.008 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:42:05.009 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
09:42:05.028 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.024 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.039 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:42:05.039 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
09:42:05.074 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
09:42:05.123 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.126 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
09:42:05.088 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
09:42:05.141 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
09:42:05.224 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.227 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
09:42:05.231 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.243 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
09:42:05.295 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
09:42:05.310 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.296 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
09:42:05.318 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:42:05.332 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.332 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
09:42:05.320 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:42:05.333 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.334 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
09:42:05.325 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
09:42:05.331 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.336 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
09:42:05.375 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:42:05.376 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:05.377 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
09:42:07.875 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:42:08.334 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:42:08.335 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7c71ce37, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:42:08.337 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:42:08.915 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:42:09.385 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:42:09.385 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1ca244df, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:42:09.385 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:42:09.498 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:42:09.500 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:42:09.509 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:42:09.534 | DEBUG | FilterChainProxy: Securing GET /error
09:42:09.535 | DEBUG | FilterChainProxy: Secured GET /error
09:42:09.680 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:28.862 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:43:29.639 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:29.646 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6f70c423, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:29.658 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:43:31.075 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:43:31.679 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:31.684 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@389e75a2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:31.687 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:43:36.428 | DEBUG | FilterChainProxy: Securing GET /api/carts
09:43:37.132 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:37.132 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4933443b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:37.134 | DEBUG | FilterChainProxy: Secured GET /api/carts
09:43:37.387 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:37.388 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:37.389 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:39.146 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:43:39.650 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:39.652 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@56bf1819, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:39.653 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:43:40.344 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:43:40.850 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:40.853 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@17a249c9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:40.853 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:43:40.973 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:43:40.975 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:40.977 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:43:40.993 | DEBUG | FilterChainProxy: Securing GET /error
09:43:40.997 | DEBUG | FilterChainProxy: Secured GET /error
09:43:41.003 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:45.923 | DEBUG | FilterChainProxy: Securing GET /api/carts
09:43:46.437 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:46.438 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@52efce82, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:46.438 | DEBUG | FilterChainProxy: Secured GET /api/carts
09:43:46.577 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:46.578 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:46.580 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
09:43:48.359 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:43:48.937 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:48.938 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@132a659a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:48.938 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:43:50.095 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:43:50.853 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:50.854 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@16c232fa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:50.855 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:43:52.071 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:43:52.687 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:52.688 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@24074e1f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:52.689 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:43:53.468 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:43:54.176 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:43:54.179 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@488d2dcc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:43:54.181 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:43:54.331 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:43:54.333 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:43:54.336 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:43:54.342 | DEBUG | FilterChainProxy: Securing GET /error
09:43:54.350 | DEBUG | FilterChainProxy: Secured GET /error
09:43:54.356 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:44:19.242 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:44:20.117 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:44:20.117 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@f2a5e18, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:44:20.117 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:44:20.783 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:44:21.349 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:44:21.349 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@60516a7f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:44:21.350 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:44:26.778 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:44:27.371 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:44:27.373 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@10ad10c6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:44:27.373 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:44:28.101 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:44:28.742 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:44:28.742 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4c89c79e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:44:28.743 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:44:28.846 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:44:28.848 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:44:28.849 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:44:28.858 | DEBUG | FilterChainProxy: Securing GET /error
09:44:28.860 | DEBUG | FilterChainProxy: Secured GET /error
09:44:28.869 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:46:48.522 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:46:48.855 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:46:48.856 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3c226e77, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:46:48.857 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:46:49.377 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:46:49.722 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:46:49.724 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@244d230, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:46:49.725 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:46:49.823 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:46:49.825 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:46:49.828 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:46:49.840 | DEBUG | FilterChainProxy: Securing GET /error
09:46:49.842 | DEBUG | FilterChainProxy: Secured GET /error
09:46:49.854 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:48:19.348 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
09:48:19.382 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
09:48:19.394 | INFO | GracefulShutdown: Graceful shutdown complete
09:48:19.414 | WARN | RedisChannelHandler: Connection is already closed
09:48:19.417 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
09:48:19.519 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
09:48:19.530 | INFO | HikariDataSource: HikariPool-12 - Shutdown initiated...
09:48:19.567 | INFO | HikariDataSource: HikariPool-12 - Shutdown completed.
09:48:20.004 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
09:48:20.004 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
09:48:20.487 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:48:20.488 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
09:48:20.537 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
09:48:20.547 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
09:48:20.547 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
09:48:20.559 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.559 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.559 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.559 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.560 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.560 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.560 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
09:48:20.561 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
09:48:20.927 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
09:48:20.931 | INFO | StandardService: Starting service [Tomcat]
09:48:20.931 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
09:48:20.957 | INFO | [/]: Initializing Spring embedded WebApplicationContext
09:48:20.958 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 948 ms
09:48:21.068 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
09:48:21.077 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
09:48:21.102 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
09:48:21.104 | INFO | HikariDataSource: HikariPool-13 - Starting...
09:48:21.128 | INFO | HikariPool: HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7f326386
09:48:21.129 | INFO | HikariDataSource: HikariPool-13 - Start completed.
09:48:21.134 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
09:48:21.135 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
09:48:21.372 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
09:48:21.490 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
09:48:21.834 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
09:48:21.871 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
09:48:21.878 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
09:48:22.136 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
09:48:22.274 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
09:48:22.559 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
09:48:22.595 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
09:48:22.598 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
09:48:22.604 | INFO | BookommerceApplication: Started BookommerceApplication in 2.676 seconds (process running for 5133.274)
09:48:22.605 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
09:48:31.003 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
09:48:31.005 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
09:48:31.007 | INFO | DispatcherServlet: Completed initialization in 2 ms
09:48:31.009 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:48:31.689 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:48:31.690 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@191c421e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:48:31.691 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:48:32.366 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:48:32.870 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:48:32.870 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1bfa2680, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:48:32.871 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:48:32.969 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:48:32.970 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:48:32.971 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:48:44.985 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
09:48:44.985 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
09:48:44.985 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
09:49:20.414 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
09:49:20.714 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:20.716 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@42588160, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:20.716 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
09:49:21.195 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:49:21.510 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:21.510 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@153ddb8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:21.511 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:49:21.900 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:49:22.181 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:22.181 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5c6d64a2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:22.182 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:49:33.183 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
09:49:33.470 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:33.470 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@48a79d5d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:33.471 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
09:49:33.842 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:49:34.107 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:34.107 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6004a568, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:34.108 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:49:34.465 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:49:34.803 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:34.803 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@13989dec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:34.805 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:49:39.357 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
09:49:39.634 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:39.634 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4e91deaa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:39.634 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
09:49:40.011 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:49:40.300 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:40.300 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@628729d8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:40.300 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:49:40.712 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:49:41.109 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:41.109 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2fed857c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:41.110 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
09:49:46.521 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
09:49:46.806 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:46.806 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@66713aaf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:46.806 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
09:49:47.185 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
09:49:47.516 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:47.517 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@26a05d6b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:47.517 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
09:49:47.903 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
09:49:48.224 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
09:49:48.224 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3061766d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
09:49:48.224 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:00:45.382 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:00:45.387 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:45.388 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:00:46.156 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:00:46.160 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.168 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:00:46.256 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:00:46.263 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.269 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:00:46.324 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:00:46.337 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.343 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:00:46.399 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:00:46.426 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.401 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:00:46.403 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:00:46.439 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:00:46.442 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:00:46.458 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.458 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.456 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:00:46.456 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.458 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:00:46.458 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:00:46.459 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.463 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:00:46.466 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:00:46.468 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:00:46.477 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.494 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:00:46.553 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:00:46.554 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:46.557 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:00:48.814 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:00:49.148 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:00:49.149 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5796ac43, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:00:49.149 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:00:49.574 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:00:49.887 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:00:49.887 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@52f46111, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:00:49.888 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:00:49.958 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:00:49.958 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:00:49.959 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:00:51.444 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:00:51.734 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:00:51.735 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@99f9889, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:00:51.736 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:00:52.178 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:00:52.481 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:00:52.482 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5eb06ffc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:00:52.482 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:00:52.835 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:00:53.152 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:00:53.152 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@52aa915f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:00:53.152 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:01:02.575 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:01:02.873 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:01:02.873 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1d5f61ef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:01:02.875 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:01:03.258 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:01:03.557 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:01:03.557 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7f3c0945, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:01:03.557 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:01:03.964 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:01:04.272 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:01:04.273 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5b1f1f2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:01:04.273 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:03:52.741 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:03:53.106 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:03:53.106 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4981f91b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:03:53.107 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:03:53.610 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:03:53.888 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:03:53.890 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@32290f96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:03:53.891 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:04:01.237 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:04:02.182 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:02.184 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5ae6acb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:02.186 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:04:03.954 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:04:05.129 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:05.132 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@407a2433, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:05.134 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:04:06.056 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:04:07.094 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:07.095 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4ecd9f60, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:07.095 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:04:35.266 | DEBUG | FilterChainProxy: Securing GET /api/carts
10:04:35.741 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:35.741 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@56950fd2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:35.741 | DEBUG | FilterChainProxy: Secured GET /api/carts
10:04:36.128 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:04:36.129 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:04:36.129 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:04:37.727 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:04:38.188 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:38.189 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7ddec9fe, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:38.189 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:04:38.783 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:04:39.309 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:39.310 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7d81edc3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:39.310 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:04:39.361 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:04:39.362 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:04:39.362 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:04:50.316 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:04:50.826 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:50.826 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@25aa6fe0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:50.826 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:04:51.444 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:04:51.975 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:04:51.977 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3a6ab002, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:04:51.978 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:04:52.136 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:04:52.136 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:04:52.136 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:06:55.851 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:06:55.853 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:06:55.854 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:06:59.480 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:06:59.481 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:06:59.481 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:08:04.393 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
10:08:04.859 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
10:08:04.949 | INFO | GracefulShutdown: Graceful shutdown complete
10:08:05.051 | WARN | RedisChannelHandler: Connection is already closed
10:08:05.058 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
10:08:05.191 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
10:08:05.261 | INFO | HikariDataSource: HikariPool-13 - Shutdown initiated...
10:08:05.304 | INFO | HikariDataSource: HikariPool-13 - Shutdown completed.
10:08:08.208 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
10:08:08.211 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
10:08:09.009 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:08:09.010 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
10:08:09.110 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 95 ms. Found 7 JPA repository interfaces.
10:08:09.121 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:08:09.122 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:08:09.140 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.144 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.144 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.145 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.147 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:08:09.147 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
10:08:09.568 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
10:08:09.572 | INFO | StandardService: Starting service [Tomcat]
10:08:09.572 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
10:08:09.631 | INFO | [/]: Initializing Spring embedded WebApplicationContext
10:08:09.634 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1411 ms
10:08:09.795 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
10:08:09.801 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
10:08:09.837 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
10:08:09.842 | INFO | HikariDataSource: HikariPool-14 - Starting...
10:08:09.992 | INFO | HikariPool: HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36d8de02
10:08:09.994 | INFO | HikariDataSource: HikariPool-14 - Start completed.
10:08:10.003 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
10:08:10.004 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-14)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
10:08:10.366 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
10:08:10.518 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
10:08:11.136 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
10:08:11.201 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
10:08:11.210 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
10:08:11.645 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
10:08:11.808 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
10:08:12.079 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
10:08:12.163 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
10:08:12.169 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
10:08:12.175 | INFO | BookommerceApplication: Started BookommerceApplication in 4.211 seconds (process running for 6322.845)
10:08:12.177 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
10:12:30.111 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
10:12:30.179 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
10:12:30.203 | INFO | GracefulShutdown: Graceful shutdown complete
10:12:30.232 | WARN | RedisChannelHandler: Connection is already closed
10:12:30.237 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
10:12:30.302 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
10:12:30.341 | INFO | HikariDataSource: HikariPool-14 - Shutdown initiated...
10:12:30.376 | INFO | HikariDataSource: HikariPool-14 - Shutdown completed.
10:12:31.371 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
10:12:31.372 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
10:12:31.680 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:12:31.681 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
10:12:31.713 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
10:12:31.717 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:12:31.718 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:12:31.722 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.723 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.723 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.723 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.723 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.723 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.724 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:12:31.724 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
10:12:31.862 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
10:12:31.864 | INFO | StandardService: Starting service [Tomcat]
10:12:31.864 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
10:12:31.885 | INFO | [/]: Initializing Spring embedded WebApplicationContext
10:12:31.887 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 507 ms
10:12:31.930 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
10:12:31.934 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
10:12:31.947 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
10:12:31.948 | INFO | HikariDataSource: HikariPool-15 - Starting...
10:12:32.003 | INFO | HikariPool: HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@76437e1f
10:12:32.003 | INFO | HikariDataSource: HikariPool-15 - Start completed.
10:12:32.006 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
10:12:32.007 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-15)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
10:12:32.209 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
10:12:32.303 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
10:12:32.663 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
10:12:32.696 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
10:12:32.702 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
10:12:32.827 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
10:12:32.882 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
10:12:33.038 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
10:12:33.074 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
10:12:33.077 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
10:12:33.081 | INFO | BookommerceApplication: Started BookommerceApplication in 1.8 seconds (process running for 6583.752)
10:12:33.083 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
10:13:49.755 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
10:13:49.756 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
10:13:49.763 | INFO | DispatcherServlet: Completed initialization in 7 ms
10:13:49.770 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:13:49.770 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:13:49.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:49.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:49.772 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:13:49.772 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:13:50.278 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:13:50.280 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:13:50.280 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.282 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.284 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:13:50.285 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:13:50.327 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:13:50.329 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:13:50.337 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.337 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:13:50.340 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.341 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:13:50.348 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.349 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:13:50.349 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:13:50.370 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:13:50.372 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:13:50.372 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.397 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:13:50.389 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.403 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:13:50.398 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:13:50.399 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:13:50.406 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.408 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.423 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:13:50.426 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:13:50.491 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:13:50.503 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:13:50.504 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:15:04.276 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:15:04.280 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.280 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:15:04.311 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:15:04.317 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.329 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:15:04.914 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:15:04.914 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:15:04.916 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.916 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.916 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:15:04.916 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:15:04.957 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:15:04.960 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:04.963 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:15:04.985 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:15:05.012 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:15:05.014 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:15:05.017 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.017 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.017 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.018 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:15:05.019 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:15:05.030 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:15:05.056 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:15:05.076 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:15:05.107 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.086 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:15:05.094 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.113 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.109 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:15:05.113 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:15:05.112 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:15:05.113 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:15:05.113 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:05.118 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:15:11.417 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:15:11.734 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:15:11.735 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@15264b81, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:15:11.735 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:15:12.147 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:15:12.440 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:15:12.440 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@d999390, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:15:12.441 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:15:12.513 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:15:12.514 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:15:12.514 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:27:55.460 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
10:27:55.605 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
10:27:55.635 | INFO | GracefulShutdown: Graceful shutdown complete
10:27:55.669 | WARN | RedisChannelHandler: Connection is already closed
10:27:55.671 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
10:27:55.721 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
10:27:55.751 | INFO | HikariDataSource: HikariPool-15 - Shutdown initiated...
10:27:55.773 | INFO | HikariDataSource: HikariPool-15 - Shutdown completed.
10:27:56.643 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
10:27:56.644 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
10:27:56.914 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:27:56.915 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
10:27:56.953 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
10:27:56.958 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
10:27:56.958 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:27:56.964 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.966 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.966 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.966 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.966 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.967 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.967 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
10:27:56.967 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
10:27:57.095 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
10:27:57.096 | INFO | StandardService: Starting service [Tomcat]
10:27:57.096 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
10:27:57.111 | INFO | [/]: Initializing Spring embedded WebApplicationContext
10:27:57.111 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 459 ms
10:27:57.147 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
10:27:57.149 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
10:27:57.157 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
10:27:57.158 | INFO | HikariDataSource: HikariPool-16 - Starting...
10:27:57.175 | INFO | HikariPool: HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@206652c4
10:27:57.175 | INFO | HikariDataSource: HikariPool-16 - Start completed.
10:27:57.177 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
10:27:57.177 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-16)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
10:27:57.254 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
10:27:57.362 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
10:27:57.653 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
10:27:57.681 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
10:27:57.685 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
10:27:57.859 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
10:27:57.932 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
10:27:58.187 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
10:27:58.226 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
10:27:58.232 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
10:27:58.237 | INFO | BookommerceApplication: Started BookommerceApplication in 1.684 seconds (process running for 7508.907)
10:27:58.239 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
10:31:18.518 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
10:31:18.551 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
10:31:18.581 | INFO | DispatcherServlet: Completed initialization in 27 ms
10:31:18.655 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:31:18.655 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:31:18.686 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:18.686 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:18.707 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:31:18.710 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:31:20.022 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:31:20.023 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:31:20.032 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.034 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.036 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:31:20.038 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:31:20.062 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:31:20.062 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:31:20.063 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.063 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.063 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:31:20.063 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:31:20.064 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:31:20.064 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:31:20.066 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.066 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:31:20.066 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.067 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:31:20.146 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:31:20.149 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.150 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:31:20.153 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:31:20.153 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:31:20.153 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:31:20.155 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.155 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.155 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:31:20.159 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:31:20.166 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:31:20.169 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:32:02.619 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:32:03.464 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:32:03.480 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@74e31d14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:32:03.485 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:32:05.304 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:32:05.845 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:32:05.845 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@93e073d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:32:05.847 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:32:06.066 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:32:06.071 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:32:06.075 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:32:13.492 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:32:14.176 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:32:14.178 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7580dc27, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:32:14.179 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:32:15.173 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:32:15.833 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:32:15.833 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@75c2af47, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:32:15.834 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:32:16.015 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:32:16.015 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:32:16.016 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:32:40.503 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:32:40.782 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:32:40.783 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@63b48ddf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:32:40.783 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:32:41.244 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:32:41.591 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:32:41.592 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1bd26f90, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:32:41.593 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:32:41.669 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:32:41.669 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:32:41.669 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:33:26.256 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:33:26.614 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:33:26.615 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@944b91e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:33:26.616 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:33:27.065 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:33:27.379 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:33:27.379 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@85b7531, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:33:27.381 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:33:27.468 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:33:27.470 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:33:27.470 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:33:32.665 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:33:32.987 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:33:32.987 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@522d337e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:33:32.989 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:33:33.422 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:33:33.706 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:33:33.706 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7cd5d68c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:33:33.709 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:33:33.789 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:33:33.790 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:33:33.790 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:33:41.472 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:33:41.785 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:33:41.785 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7f9f86a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:33:41.787 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:33:42.229 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:33:42.619 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:33:42.621 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@63419dd9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:33:42.621 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:33:42.717 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:33:42.721 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:33:42.730 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:34:27.704 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:34:28.073 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:34:28.073 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@203f1127, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:34:28.075 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:34:28.632 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:34:29.116 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:34:29.117 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@22a5575c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:34:29.120 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:34:40.768 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:34:41.269 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:34:41.270 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4e843878, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:34:41.271 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:34:41.881 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:34:42.368 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:34:42.369 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2a763af3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:34:42.370 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:34:42.479 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:34:42.480 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:34:42.480 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:35:07.545 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:35:08.619 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:35:08.655 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@97cc33c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:35:08.748 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:35:09.957 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:35:10.582 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:35:10.582 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@482f2265, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:35:10.584 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:35:34.674 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:35:36.218 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:35:36.228 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@e783c42, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:35:36.232 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:35:37.498 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:35:38.087 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:35:38.090 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4563803f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:35:38.093 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:37:13.441 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:37:14.080 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:37:14.086 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@73ba7c07, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:37:14.088 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:37:15.538 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:37:16.896 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:37:16.904 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3ea98a96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:37:16.946 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:38:24.759 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:38:25.589 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:38:25.610 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@11224ed5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:38:25.622 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:38:27.593 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:38:28.295 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:38:28.295 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7b055f8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:38:28.296 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:39:11.183 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:39:11.883 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:39:11.887 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@cfd5ea1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:39:11.892 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:39:13.222 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:39:13.809 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:39:13.812 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@43e05480, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:39:13.813 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:39:58.735 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:39:59.879 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:39:59.893 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@589e875f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:39:59.907 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:40:01.199 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:40:01.865 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:40:01.866 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@72122766, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:40:01.866 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:40:41.087 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:40:41.494 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:40:41.494 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@70fde121, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:40:41.494 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:40:42.110 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:40:42.596 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:40:42.597 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@79b62b66, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:40:42.597 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:40:54.989 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:40:55.412 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:40:55.412 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@75df9dd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:40:55.413 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:40:55.883 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:40:56.196 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:40:56.197 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@762dbdfc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:40:56.197 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:41:17.645 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:41:17.900 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:17.902 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@cbe3d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:17.902 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:41:18.259 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:41:18.548 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:18.549 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@18d2c54f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:18.549 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:41:25.083 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:41:25.422 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:25.423 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@65436af2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:25.424 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:41:25.838 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:41:26.142 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:26.143 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7f3ac437, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:26.143 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:41:31.963 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:41:32.582 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:32.583 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@62f3b08c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:32.588 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:41:33.444 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:41:34.116 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:34.116 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@178df82e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:34.117 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:41:38.863 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:41:39.445 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:39.448 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@275db1e5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:39.449 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:41:40.218 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:41:40.959 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:41:40.959 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@261ccebb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:41:40.960 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:49:01.239 | DEBUG | FilterChainProxy: Securing GET /api/genres
10:49:01.240 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:49:01.259 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.259 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.261 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
10:49:01.262 | DEBUG | FilterChainProxy: Secured GET /api/genres
10:49:01.774 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:49:01.777 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
10:49:01.780 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.780 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.787 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
10:49:01.788 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
10:49:01.797 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
10:49:01.798 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.799 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
10:49:01.813 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
10:49:01.813 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
10:49:01.821 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:49:01.821 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.822 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.822 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.823 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
10:49:01.823 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
10:49:01.824 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
10:49:01.859 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
10:49:01.869 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.871 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
10:49:01.878 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:49:01.887 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.894 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
10:49:01.883 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
10:49:01.904 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:49:01.907 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.907 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
10:49:01.907 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:01.909 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
10:49:03.516 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:49:03.895 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:49:03.896 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@619cec02, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:49:03.898 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:49:04.304 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:49:04.600 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:49:04.600 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3a3855b4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:49:04.600 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:49:04.668 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:49:04.668 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:49:04.669 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:49:58.751 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:49:59.120 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:49:59.120 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@26531b92, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:49:59.121 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:49:59.751 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:50:00.107 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:50:00.109 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@628e2e58, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:50:00.111 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:50:03.462 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:50:03.809 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:50:03.809 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7f69a7a2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:50:03.809 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:50:04.273 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:50:04.612 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:50:04.612 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@13e462e0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:50:04.613 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:50:04.722 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:50:04.722 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:50:04.724 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:50:32.717 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:50:33.017 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:50:33.017 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@75f97e0c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:50:33.017 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:50:33.406 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:50:33.719 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:50:33.720 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5ae06d23, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:50:33.720 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:50:33.784 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:50:33.785 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:50:33.785 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:51:06.585 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:51:07.022 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:51:07.022 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@32609578, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:51:07.023 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:51:07.516 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:51:07.914 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:51:07.916 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2ef1d4dd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:51:07.916 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:51:08.044 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:51:08.044 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:51:08.045 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:52:07.443 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:52:07.866 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:52:07.877 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4adf6adb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:52:07.891 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:52:08.506 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:52:08.781 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:52:08.781 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@73de2372, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:52:08.782 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:52:11.719 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:52:12.125 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:52:12.127 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1a6c3ff3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:52:12.128 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:52:12.665 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:52:13.174 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:52:13.174 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@bc8a8d7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:52:13.174 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:52:13.307 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:52:13.307 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:52:13.313 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:53:23.738 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:53:24.341 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:24.353 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4ae7c2fa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:24.357 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:53:25.742 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:53:26.588 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:26.590 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@79c1c11c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:26.592 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:53:27.813 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:53:28.224 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:28.225 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@22facee5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:28.225 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:53:28.702 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:53:29.094 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:29.095 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3fc1c18d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:29.098 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:53:29.198 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:53:29.200 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:53:29.200 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:53:35.073 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:53:35.617 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:35.618 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3ddf0c24, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:35.619 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:53:36.286 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:53:36.835 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:36.835 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6e5f7af5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:36.835 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:53:36.968 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:53:36.968 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:53:36.969 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:53:46.026 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:53:46.423 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:46.425 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@15061f1d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:46.437 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:53:47.212 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:53:47.734 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:53:47.736 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@157a0e69, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:53:47.736 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:53:47.940 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:53:47.941 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:53:47.942 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:54:08.190 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:54:08.846 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:54:08.848 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@58e81fab, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:54:08.849 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:54:09.847 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:54:10.483 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:54:10.500 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6d0f27a2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:54:10.501 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:54:16.623 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:54:17.378 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:54:17.378 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1f421023, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:54:17.380 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:54:18.455 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:54:19.171 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:54:19.172 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3ab51afb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:54:19.172 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:54:19.300 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:54:19.302 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:54:19.304 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:54:52.989 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:54:53.485 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:54:53.486 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4f0abd0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:54:53.488 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:54:54.037 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:54:54.397 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:54:54.398 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@50d65efe, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:54:54.399 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:55:01.762 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:55:02.190 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:02.190 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5d945d0a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:02.191 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:55:03.410 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:55:03.808 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:03.809 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@454bc796, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:03.809 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:55:06.679 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:55:07.113 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:07.114 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@476d116c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:07.123 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:55:08.173 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:55:08.658 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:08.659 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@66044480, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:08.660 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:55:09.290 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:55:09.698 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:09.698 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@28201626, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:09.698 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:55:43.556 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:55:43.815 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:43.815 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3f987f5e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:43.816 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:55:44.311 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:55:44.605 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:44.607 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@741185fd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:44.609 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:55:44.990 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:55:45.366 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:45.368 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2d88ffa8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:45.371 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:55:58.038 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:55:58.330 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:58.330 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5ecee21f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:58.332 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:55:58.684 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:55:58.989 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:55:58.990 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@79d17a44, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:55:58.990 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:55:59.071 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:55:59.072 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:55:59.072 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:56:04.330 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:56:04.591 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:04.591 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@43229432, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:04.592 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:56:04.962 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:56:05.253 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:05.253 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@324bdae7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:05.254 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:56:05.633 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:56:05.906 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:05.906 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7cc5b1fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:05.906 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:56:11.203 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:56:11.466 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:11.467 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3d35b1be, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:11.467 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:56:11.853 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:56:12.163 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:12.164 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6a86982b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:12.164 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:56:12.514 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:56:12.791 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:12.791 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2dd80a95, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:12.792 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:56:14.987 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:56:15.305 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:15.306 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@27ea17cb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:15.307 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:56:15.713 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:56:16.054 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:16.055 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7aba22b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:16.055 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:56:16.123 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:56:16.125 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:56:16.125 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:56:19.164 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:56:19.817 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:19.818 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@17937aa8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:19.819 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:56:20.396 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:56:20.916 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:20.918 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@63538a96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:20.918 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:56:21.016 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:56:21.019 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:56:21.020 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:56:49.649 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:56:49.917 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:49.918 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4f77f644, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:49.918 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:56:50.324 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:56:50.612 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:50.612 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@c83418a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:50.612 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:56:51.014 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:56:51.315 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:51.315 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1914304c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:51.315 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:56:54.489 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:56:54.794 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:54.794 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@40f2d0f7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:54.794 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:56:55.208 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:56:55.610 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:56:55.610 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5f5bfc84, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:56:55.610 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:56:55.696 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
10:56:55.696 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
10:56:55.698 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
10:57:13.641 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:57:13.909 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:57:13.910 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@61631871, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:57:13.910 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:57:14.322 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:57:14.625 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:57:14.625 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@207673aa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:57:14.625 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:57:14.983 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:57:15.292 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:57:15.292 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@759927c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:57:15.292 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
10:57:42.229 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
10:57:42.521 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:57:42.521 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2fdda615, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:57:42.521 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
10:57:42.862 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
10:57:43.118 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:57:43.118 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@50604303, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:57:43.118 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
10:57:43.547 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
10:57:43.832 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
10:57:43.833 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7e9fa6ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
10:57:43.833 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
11:04:27.463 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:04:27.463 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:04:27.483 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:27.483 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:27.485 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:04:27.485 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:04:28.089 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:04:28.089 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:04:28.089 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.089 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.093 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:04:28.093 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:04:28.154 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:04:28.161 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.167 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:04:28.169 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:04:28.175 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:04:28.175 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.179 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.180 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:04:28.180 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:04:28.184 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:04:28.185 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.187 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:04:28.249 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:04:28.251 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.251 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:04:28.253 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:04:28.253 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:04:28.254 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:04:28.264 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.268 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.269 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:28.282 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:04:28.282 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:04:28.282 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:04:29.883 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:04:30.335 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:04:30.339 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1251e1c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:04:30.340 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:04:30.840 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
11:04:31.214 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:04:31.214 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3f2dd86b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:04:31.215 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
11:04:31.308 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
11:04:31.308 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:04:31.309 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
11:07:28.440 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 1 deletion, 1 modification)
11:07:28.557 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:07:28.603 | INFO | GracefulShutdown: Graceful shutdown complete
11:07:28.712 | WARN | RedisChannelHandler: Connection is already closed
11:07:28.730 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
11:07:28.830 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:07:28.876 | INFO | HikariDataSource: HikariPool-16 - Shutdown initiated...
11:07:28.915 | INFO | HikariDataSource: HikariPool-16 - Shutdown completed.
11:07:30.995 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
11:07:31.017 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
11:07:31.998 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:07:32.008 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:07:32.135 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 122 ms. Found 7 JPA repository interfaces.
11:07:32.152 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:07:32.152 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:07:32.172 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.173 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.175 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.176 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.177 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.179 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.180 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:32.180 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
11:07:32.531 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
11:07:32.537 | INFO | StandardService: Starting service [Tomcat]
11:07:32.537 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:07:32.582 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:07:32.583 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1544 ms
11:07:32.818 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:07:32.840 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:07:32.887 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:07:32.906 | INFO | HikariDataSource: HikariPool-17 - Starting...
11:07:33.118 | INFO | HikariPool: HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74690d9
11:07:33.122 | INFO | HikariDataSource: HikariPool-17 - Start completed.
11:07:33.133 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:07:33.138 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-17)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:07:33.463 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:07:33.660 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:07:34.253 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
11:07:34.297 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
11:07:34.305 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
11:07:34.504 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
11:07:34.615 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:07:34.954 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:07:35.006 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
11:07:35.013 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
11:07:35.021 | INFO | BookommerceApplication: Started BookommerceApplication in 4.631 seconds (process running for 9885.691)
11:07:35.022 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:07:36.430 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
11:07:36.432 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:07:36.439 | INFO | GracefulShutdown: Graceful shutdown complete
11:07:36.443 | WARN | RedisChannelHandler: Connection is already closed
11:07:36.445 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
11:07:36.451 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:07:36.452 | INFO | HikariDataSource: HikariPool-17 - Shutdown initiated...
11:07:36.459 | INFO | HikariDataSource: HikariPool-17 - Shutdown completed.
11:07:36.683 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
11:07:36.684 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
11:07:37.005 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:07:37.006 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:07:37.038 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 7 JPA repository interfaces.
11:07:37.042 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:07:37.042 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:07:37.047 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.047 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.047 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.049 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.050 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.050 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.050 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:07:37.050 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
11:07:37.193 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
11:07:37.194 | INFO | StandardService: Starting service [Tomcat]
11:07:37.194 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:07:37.220 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:07:37.220 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 532 ms
11:07:37.271 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:07:37.275 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:07:37.282 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:07:37.284 | INFO | HikariDataSource: HikariPool-18 - Starting...
11:07:37.302 | INFO | HikariPool: HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3116d805
11:07:37.302 | INFO | HikariDataSource: HikariPool-18 - Start completed.
11:07:37.304 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:07:37.304 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-18)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:07:37.425 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:07:37.511 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:07:37.786 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
11:07:37.823 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
11:07:37.828 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
11:07:37.975 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
11:07:38.020 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:07:38.149 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:07:38.211 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
11:07:38.217 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
11:07:38.220 | INFO | BookommerceApplication: Started BookommerceApplication in 1.575 seconds (process running for 9888.891)
11:07:38.221 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:08:20.794 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
11:08:20.796 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:08:20.802 | INFO | GracefulShutdown: Graceful shutdown complete
11:08:20.809 | WARN | RedisChannelHandler: Connection is already closed
11:08:20.809 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
11:08:20.824 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:08:20.825 | INFO | HikariDataSource: HikariPool-18 - Shutdown initiated...
11:08:20.831 | INFO | HikariDataSource: HikariPool-18 - Shutdown completed.
11:08:21.100 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
11:08:21.100 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
11:08:21.257 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:08:21.258 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:08:21.284 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
11:08:21.287 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:08:21.288 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:08:21.294 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.295 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.296 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.296 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.296 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.297 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.297 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:21.297 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
11:08:21.399 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
11:08:21.400 | INFO | StandardService: Starting service [Tomcat]
11:08:21.401 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:08:21.428 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:08:21.428 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 326 ms
11:08:21.474 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:08:21.477 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:08:21.487 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:08:21.488 | INFO | HikariDataSource: HikariPool-19 - Starting...
11:08:21.503 | INFO | HikariPool: HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4375e89e
11:08:21.503 | INFO | HikariDataSource: HikariPool-19 - Start completed.
11:08:21.506 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:08:21.506 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-19)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:08:21.634 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:08:21.678 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:08:21.888 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
11:08:21.912 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
11:08:21.916 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
11:08:22.014 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
11:08:22.050 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:08:22.185 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:08:22.226 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
11:08:22.305 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
11:08:22.331 | INFO | BookommerceApplication: Started BookommerceApplication in 1.264 seconds (process running for 9933.001)
11:08:22.342 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:08:35.995 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
11:08:35.997 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:08:36.003 | INFO | GracefulShutdown: Graceful shutdown complete
11:08:36.006 | WARN | RedisChannelHandler: Connection is already closed
11:08:36.008 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
11:08:36.013 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:08:36.014 | INFO | HikariDataSource: HikariPool-19 - Shutdown initiated...
11:08:36.020 | INFO | HikariDataSource: HikariPool-19 - Shutdown completed.
11:08:36.157 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
11:08:36.157 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
11:08:36.289 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:08:36.289 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:08:36.312 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 22 ms. Found 7 JPA repository interfaces.
11:08:36.315 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:08:36.315 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:08:36.320 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.321 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.322 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.323 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.323 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.323 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.323 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:08:36.323 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
11:08:36.420 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
11:08:36.421 | INFO | StandardService: Starting service [Tomcat]
11:08:36.421 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:08:36.446 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:08:36.446 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 287 ms
11:08:36.483 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:08:36.484 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:08:36.491 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:08:36.492 | INFO | HikariDataSource: HikariPool-20 - Starting...
11:08:36.506 | INFO | HikariPool: HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a24da0
11:08:36.507 | INFO | HikariDataSource: HikariPool-20 - Start completed.
11:08:36.509 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:08:36.509 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-20)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:08:36.592 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:08:36.628 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:08:36.778 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
11:08:36.791 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
11:08:36.795 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
11:08:36.886 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
11:08:36.924 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:08:37.068 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:08:37.100 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
11:08:37.104 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
11:08:37.106 | INFO | BookommerceApplication: Started BookommerceApplication in 0.968 seconds (process running for 9947.777)
11:08:37.107 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:09:05.349 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
11:09:05.361 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
11:09:05.365 | INFO | DispatcherServlet: Completed initialization in 2 ms
11:09:05.374 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:09:05.375 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:09:05.402 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:05.407 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:05.409 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:09:05.410 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:09:06.013 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:09:06.019 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:09:06.029 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.026 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.040 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:09:06.041 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:09:06.110 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:09:06.124 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.201 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:09:06.209 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:09:06.257 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:09:06.321 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.342 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:09:06.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.272 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.374 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:09:06.343 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:09:06.457 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:09:06.458 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:09:06.489 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.490 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:09:06.348 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:09:06.479 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.500 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:09:06.527 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:09:06.573 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:09:06.583 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.583 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:06.584 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:09:06.584 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:09:10.183 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:09:10.701 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:09:10.701 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6928f711, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:09:10.703 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:09:11.351 | DEBUG | FilterChainProxy: Securing GET /api/me/profile/avatar
11:09:11.807 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:09:11.807 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6cf63d32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:09:11.808 | DEBUG | FilterChainProxy: Secured GET /api/me/profile/avatar
11:09:11.877 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
11:09:11.878 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:09:11.879 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
11:10:58.194 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:10:58.548 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:10:58.550 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5fb8d3e0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:10:58.550 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:11:12.354 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:11:13.038 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:11:13.039 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@b7c89fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:11:13.040 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:11:23.065 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:11:23.671 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:11:23.672 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2155fbdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:11:23.673 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:11:33.554 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:11:34.061 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:11:34.062 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3c149e8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:11:34.062 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:11:55.384 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:11:56.334 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:11:56.341 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@18c64812, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:11:56.345 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:12:04.308 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:12:05.070 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:12:05.072 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2b6f37d8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:12:05.079 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:13:37.957 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:13:38.297 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:13:38.298 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@20e74b90, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:13:38.298 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:13:38.474 | DEBUG | FilterChainProxy: Securing GET /images/avatars/default/default-avatar.svg
11:13:38.475 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:13:38.477 | DEBUG | FilterChainProxy: Secured GET /images/avatars/default/default-avatar.svg
11:14:13.868 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:14:14.298 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:14:14.299 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1b8105e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:14:14.300 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:14:37.721 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:14:37.722 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:37.722 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:14:37.760 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:14:37.769 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:37.772 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:14:38.513 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:14:38.517 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:14:38.515 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.530 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.532 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:14:38.533 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:14:38.595 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:14:38.610 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.624 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:14:38.596 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:14:38.603 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:14:38.638 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:14:38.681 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:14:38.675 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:14:38.688 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.693 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.698 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:14:38.696 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.705 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:14:38.696 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.708 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:14:38.696 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.726 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:14:38.696 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:14:38.705 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:14:38.768 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.770 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:14:38.768 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:14:38.775 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:14:38.775 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:14:47.455 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:14:47.738 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:14:47.738 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@64005e6c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:14:47.738 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:15:38.422 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:15:38.424 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.424 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:15:38.426 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:15:38.433 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.434 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:15:38.924 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:15:38.926 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.927 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:15:38.925 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:15:38.932 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.937 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:15:38.970 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:15:38.973 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.973 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:15:38.976 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.973 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:15:38.976 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:15:38.978 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:15:38.978 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:38.978 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:15:39.008 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:15:39.013 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.013 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:15:39.018 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:15:39.021 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.023 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:15:39.025 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:15:39.043 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.042 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:15:39.046 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:15:39.051 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.052 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:15:39.054 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:15:39.056 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:15:39.056 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:15:49.209 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:15:49.529 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:15:49.530 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2bffb35b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:15:49.531 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:16:17.428 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:16:17.430 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:17.431 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:16:17.455 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:16:17.464 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:17.488 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:16:18.338 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:16:18.338 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:16:18.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.346 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.347 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:16:18.347 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:16:18.391 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:16:18.405 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.410 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:16:18.418 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:16:18.418 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:16:18.434 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:16:18.435 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.451 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:16:18.436 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.454 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:16:18.440 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.440 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:16:18.452 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:16:18.453 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.502 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:16:18.535 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:16:18.505 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.534 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:16:18.554 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:16:18.555 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.558 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:16:18.578 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:16:18.585 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:16:18.586 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:16:23.240 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:16:23.807 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:16:23.811 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@490e257d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:16:23.812 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:17:17.890 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:17:18.244 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:17:18.244 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3e13014f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:17:18.245 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:17:25.819 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:17:26.893 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:17:26.895 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6231dedc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:17:26.899 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:17:38.267 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:17:39.032 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:17:39.033 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6fdb5dbd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:17:39.041 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:17:51.928 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:17:52.786 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:17:52.787 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@55568d18, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:17:52.787 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
11:19:27.182 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:19:27.204 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:27.242 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:19:27.303 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:19:27.422 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:27.431 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:19:28.395 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:19:28.394 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:19:28.405 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.423 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:19:28.420 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:19:28.439 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.440 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:19:28.421 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.462 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:19:28.488 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:19:28.489 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.490 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:19:28.488 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:19:28.495 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.507 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:19:28.567 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:19:28.595 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:19:28.606 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.631 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:19:28.624 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.632 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:19:28.635 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.635 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:19:28.636 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:19:28.718 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:19:28.721 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:19:28.723 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.731 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:19:28.730 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:19:28.734 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:20:15.223 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
11:20:15.366 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
11:20:15.431 | INFO | GracefulShutdown: Graceful shutdown complete
11:20:15.497 | WARN | RedisChannelHandler: Connection is already closed
11:20:15.501 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
11:20:15.618 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
11:20:15.686 | INFO | HikariDataSource: HikariPool-20 - Shutdown initiated...
11:20:15.775 | INFO | HikariDataSource: HikariPool-20 - Shutdown completed.
11:20:16.747 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 15472 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
11:20:16.749 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
11:20:17.235 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:20:17.236 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
11:20:17.302 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 61 ms. Found 7 JPA repository interfaces.
11:20:17.308 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
11:20:17.308 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
11:20:17.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.328 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.329 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.329 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.330 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.330 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.331 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
11:20:17.331 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
11:20:17.648 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
11:20:17.653 | INFO | StandardService: Starting service [Tomcat]
11:20:17.653 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
11:20:17.724 | INFO | [/]: Initializing Spring embedded WebApplicationContext
11:20:17.724 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 968 ms
11:20:17.849 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
11:20:17.854 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
11:20:17.872 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
11:20:17.874 | INFO | HikariDataSource: HikariPool-21 - Starting...
11:20:17.912 | INFO | HikariPool: HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b6ac206
11:20:17.912 | INFO | HikariDataSource: HikariPool-21 - Start completed.
11:20:17.916 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
11:20:17.917 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-21)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
11:20:18.561 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
11:20:18.726 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
11:20:19.191 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
11:20:19.225 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
11:20:19.230 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
11:20:19.425 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
11:20:19.522 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
11:20:19.741 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
11:20:19.790 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
11:20:19.796 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
11:20:19.802 | INFO | BookommerceApplication: Started BookommerceApplication in 3.169 seconds (process running for 10650.473)
11:20:19.804 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
11:21:04.692 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
11:21:04.699 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
11:21:04.711 | INFO | DispatcherServlet: Completed initialization in 5 ms
11:21:04.717 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:21:04.717 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:04.719 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:04.719 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:04.720 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:04.721 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:21:05.191 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:21:05.196 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:21:05.197 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.198 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.199 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:21:05.199 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:21:05.217 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:21:05.218 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.219 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:21:05.221 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:05.222 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.222 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:05.238 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:21:05.248 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:05.260 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:05.272 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:21:05.279 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:21:05.296 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:05.299 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.301 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.303 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:05.302 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.302 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.302 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.303 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:05.303 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:21:05.313 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:05.312 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:21:05.312 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:05.312 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:21:34.138 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:34.140 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.141 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
11:21:34.157 | DEBUG | FilterChainProxy: Securing GET /api/genres
11:21:34.175 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.176 | DEBUG | FilterChainProxy: Secured GET /api/genres
11:21:34.657 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:34.657 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.657 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
11:21:34.658 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
11:21:34.659 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.661 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
11:21:34.671 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
11:21:34.674 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
11:21:34.678 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.678 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.679 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
11:21:34.679 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
11:21:34.683 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
11:21:34.685 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
11:21:34.691 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.686 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
11:21:34.687 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.695 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
11:21:34.695 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:34.697 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.700 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
11:21:34.698 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
11:21:34.698 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.709 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
11:21:34.701 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:34.714 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.716 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
11:21:34.703 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:34.722 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
11:21:34.724 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
11:21:44.855 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
11:21:45.214 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
11:21:45.216 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3fbf9990, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
11:21:45.216 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:08:56.532 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:08:56.538 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:08:56.643 | INFO | DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
18:08:56.644 | INFO | DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
18:08:59.403 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:08:59.407 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:08:59.830 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 400 ms. Found 7 JPA repository interfaces.
18:08:59.877 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:08:59.881 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:08:59.932 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.934 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.936 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.938 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.939 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.943 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.945 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:08:59.947 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
18:09:02.805 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:09:02.897 | INFO | StandardService: Starting service [Tomcat]
18:09:02.918 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:09:03.039 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:09:03.040 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 6395 ms
18:09:03.784 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:09:03.939 | INFO | Version: HHH000412: Hibernate ORM core version 6.6.39.Final
18:09:04.027 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:09:04.924 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:09:04.996 | INFO | HikariDataSource: HikariPool-1 - Starting...
18:09:06.068 | INFO | HikariPool: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e79d787
18:09:06.075 | INFO | HikariDataSource: HikariPool-1 - Start completed.
18:09:06.203 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:09:06.248 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:09:10.025 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:09:10.652 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:09:14.408 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:09:15.332 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:09:15.504 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:09:16.198 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:09:16.573 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:09:17.435 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:09:17.743 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [null]
18:09:17.782 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:09:17.807 | INFO | BookommerceApplication: Started BookommerceApplication in 22.229 seconds (process running for 25.255)
18:09:41.893 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
18:09:41.894 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
18:09:41.899 | INFO | DispatcherServlet: Completed initialization in 3 ms
18:09:41.941 | DEBUG | FilterChainProxy: Securing GET /api/genres
18:09:41.941 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
18:09:41.960 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:41.960 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:41.965 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
18:09:41.966 | DEBUG | FilterChainProxy: Secured GET /api/genres
18:09:43.753 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
18:09:43.755 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:09:43.757 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:43.765 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:43.767 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
18:09:43.770 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:09:43.881 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
18:09:43.883 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:43.887 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
18:09:43.919 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
18:09:43.938 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:43.954 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
18:09:43.955 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
18:09:43.959 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:43.967 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
18:09:43.987 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
18:09:44.050 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:44.088 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
18:09:44.100 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
18:09:44.115 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:44.117 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
18:09:44.145 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
18:09:44.155 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:44.157 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
18:09:44.217 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
18:09:44.222 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
18:09:44.226 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:44.223 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:09:44.229 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
18:09:44.229 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
18:11:42.248 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
18:11:42.248 | DEBUG | FilterChainProxy: Securing GET /api/genres
18:11:42.303 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:42.303 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:42.308 | DEBUG | FilterChainProxy: Secured GET /api/genres
18:11:42.308 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
18:11:43.213 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
18:11:43.213 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
18:11:43.214 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.215 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.218 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
18:11:43.219 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
18:11:43.319 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
18:11:43.322 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
18:11:43.329 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.332 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.334 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
18:11:43.334 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
18:11:43.400 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
18:11:43.413 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.421 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
18:11:43.425 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:11:43.426 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.437 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:11:43.500 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
18:11:43.513 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.524 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
18:11:43.545 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
18:11:43.558 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.559 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
18:11:43.600 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
18:11:43.618 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
18:11:43.618 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.624 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
18:11:43.624 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:11:43.645 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
18:11:46.572 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:11:48.684 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:11:48.714 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@b1b83c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:11:48.718 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:11:52.466 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
18:11:53.310 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:11:53.311 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7000e2e4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:11:53.312 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
18:11:55.037 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:11:55.997 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:11:56.002 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@462814ab, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:11:56.005 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:11:59.877 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:12:00.906 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:12:00.907 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5ed7787a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:12:00.909 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:13:02.291 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:13:03.137 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:13:03.138 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@46a1ba77, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:13:03.140 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:18:12.234 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
18:18:12.234 | DEBUG | FilterChainProxy: Securing GET /api/genres
18:18:12.311 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:12.311 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:12.321 | DEBUG | FilterChainProxy: Secured GET /api/genres
18:18:12.321 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
18:18:15.165 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
18:18:15.165 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
18:18:15.174 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.177 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.184 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
18:18:15.185 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
18:18:15.226 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
18:18:15.345 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.379 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
18:18:15.406 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
18:18:15.284 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:18:15.452 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
18:18:15.507 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.502 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.515 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
18:18:15.503 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.508 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
18:18:15.520 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:18:15.734 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
18:18:15.754 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
18:18:15.768 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
18:18:15.777 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
18:18:15.785 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.802 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.808 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.820 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
18:18:15.808 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:18:15.819 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
18:18:15.819 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
18:18:15.822 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
18:18:19.842 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:18:20.905 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:18:20.910 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@33750cf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:18:20.914 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:18:31.763 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
18:18:32.818 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:18:32.819 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1cab8f1a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:18:32.821 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
18:18:34.049 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:18:35.039 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:18:35.042 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@622c5df6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:18:35.043 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:18:43.692 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
18:18:44.734 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:18:44.735 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@16763619, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:18:44.737 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
18:18:45.964 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:18:47.033 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:18:47.034 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6c740685, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:18:47.036 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:19:26.557 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
18:19:27.495 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:19:27.496 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3b4b0f36, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:19:27.497 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
18:19:28.975 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:19:29.880 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:19:29.882 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@62c41444, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:19:29.883 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:19:37.995 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
18:19:38.957 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:19:38.957 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@393b17e0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:19:38.959 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
18:19:40.061 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:19:41.086 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:19:41.087 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3e34fd9b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:19:41.088 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:20:26.331 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:20:26.359 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:20:26.415 | INFO | GracefulShutdown: Graceful shutdown complete
18:20:26.455 | WARN | RedisChannelHandler: Connection is already closed
18:20:26.469 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72)
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40)
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012)
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673)
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618)
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367)
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233)
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145)
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126)
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199)
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184)
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810)
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689)
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81)
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
18:20:26.625 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:20:26.652 | INFO | HikariDataSource: HikariPool-1 - Shutdown initiated...
18:20:26.707 | INFO | HikariDataSource: HikariPool-1 - Shutdown completed.
18:20:27.451 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:20:27.598 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:20:29.935 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:20:30.144 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:20:31.242 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 1048 ms. Found 7 JPA repository interfaces.
18:20:31.579 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:20:31.643 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:20:32.218 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.321 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.430 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.480 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.570 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.607 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.745 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:20:32.953 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 1002 ms. Found 0 Redis repository interfaces.
18:20:34.334 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:20:34.360 | INFO | StandardService: Starting service [Tomcat]
18:20:34.369 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:20:34.477 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:20:34.500 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 6719 ms
18:20:34.702 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:20:34.709 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:20:34.767 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:20:34.773 | INFO | HikariDataSource: HikariPool-2 - Starting...
18:20:34.915 | INFO | HikariPool: HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ed3c7e6
18:20:34.918 | INFO | HikariDataSource: HikariPool-2 - Start completed.
18:20:34.923 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:20:34.925 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:20:35.849 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:20:36.066 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:20:37.039 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:20:37.102 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:20:37.112 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:20:37.504 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:20:37.620 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:20:38.302 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:20:38.410 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:20:38.417 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:20:38.448 | INFO | BookommerceApplication: Started BookommerceApplication in 11.483 seconds (process running for 705.896)
18:20:38.457 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:20:51.561 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
18:20:51.562 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
18:20:51.570 | INFO | DispatcherServlet: Completed initialization in 7 ms
18:20:51.573 | DEBUG | FilterChainProxy: Securing GET /api/carts
18:20:52.750 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:20:52.752 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2d6d15a2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:20:52.754 | DEBUG | FilterChainProxy: Secured GET /api/carts
18:20:53.355 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:20:53.368 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:20:53.370 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
18:21:22.598 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
18:21:23.631 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:21:23.632 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@724e4334, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:21:23.634 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
18:21:37.116 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:21:37.121 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:21:37.140 | INFO | GracefulShutdown: Graceful shutdown complete
18:21:37.152 | WARN | RedisChannelHandler: Connection is already closed
18:21:37.158 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:21:37.184 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:21:37.186 | INFO | HikariDataSource: HikariPool-2 - Shutdown initiated...
18:21:37.197 | INFO | HikariDataSource: HikariPool-2 - Shutdown completed.
18:21:37.462 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:21:37.463 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:21:38.044 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:21:38.044 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:21:38.136 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 88 ms. Found 7 JPA repository interfaces.
18:21:38.148 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:21:38.150 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:21:38.174 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.176 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.178 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.179 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.180 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.183 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.184 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:21:38.184 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
18:21:38.446 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:21:38.447 | INFO | StandardService: Starting service [Tomcat]
18:21:38.448 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:21:38.479 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:21:38.480 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1013 ms
18:21:38.546 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:21:38.549 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:21:38.562 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:21:38.564 | INFO | HikariDataSource: HikariPool-3 - Starting...
18:21:38.596 | INFO | HikariPool: HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5db66d9d
18:21:38.596 | INFO | HikariDataSource: HikariPool-3 - Start completed.
18:21:38.600 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:21:38.601 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:21:38.927 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:21:39.042 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:21:39.384 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:21:39.417 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:21:39.421 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:21:39.599 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:21:39.682 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:21:39.857 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:21:39.904 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:21:39.910 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:21:39.915 | INFO | BookommerceApplication: Started BookommerceApplication in 2.52 seconds (process running for 767.364)
18:21:39.918 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:22:06.088 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:22:06.092 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:22:06.110 | INFO | GracefulShutdown: Graceful shutdown complete
18:22:06.118 | WARN | RedisChannelHandler: Connection is already closed
18:22:06.119 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:22:06.138 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:22:06.142 | INFO | HikariDataSource: HikariPool-3 - Shutdown initiated...
18:22:06.162 | INFO | HikariDataSource: HikariPool-3 - Shutdown completed.
18:22:06.323 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:22:06.324 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:22:06.645 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:22:06.646 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:22:06.693 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 7 JPA repository interfaces.
18:22:06.698 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:22:06.698 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:22:06.708 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.708 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.709 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.709 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.709 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.711 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.711 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:06.711 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
18:22:06.907 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:22:06.909 | INFO | StandardService: Starting service [Tomcat]
18:22:06.911 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:22:06.963 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:22:06.964 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 632 ms
18:22:07.034 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:22:07.038 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:22:07.052 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:22:07.053 | INFO | HikariDataSource: HikariPool-4 - Starting...
18:22:07.079 | INFO | HikariPool: HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@674e157c
18:22:07.081 | INFO | HikariDataSource: HikariPool-4 - Start completed.
18:22:07.084 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:22:07.085 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:22:07.335 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:22:07.422 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:22:07.717 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:22:07.747 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:22:07.751 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:22:07.935 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:22:07.977 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:22:08.083 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:22:08.111 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:22:08.115 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:22:08.124 | INFO | BookommerceApplication: Started BookommerceApplication in 1.853 seconds (process running for 795.572)
18:22:08.126 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:22:30.790 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:22:30.797 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:22:30.816 | INFO | GracefulShutdown: Graceful shutdown complete
18:22:30.821 | WARN | RedisChannelHandler: Connection is already closed
18:22:30.824 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:22:30.849 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:22:30.850 | INFO | HikariDataSource: HikariPool-4 - Shutdown initiated...
18:22:30.868 | INFO | HikariDataSource: HikariPool-4 - Shutdown completed.
18:22:31.040 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:22:31.040 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:22:31.338 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:22:31.338 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:22:31.380 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 40 ms. Found 7 JPA repository interfaces.
18:22:31.385 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:22:31.385 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:22:31.391 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.392 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.392 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.393 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.394 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.395 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.395 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:31.395 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
18:22:31.682 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:22:31.699 | INFO | StandardService: Starting service [Tomcat]
18:22:31.702 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:22:31.778 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:22:31.780 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 735 ms
18:22:31.880 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:22:31.888 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:22:31.903 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:22:31.904 | INFO | HikariDataSource: HikariPool-5 - Starting...
18:22:31.928 | INFO | HikariPool: HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63c384ff
18:22:31.929 | INFO | HikariDataSource: HikariPool-5 - Start completed.
18:22:31.933 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:22:31.936 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:22:32.175 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:22:32.271 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:22:32.528 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:22:32.554 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:22:32.559 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:22:32.677 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:22:32.732 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:22:32.850 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:22:32.896 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:22:32.902 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:22:32.907 | INFO | BookommerceApplication: Started BookommerceApplication in 1.912 seconds (process running for 820.355)
18:22:32.909 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:22:55.308 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:22:55.313 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:22:55.330 | INFO | GracefulShutdown: Graceful shutdown complete
18:22:55.346 | WARN | RedisChannelHandler: Connection is already closed
18:22:55.350 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:22:55.362 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:22:55.364 | INFO | HikariDataSource: HikariPool-5 - Shutdown initiated...
18:22:55.372 | INFO | HikariDataSource: HikariPool-5 - Shutdown completed.
18:22:55.528 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:22:55.529 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:22:55.945 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:22:55.946 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:22:55.979 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
18:22:55.983 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:22:55.983 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:22:55.991 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.992 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.993 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.993 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.994 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.994 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.995 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:22:55.995 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
18:22:56.244 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:22:56.251 | INFO | StandardService: Starting service [Tomcat]
18:22:56.262 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:22:56.372 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:22:56.378 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 846 ms
18:22:56.480 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:22:56.484 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:22:56.502 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:22:56.502 | INFO | HikariDataSource: HikariPool-6 - Starting...
18:22:56.522 | INFO | HikariPool: HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e661600
18:22:56.523 | INFO | HikariDataSource: HikariPool-6 - Start completed.
18:22:56.525 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:22:56.526 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:22:56.681 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:22:56.765 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:22:57.360 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:22:57.498 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:22:57.508 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:22:57.824 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:22:57.948 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:22:58.145 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:22:58.220 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:22:58.227 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:22:58.236 | INFO | BookommerceApplication: Started BookommerceApplication in 2.76 seconds (process running for 845.684)
18:22:58.242 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:22:59.631 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
18:22:59.634 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:22:59.657 | INFO | GracefulShutdown: Graceful shutdown complete
18:22:59.664 | WARN | RedisChannelHandler: Connection is already closed
18:22:59.665 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:22:59.696 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:22:59.697 | INFO | HikariDataSource: HikariPool-6 - Shutdown initiated...
18:22:59.707 | INFO | HikariDataSource: HikariPool-6 - Shutdown completed.
18:22:59.856 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:22:59.857 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:23:00.213 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:23:00.214 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:23:00.260 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 7 JPA repository interfaces.
18:23:00.268 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:23:00.268 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:23:00.285 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.287 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.288 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.289 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.294 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.296 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.299 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:00.304 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
18:23:00.489 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:23:00.491 | INFO | StandardService: Starting service [Tomcat]
18:23:00.491 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:23:00.514 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:23:00.514 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 652 ms
18:23:00.564 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:23:00.566 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:23:00.573 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:23:00.575 | INFO | HikariDataSource: HikariPool-7 - Starting...
18:23:00.594 | INFO | HikariPool: HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70fd3031
18:23:00.594 | INFO | HikariDataSource: HikariPool-7 - Start completed.
18:23:00.598 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:23:00.599 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:23:00.741 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:23:00.822 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:23:01.077 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:23:01.098 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:23:01.102 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:23:01.216 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:23:01.270 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:23:01.388 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:23:01.420 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:23:01.426 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:23:01.430 | INFO | BookommerceApplication: Started BookommerceApplication in 1.614 seconds (process running for 848.878)
18:23:01.432 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:23:47.143 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
18:23:47.149 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:23:47.170 | INFO | GracefulShutdown: Graceful shutdown complete
18:23:47.177 | WARN | RedisChannelHandler: Connection is already closed
18:23:47.179 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:23:47.191 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:23:47.192 | INFO | HikariDataSource: HikariPool-7 - Shutdown initiated...
18:23:47.210 | INFO | HikariDataSource: HikariPool-7 - Shutdown completed.
18:23:47.534 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:23:47.559 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:23:48.088 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:23:48.089 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:23:48.145 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 54 ms. Found 7 JPA repository interfaces.
18:23:48.152 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:23:48.158 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:23:48.170 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.171 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.172 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.172 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.173 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.174 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.175 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:48.176 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
18:23:48.396 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:23:48.399 | INFO | StandardService: Starting service [Tomcat]
18:23:48.400 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:23:48.440 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:23:48.442 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 845 ms
18:23:48.504 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:23:48.507 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:23:48.517 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:23:48.518 | INFO | HikariDataSource: HikariPool-8 - Starting...
18:23:48.540 | INFO | HikariPool: HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4914fcb3
18:23:48.541 | INFO | HikariDataSource: HikariPool-8 - Start completed.
18:23:48.543 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:23:48.543 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:23:48.649 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:23:48.724 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:23:49.061 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:23:49.132 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:23:49.144 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:23:49.395 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:23:49.506 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:23:49.682 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:23:49.724 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:23:49.729 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:23:49.734 | INFO | BookommerceApplication: Started BookommerceApplication in 2.308 seconds (process running for 897.181)
18:23:49.735 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:23:58.568 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:23:58.572 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:23:58.594 | INFO | GracefulShutdown: Graceful shutdown complete
18:23:58.600 | WARN | RedisChannelHandler: Connection is already closed
18:23:58.601 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:23:58.614 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:23:58.615 | INFO | HikariDataSource: HikariPool-8 - Shutdown initiated...
18:23:58.624 | INFO | HikariDataSource: HikariPool-8 - Shutdown completed.
18:23:58.770 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:23:58.771 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:23:58.974 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:23:58.974 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:23:59.025 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 48 ms. Found 7 JPA repository interfaces.
18:23:59.031 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:23:59.031 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:23:59.040 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.040 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.040 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.041 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.042 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.042 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.042 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:23:59.042 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
18:23:59.174 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:23:59.176 | INFO | StandardService: Starting service [Tomcat]
18:23:59.176 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:23:59.205 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:23:59.205 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 433 ms
18:23:59.249 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:23:59.253 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:23:59.264 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:23:59.265 | INFO | HikariDataSource: HikariPool-9 - Starting...
18:23:59.285 | INFO | HikariPool: HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2872d35
18:23:59.286 | INFO | HikariDataSource: HikariPool-9 - Start completed.
18:23:59.288 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:23:59.289 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:23:59.428 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:23:59.505 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:23:59.748 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:23:59.766 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:23:59.769 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:23:59.895 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:23:59.957 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:24:00.110 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:24:00.139 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:24:00.144 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:24:00.147 | INFO | BookommerceApplication: Started BookommerceApplication in 1.408 seconds (process running for 907.595)
18:24:00.148 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:24:19.051 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:24:19.061 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:24:19.108 | INFO | GracefulShutdown: Graceful shutdown complete
18:24:19.129 | WARN | RedisChannelHandler: Connection is already closed
18:24:19.134 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:24:19.224 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:24:19.227 | INFO | HikariDataSource: HikariPool-9 - Shutdown initiated...
18:24:19.355 | INFO | HikariDataSource: HikariPool-9 - Shutdown completed.
18:24:19.678 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:24:19.680 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:24:19.919 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:24:19.920 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:24:19.947 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
18:24:19.950 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:24:19.950 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:24:19.956 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.956 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.957 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.957 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:19.959 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
18:24:20.106 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:24:20.107 | INFO | StandardService: Starting service [Tomcat]
18:24:20.107 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:24:20.131 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:24:20.131 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 447 ms
18:24:20.198 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:24:20.202 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:24:20.218 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:24:20.223 | INFO | HikariDataSource: HikariPool-10 - Starting...
18:24:20.248 | INFO | HikariPool: HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47276283
18:24:20.250 | INFO | HikariDataSource: HikariPool-10 - Start completed.
18:24:20.253 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:24:20.254 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:24:20.486 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:24:20.563 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:24:20.895 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:24:20.983 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:24:20.990 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:24:21.300 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:24:21.428 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:24:21.655 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:24:21.696 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:24:21.703 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:24:21.710 | INFO | BookommerceApplication: Started BookommerceApplication in 2.087 seconds (process running for 929.158)
18:24:21.717 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:24:23.178 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:24:23.181 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:24:23.211 | INFO | GracefulShutdown: Graceful shutdown complete
18:24:23.217 | WARN | RedisChannelHandler: Connection is already closed
18:24:23.219 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:24:23.238 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:24:23.239 | INFO | HikariDataSource: HikariPool-10 - Shutdown initiated...
18:24:23.248 | INFO | HikariDataSource: HikariPool-10 - Shutdown completed.
18:24:23.777 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:24:23.779 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:24:25.023 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:24:25.023 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:24:25.067 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 7 JPA repository interfaces.
18:24:25.079 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:24:25.079 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:24:25.093 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.095 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.096 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.097 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.098 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.099 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.101 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:24:25.102 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
18:24:25.319 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:24:25.320 | INFO | StandardService: Starting service [Tomcat]
18:24:25.320 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:24:25.338 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:24:25.340 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1556 ms
18:24:25.433 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:24:25.437 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:24:25.448 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:24:25.450 | INFO | HikariDataSource: HikariPool-11 - Starting...
18:24:25.468 | INFO | HikariPool: HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42522049
18:24:25.472 | INFO | HikariDataSource: HikariPool-11 - Start completed.
18:24:25.475 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:24:25.475 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:24:25.565 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:24:25.628 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:24:25.894 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:24:25.925 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:24:25.931 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:24:26.049 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:24:26.098 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:24:26.213 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:24:26.244 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:24:26.248 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:24:26.252 | INFO | BookommerceApplication: Started BookommerceApplication in 2.549 seconds (process running for 933.7)
18:24:26.253 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:25:14.949 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:25:14.952 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:25:14.968 | INFO | GracefulShutdown: Graceful shutdown complete
18:25:14.975 | WARN | RedisChannelHandler: Connection is already closed
18:25:14.977 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:25:14.990 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:25:14.993 | INFO | HikariDataSource: HikariPool-11 - Shutdown initiated...
18:25:15.003 | INFO | HikariDataSource: HikariPool-11 - Shutdown completed.
18:25:15.172 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:25:15.173 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:25:15.377 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:25:15.377 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:25:15.419 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 41 ms. Found 7 JPA repository interfaces.
18:25:15.423 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:25:15.424 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:25:15.434 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.436 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.436 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.437 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.437 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.438 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.438 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:25:15.440 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
18:25:15.591 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:25:15.593 | INFO | StandardService: Starting service [Tomcat]
18:25:15.594 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:25:15.630 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:25:15.630 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 455 ms
18:25:15.712 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:25:15.719 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:25:15.736 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:25:15.738 | INFO | HikariDataSource: HikariPool-12 - Starting...
18:25:15.764 | INFO | HikariPool: HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@612f2252
18:25:15.765 | INFO | HikariDataSource: HikariPool-12 - Start completed.
18:25:15.768 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:25:15.768 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:25:15.922 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:25:15.986 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:25:16.235 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:25:16.253 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:25:16.257 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:25:16.391 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:25:16.442 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:25:16.574 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:25:16.619 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:25:16.623 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:25:16.628 | INFO | BookommerceApplication: Started BookommerceApplication in 1.482 seconds (process running for 984.075)
18:25:16.629 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:26:55.949 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:26:55.955 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:26:55.982 | INFO | GracefulShutdown: Graceful shutdown complete
18:26:55.990 | WARN | RedisChannelHandler: Connection is already closed
18:26:55.995 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:26:56.009 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:26:56.012 | INFO | HikariDataSource: HikariPool-12 - Shutdown initiated...
18:26:56.033 | INFO | HikariDataSource: HikariPool-12 - Shutdown completed.
18:26:56.250 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:26:56.252 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:26:56.464 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:26:56.465 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:26:56.495 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
18:26:56.497 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:26:56.497 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:26:56.505 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.505 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.506 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.506 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.507 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.507 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.507 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:26:56.508 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
18:26:56.623 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:26:56.625 | INFO | StandardService: Starting service [Tomcat]
18:26:56.625 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:26:56.662 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:26:56.662 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 408 ms
18:26:56.736 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:26:56.742 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:26:56.758 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:26:56.761 | INFO | HikariDataSource: HikariPool-13 - Starting...
18:26:56.791 | INFO | HikariPool: HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c1c25c6
18:26:56.791 | INFO | HikariDataSource: HikariPool-13 - Start completed.
18:26:56.794 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:26:56.795 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:26:56.961 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:26:57.025 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:26:57.223 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:26:57.243 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:26:57.245 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:26:57.355 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:26:57.405 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:26:57.505 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:26:57.534 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:26:57.539 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:26:57.542 | INFO | BookommerceApplication: Started BookommerceApplication in 1.334 seconds (process running for 1084.99)
18:26:57.544 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:27:16.921 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:27:16.926 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:27:16.944 | INFO | GracefulShutdown: Graceful shutdown complete
18:27:16.956 | WARN | RedisChannelHandler: Connection is already closed
18:27:16.959 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:27:16.980 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:27:16.981 | INFO | HikariDataSource: HikariPool-13 - Shutdown initiated...
18:27:17.028 | INFO | HikariDataSource: HikariPool-13 - Shutdown completed.
18:27:17.266 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:27:17.267 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:27:17.512 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:27:17.512 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:27:17.541 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
18:27:17.546 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:27:17.546 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:27:17.555 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.556 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.556 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.556 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.557 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:17.557 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
18:27:17.664 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:27:17.665 | INFO | StandardService: Starting service [Tomcat]
18:27:17.666 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:27:17.691 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:27:17.691 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 420 ms
18:27:17.726 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:27:17.729 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:27:17.737 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:27:17.738 | INFO | HikariDataSource: HikariPool-14 - Starting...
18:27:17.755 | INFO | HikariPool: HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79a0c56
18:27:17.755 | INFO | HikariDataSource: HikariPool-14 - Start completed.
18:27:17.758 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:27:17.758 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-14)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:27:17.855 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:27:17.921 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:27:18.148 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:27:18.173 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:27:18.177 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:27:18.378 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:27:18.457 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:27:18.592 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:27:18.629 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:27:18.634 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:27:18.638 | INFO | BookommerceApplication: Started BookommerceApplication in 1.422 seconds (process running for 1106.085)
18:27:18.640 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:27:43.407 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:27:43.411 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:27:43.431 | INFO | GracefulShutdown: Graceful shutdown complete
18:27:43.442 | WARN | RedisChannelHandler: Connection is already closed
18:27:43.446 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:27:43.463 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:27:43.465 | INFO | HikariDataSource: HikariPool-14 - Shutdown initiated...
18:27:43.473 | INFO | HikariDataSource: HikariPool-14 - Shutdown completed.
18:27:43.656 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:27:43.656 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:27:43.926 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:27:43.926 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:27:43.949 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 22 ms. Found 7 JPA repository interfaces.
18:27:43.951 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:27:43.952 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:27:43.957 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.957 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.957 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.958 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:43.959 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
18:27:44.075 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:27:44.078 | INFO | StandardService: Starting service [Tomcat]
18:27:44.078 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:27:44.113 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:27:44.113 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 454 ms
18:27:44.170 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:27:44.173 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:27:44.183 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:27:44.184 | INFO | HikariDataSource: HikariPool-15 - Starting...
18:27:44.210 | INFO | HikariPool: HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f4a4623
18:27:44.210 | INFO | HikariDataSource: HikariPool-15 - Start completed.
18:27:44.213 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:27:44.214 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-15)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:27:44.408 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:27:44.482 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:27:44.675 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:27:44.698 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:27:44.703 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:27:44.809 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:27:44.850 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:27:44.941 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:27:44.995 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:27:45.000 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:27:45.004 | INFO | BookommerceApplication: Started BookommerceApplication in 1.377 seconds (process running for 1132.452)
18:27:45.006 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:27:50.658 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:27:50.661 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:27:50.693 | INFO | GracefulShutdown: Graceful shutdown complete
18:27:50.700 | WARN | RedisChannelHandler: Connection is already closed
18:27:50.701 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:27:50.717 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:27:50.718 | INFO | HikariDataSource: HikariPool-15 - Shutdown initiated...
18:27:50.726 | INFO | HikariDataSource: HikariPool-15 - Shutdown completed.
18:27:50.905 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:27:50.906 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:27:51.171 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:27:51.172 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:27:51.211 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
18:27:51.214 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:27:51.215 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:27:51.224 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.224 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.225 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.225 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.225 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.225 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.226 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:27:51.226 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
18:27:51.344 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:27:51.345 | INFO | StandardService: Starting service [Tomcat]
18:27:51.345 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:27:51.360 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:27:51.361 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 451 ms
18:27:51.400 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:27:51.404 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:27:51.418 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:27:51.419 | INFO | HikariDataSource: HikariPool-16 - Starting...
18:27:51.443 | INFO | HikariPool: HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34b311ad
18:27:51.443 | INFO | HikariDataSource: HikariPool-16 - Start completed.
18:27:51.447 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:27:51.447 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-16)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:27:51.587 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:27:51.660 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:27:51.838 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:27:51.874 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:27:51.888 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:27:52.078 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:27:52.111 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:27:52.188 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:27:52.216 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:27:52.221 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:27:52.224 | INFO | BookommerceApplication: Started BookommerceApplication in 1.348 seconds (process running for 1139.672)
18:27:52.226 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:28:25.187 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:28:25.191 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:28:25.221 | INFO | GracefulShutdown: Graceful shutdown complete
18:28:25.230 | WARN | RedisChannelHandler: Connection is already closed
18:28:25.232 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:28:25.248 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:28:25.249 | INFO | HikariDataSource: HikariPool-16 - Shutdown initiated...
18:28:25.257 | INFO | HikariDataSource: HikariPool-16 - Shutdown completed.
18:28:25.479 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:28:25.480 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:28:25.725 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:25.726 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:28:25.755 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
18:28:25.759 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:25.761 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:28:25.768 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.768 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.771 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.771 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.771 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.771 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.773 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:25.774 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
18:28:25.931 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:28:25.933 | INFO | StandardService: Starting service [Tomcat]
18:28:25.933 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:28:25.967 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:28:25.968 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 486 ms
18:28:26.021 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:28:26.022 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:28:26.031 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:28:26.034 | INFO | HikariDataSource: HikariPool-17 - Starting...
18:28:26.056 | INFO | HikariPool: HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74d5c719
18:28:26.056 | INFO | HikariDataSource: HikariPool-17 - Start completed.
18:28:26.059 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:28:26.059 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-17)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:28:26.247 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:28:26.313 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:28:26.506 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:28:26.535 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:28:26.540 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:28:26.717 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:28:26.751 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:28:26.900 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:28:26.933 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:28:26.938 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:28:26.942 | INFO | BookommerceApplication: Started BookommerceApplication in 1.499 seconds (process running for 1174.389)
18:28:26.943 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:28:36.842 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:28:36.847 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:28:36.858 | INFO | GracefulShutdown: Graceful shutdown complete
18:28:36.863 | WARN | RedisChannelHandler: Connection is already closed
18:28:36.864 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:28:36.881 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:28:36.882 | INFO | HikariDataSource: HikariPool-17 - Shutdown initiated...
18:28:36.889 | INFO | HikariDataSource: HikariPool-17 - Shutdown completed.
18:28:37.090 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:28:37.090 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:28:37.320 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:37.321 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:28:37.369 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
18:28:37.374 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:37.374 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:28:37.385 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.386 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.387 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.387 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.387 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.388 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.388 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:37.388 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
18:28:37.556 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:28:37.559 | INFO | StandardService: Starting service [Tomcat]
18:28:37.559 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:28:37.594 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:28:37.595 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 502 ms
18:28:37.650 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:28:37.653 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:28:37.663 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:28:37.664 | INFO | HikariDataSource: HikariPool-18 - Starting...
18:28:37.687 | INFO | HikariPool: HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41e11fd9
18:28:37.687 | INFO | HikariDataSource: HikariPool-18 - Start completed.
18:28:37.691 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:28:37.692 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-18)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:28:37.830 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:28:37.897 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:28:38.217 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:28:38.248 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:28:38.254 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:28:38.428 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:28:38.490 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:28:38.578 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:28:38.637 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:28:38.659 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:28:38.664 | INFO | BookommerceApplication: Started BookommerceApplication in 1.606 seconds (process running for 1186.112)
18:28:38.668 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:28:40.084 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:28:40.087 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:28:40.116 | INFO | GracefulShutdown: Graceful shutdown complete
18:28:40.125 | WARN | RedisChannelHandler: Connection is already closed
18:28:40.127 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:28:40.143 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:28:40.144 | INFO | HikariDataSource: HikariPool-18 - Shutdown initiated...
18:28:40.155 | INFO | HikariDataSource: HikariPool-18 - Shutdown completed.
18:28:40.357 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:28:40.357 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:28:40.617 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:40.617 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:28:40.660 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 7 JPA repository interfaces.
18:28:40.664 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:40.664 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:28:40.672 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.673 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.673 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.674 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.674 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.674 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.675 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:40.675 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
18:28:40.833 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:28:40.834 | INFO | StandardService: Starting service [Tomcat]
18:28:40.835 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:28:40.871 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:28:40.874 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 514 ms
18:28:40.951 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:28:40.952 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:28:40.961 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:28:40.962 | INFO | HikariDataSource: HikariPool-19 - Starting...
18:28:40.978 | INFO | HikariPool: HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3964bf38
18:28:40.979 | INFO | HikariDataSource: HikariPool-19 - Start completed.
18:28:40.981 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:28:40.982 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-19)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:28:41.109 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:28:41.168 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:28:41.618 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:28:41.817 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:28:41.826 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:28:42.109 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:28:42.187 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:28:42.342 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:28:42.389 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:28:42.394 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:28:42.398 | INFO | BookommerceApplication: Started BookommerceApplication in 2.069 seconds (process running for 1189.845)
18:28:42.402 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:28:43.861 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:28:43.863 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:28:43.876 | INFO | GracefulShutdown: Graceful shutdown complete
18:28:43.885 | WARN | RedisChannelHandler: Connection is already closed
18:28:43.888 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:28:43.898 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:28:43.899 | INFO | HikariDataSource: HikariPool-19 - Shutdown initiated...
18:28:43.908 | INFO | HikariDataSource: HikariPool-19 - Shutdown completed.
18:28:44.083 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:28:44.083 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:28:44.284 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:44.285 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:28:44.316 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
18:28:44.318 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:28:44.318 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:28:44.324 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.325 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.326 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.329 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:28:44.329 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
18:28:44.452 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:28:44.454 | INFO | StandardService: Starting service [Tomcat]
18:28:44.454 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:28:44.490 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:28:44.490 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 405 ms
18:28:44.552 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:28:44.556 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:28:44.573 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:28:44.576 | INFO | HikariDataSource: HikariPool-20 - Starting...
18:28:44.596 | INFO | HikariPool: HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@570aeb06
18:28:44.600 | INFO | HikariDataSource: HikariPool-20 - Start completed.
18:28:44.604 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:28:44.604 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-20)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:28:44.795 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:28:44.863 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:28:45.197 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:28:45.224 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:28:45.229 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:28:45.351 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:28:45.405 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:28:45.490 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:28:45.532 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:28:45.538 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:28:45.544 | INFO | BookommerceApplication: Started BookommerceApplication in 1.488 seconds (process running for 1192.992)
18:28:45.546 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:28:59.683 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:28:59.686 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:28:59.696 | INFO | GracefulShutdown: Graceful shutdown complete
18:28:59.703 | WARN | RedisChannelHandler: Connection is already closed
18:28:59.704 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:28:59.711 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:28:59.712 | INFO | HikariDataSource: HikariPool-20 - Shutdown initiated...
18:28:59.726 | INFO | HikariDataSource: HikariPool-20 - Shutdown completed.
18:28:59.927 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:28:59.928 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:29:00.195 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:29:00.197 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:29:00.256 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 57 ms. Found 7 JPA repository interfaces.
18:29:00.259 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:29:00.260 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:29:00.265 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.266 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.266 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.266 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.268 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.268 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.269 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:29:00.269 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
18:29:00.446 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:29:00.447 | INFO | StandardService: Starting service [Tomcat]
18:29:00.448 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:29:00.491 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:29:00.491 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 559 ms
18:29:00.564 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:29:00.568 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:29:00.583 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:29:00.584 | INFO | HikariDataSource: HikariPool-21 - Starting...
18:29:00.609 | INFO | HikariPool: HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46e7a9f5
18:29:00.610 | INFO | HikariDataSource: HikariPool-21 - Start completed.
18:29:00.614 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:29:00.615 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-21)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:29:00.792 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:29:00.860 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:29:01.128 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:29:01.148 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:29:01.151 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:29:01.252 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:29:01.279 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:29:01.340 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:29:01.365 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:29:01.369 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:29:01.372 | INFO | BookommerceApplication: Started BookommerceApplication in 1.482 seconds (process running for 1208.82)
18:29:01.374 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:31:12.031 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
18:31:12.044 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
18:31:12.165 | INFO | DispatcherServlet: Completed initialization in 120 ms
18:31:12.207 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:31:12.230 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:31:52.852 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:31:52.853 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:32:32.326 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:32:32.345 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:32:32.373 | INFO | GracefulShutdown: Graceful shutdown complete
18:32:32.394 | WARN | RedisChannelHandler: Connection is already closed
18:32:32.397 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:32:32.438 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:32:32.456 | INFO | HikariDataSource: HikariPool-21 - Shutdown initiated...
18:32:32.474 | INFO | HikariDataSource: HikariPool-21 - Shutdown completed.
18:32:33.353 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:32:33.355 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:32:33.677 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:32:33.678 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:32:33.727 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
18:32:33.731 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:32:33.732 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:32:33.741 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.742 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.743 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.743 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.743 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.744 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.745 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:33.745 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
18:32:33.957 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:32:33.959 | INFO | StandardService: Starting service [Tomcat]
18:32:33.959 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:32:33.987 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:32:33.987 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 623 ms
18:32:34.100 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:32:34.104 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:32:34.115 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:32:34.117 | INFO | HikariDataSource: HikariPool-22 - Starting...
18:32:34.151 | INFO | HikariPool: HikariPool-22 - Added connection com.mysql.cj.jdbc.ConnectionImpl@464d491d
18:32:34.151 | INFO | HikariDataSource: HikariPool-22 - Start completed.
18:32:34.157 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:32:34.158 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-22)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:32:34.378 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:32:34.549 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:32:35.038 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:32:35.088 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:32:35.093 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:32:35.281 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:32:35.312 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:32:35.397 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:32:35.423 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:32:35.429 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:32:35.433 | INFO | BookommerceApplication: Started BookommerceApplication in 2.219 seconds (process running for 1422.881)
18:32:35.435 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:32:40.032 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:32:40.035 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:32:40.041 | INFO | GracefulShutdown: Graceful shutdown complete
18:32:40.046 | WARN | RedisChannelHandler: Connection is already closed
18:32:40.047 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:32:40.062 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:32:40.063 | INFO | HikariDataSource: HikariPool-22 - Shutdown initiated...
18:32:40.072 | INFO | HikariDataSource: HikariPool-22 - Shutdown completed.
18:32:40.292 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:32:40.294 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:32:40.618 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:32:40.618 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:32:40.646 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 7 JPA repository interfaces.
18:32:40.649 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:32:40.651 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:32:40.655 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.655 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.657 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.657 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.657 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.657 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.657 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:32:40.658 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
18:32:40.768 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:32:40.769 | INFO | StandardService: Starting service [Tomcat]
18:32:40.769 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:32:40.791 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:32:40.792 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 495 ms
18:32:40.834 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:32:40.837 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:32:40.846 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:32:40.848 | INFO | HikariDataSource: HikariPool-23 - Starting...
18:32:40.870 | INFO | HikariPool: HikariPool-23 - Added connection com.mysql.cj.jdbc.ConnectionImpl@81ccf13
18:32:40.871 | INFO | HikariDataSource: HikariPool-23 - Start completed.
18:32:40.873 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:32:40.874 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-23)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:32:41.037 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:32:41.126 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:32:41.326 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:32:41.347 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:32:41.349 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:32:41.464 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:32:41.499 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:32:41.578 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:32:41.625 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:32:41.631 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:32:41.636 | INFO | BookommerceApplication: Started BookommerceApplication in 1.38 seconds (process running for 1429.084)
18:32:41.638 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:32:45.168 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
18:32:45.168 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
18:32:45.169 | INFO | DispatcherServlet: Completed initialization in 1 ms
18:32:45.171 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:32:45.172 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
18:33:26.390 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:33:27.426 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:33:27.428 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@726b3d8d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:33:27.430 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
18:33:27.571 | ERROR | [dispatcherServlet]: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'com.bookommerce.resource_server.validation.annotation.ValidUpdateBookImage' validating type 'com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto'. Check configuration for ''] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'com.bookommerce.resource_server.validation.annotation.ValidUpdateBookImage' validating type 'com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto'. Check configuration for ''
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:103) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67) ~[spring-boot-autoconfigure-3.5.9.jar:3.5.9]
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.validateIfApplicable(ModelAttributeMethodProcessor.java:233) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:155) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:177) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:158) ~[spring-security-oauth2-resource-server-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
18:33:27.627 | DEBUG | FilterChainProxy: Securing PATCH /error
18:33:27.630 | DEBUG | FilterChainProxy: Secured PATCH /error
18:34:26.763 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:34:27.788 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:34:27.789 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@79c1aec4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:34:27.791 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
18:34:27.811 | ERROR | [dispatcherServlet]: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'com.bookommerce.resource_server.validation.annotation.ValidUpdateBookImage' validating type 'com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto'. Check configuration for ''] with root cause
jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'com.bookommerce.resource_server.validation.annotation.ValidUpdateBookImage' validating type 'com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto'. Check configuration for ''
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getExceptionForNullValidator(ConstraintTree.java:116) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.getInitializedConstraintValidator(ConstraintTree.java:162) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:58) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:75) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:518) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:488) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:450) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:400) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:172) ~[hibernate-validator-8.0.3.Final.jar:8.0.3.Final]
	at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:103) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:67) ~[spring-boot-autoconfigure-3.5.9.jar:3.5.9]
	at org.springframework.validation.DataBinder.validate(DataBinder.java:1431) ~[spring-context-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.validateIfApplicable(ModelAttributeMethodProcessor.java:233) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:155) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:177) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:158) ~[spring-security-oauth2-resource-server-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
18:34:27.824 | DEBUG | FilterChainProxy: Securing PATCH /error
18:34:27.824 | DEBUG | FilterChainProxy: Secured PATCH /error
18:37:46.350 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:37:46.368 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:37:46.385 | INFO | GracefulShutdown: Graceful shutdown complete
18:37:46.401 | WARN | RedisChannelHandler: Connection is already closed
18:37:46.403 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:37:46.419 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:37:46.429 | INFO | HikariDataSource: HikariPool-23 - Shutdown initiated...
18:37:46.445 | INFO | HikariDataSource: HikariPool-23 - Shutdown completed.
18:37:46.867 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:37:46.867 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:37:47.173 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:37:47.173 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:37:47.210 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
18:37:47.215 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:37:47.216 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:37:47.226 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.227 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.227 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.228 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.228 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.229 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.229 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:37:47.229 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
18:37:47.383 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:37:47.384 | INFO | StandardService: Starting service [Tomcat]
18:37:47.384 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:37:47.405 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:37:47.405 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 535 ms
18:37:47.449 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:37:47.452 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:37:47.461 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:37:47.461 | INFO | HikariDataSource: HikariPool-24 - Starting...
18:37:47.482 | INFO | HikariPool: HikariPool-24 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2535bcad
18:37:47.482 | INFO | HikariDataSource: HikariPool-24 - Start completed.
18:37:47.485 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:37:47.485 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-24)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:37:47.636 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:37:47.722 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:37:48.116 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:37:48.140 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:37:48.145 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:37:48.300 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:37:48.387 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:37:48.517 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:37:48.553 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:37:48.559 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:37:48.562 | INFO | BookommerceApplication: Started BookommerceApplication in 1.739 seconds (process running for 1736.01)
18:37:48.563 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:39:56.587 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:39:56.592 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:39:56.610 | INFO | GracefulShutdown: Graceful shutdown complete
18:39:56.622 | WARN | RedisChannelHandler: Connection is already closed
18:39:56.623 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:39:56.642 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:39:56.645 | INFO | HikariDataSource: HikariPool-24 - Shutdown initiated...
18:39:56.664 | INFO | HikariDataSource: HikariPool-24 - Shutdown completed.
18:39:56.945 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:39:56.946 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:39:57.181 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:39:57.182 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:39:57.222 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
18:39:57.226 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:39:57.226 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:39:57.233 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.233 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.233 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.234 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.234 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.235 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.235 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:39:57.235 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
18:39:57.362 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:39:57.365 | INFO | StandardService: Starting service [Tomcat]
18:39:57.365 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:39:57.389 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:39:57.389 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 441 ms
18:39:57.431 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:39:57.434 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:39:57.441 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:39:57.441 | INFO | HikariDataSource: HikariPool-25 - Starting...
18:39:57.458 | INFO | HikariPool: HikariPool-25 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a479d85
18:39:57.458 | INFO | HikariDataSource: HikariPool-25 - Start completed.
18:39:57.459 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:39:57.461 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-25)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:39:57.543 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:39:57.646 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:39:57.856 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:39:57.877 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:39:57.880 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:39:57.988 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:39:58.024 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:39:58.149 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:39:58.175 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:39:58.178 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:39:58.180 | INFO | BookommerceApplication: Started BookommerceApplication in 1.282 seconds (process running for 1865.628)
18:39:58.182 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:43:52.022 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:43:52.110 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:43:52.134 | INFO | GracefulShutdown: Graceful shutdown complete
18:43:52.152 | WARN | RedisChannelHandler: Connection is already closed
18:43:52.153 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:43:52.172 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:43:52.181 | INFO | HikariDataSource: HikariPool-25 - Shutdown initiated...
18:43:52.192 | INFO | HikariDataSource: HikariPool-25 - Shutdown completed.
18:43:52.692 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:43:52.693 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:43:53.057 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:43:53.057 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:43:53.106 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
18:43:53.111 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:43:53.111 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:43:53.121 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.121 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.122 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.122 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.123 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.123 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.124 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:43:53.124 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
18:43:53.267 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:43:53.268 | INFO | StandardService: Starting service [Tomcat]
18:43:53.269 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:43:53.288 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:43:53.288 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 593 ms
18:43:53.348 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:43:53.353 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:43:53.366 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:43:53.368 | INFO | HikariDataSource: HikariPool-26 - Starting...
18:43:53.467 | INFO | HikariPool: HikariPool-26 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2058f12c
18:43:53.467 | INFO | HikariDataSource: HikariPool-26 - Start completed.
18:43:53.470 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:43:53.470 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-26)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:43:53.636 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:43:53.782 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:43:54.057 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:43:54.083 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:43:54.088 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:43:54.258 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:43:54.318 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:43:54.506 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:43:54.546 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:43:54.551 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:43:54.556 | INFO | BookommerceApplication: Started BookommerceApplication in 1.902 seconds (process running for 2102.003)
18:43:54.557 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:44:39.350 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
18:44:39.355 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
18:44:39.375 | INFO | GracefulShutdown: Graceful shutdown complete
18:44:39.383 | WARN | RedisChannelHandler: Connection is already closed
18:44:39.385 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
18:44:39.398 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
18:44:39.400 | INFO | HikariDataSource: HikariPool-26 - Shutdown initiated...
18:44:39.413 | INFO | HikariDataSource: HikariPool-26 - Shutdown completed.
18:44:39.614 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
18:44:39.615 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
18:44:39.868 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:44:39.868 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:44:39.902 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 7 JPA repository interfaces.
18:44:39.905 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
18:44:39.905 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
18:44:39.914 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.914 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.915 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.915 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.915 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.915 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.915 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
18:44:39.917 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
18:44:40.068 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
18:44:40.070 | INFO | StandardService: Starting service [Tomcat]
18:44:40.070 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
18:44:40.115 | INFO | [/]: Initializing Spring embedded WebApplicationContext
18:44:40.115 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 498 ms
18:44:40.181 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
18:44:40.187 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
18:44:40.197 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
18:44:40.199 | INFO | HikariDataSource: HikariPool-27 - Starting...
18:44:40.223 | INFO | HikariPool: HikariPool-27 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4783caee
18:44:40.225 | INFO | HikariDataSource: HikariPool-27 - Start completed.
18:44:40.227 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:44:40.228 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-27)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
18:44:40.438 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:44:40.511 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
18:44:40.711 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
18:44:40.730 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
18:44:40.734 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
18:44:40.847 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
18:44:40.890 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
18:44:40.971 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
18:44:41.023 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
18:44:41.029 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
18:44:41.034 | INFO | BookommerceApplication: Started BookommerceApplication in 1.442 seconds (process running for 2148.482)
18:44:41.036 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
18:45:00.179 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
18:45:00.180 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
18:45:00.186 | INFO | DispatcherServlet: Completed initialization in 5 ms
18:45:00.197 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:45:01.054 | DEBUG | OpaqueTokenAuthenticationProvider: Failed to authenticate since token was invalid
18:45:01.071 | DEBUG | ProviderManager: Authentication failed with provider OpaqueTokenAuthenticationProvider since Provided token isn't active
18:46:02.512 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:46:03.698 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:46:03.702 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6e47b4e8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:46:03.706 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
18:46:03.836 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto): [Field error in object 'updateMyProfileAvatarRequestDto' on field 'image': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@5db51699]; codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto.image,ValidUpdateBookImage.image,ValidUpdateBookImage.org.springframework.web.multipart.MultipartFile,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto.image,image]; arguments []; default message [image]]; default message [A blank file is not allowed]] ]
18:46:24.626 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:46:25.698 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:46:25.713 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6f8476f8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:46:25.714 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
18:46:25.721 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto): [Field error in object 'updateMyProfileAvatarRequestDto' on field 'image': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@657c1d88]; codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto.image,ValidUpdateBookImage.image,ValidUpdateBookImage.org.springframework.web.multipart.MultipartFile,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto.image,image]; arguments []; default message [image]]; default message [A blank file is not allowed]] ]
18:46:35.623 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
18:46:36.497 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
18:46:36.498 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5e76f627, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
18:46:36.499 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
18:46:36.518 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto): [Error in object 'updateMyProfileAvatarRequestDto': codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto]; arguments []; default message []]; default message [Image URL path: [abc] is not allowed]] ]
19:26:39.883 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.dao.QueryTimeoutException: Redis command timed out
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:68) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisCommandTimeoutException: XREADGROUP. Command timed out after 1 minute(s)
	at io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:75) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandExpiryWriter.lambda$null$0(CommandExpiryWriter.java:183) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:96) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:27:07.679 | WARN | HikariPool: HikariPool-27 - Thread starvation or clock leap detected (housekeeper delta=40m3s655ms223s).
19:29:06.318 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:29:06.474 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:29:06.507 | INFO | GracefulShutdown: Graceful shutdown complete
19:29:06.673 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:29:06.742 | INFO | HikariDataSource: HikariPool-27 - Shutdown initiated...
19:29:06.763 | INFO | HikariDataSource: HikariPool-27 - Shutdown completed.
19:29:08.489 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:29:08.491 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:29:08.867 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:29:08.867 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:29:08.904 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
19:29:08.909 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:29:08.909 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:29:08.917 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.918 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.918 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.919 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.920 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:08.920 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
19:29:09.141 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:29:09.144 | INFO | StandardService: Starting service [Tomcat]
19:29:09.144 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:29:09.173 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:29:09.173 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 675 ms
19:29:09.262 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:29:09.268 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:29:09.293 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:29:09.295 | INFO | HikariDataSource: HikariPool-28 - Starting...
19:29:09.329 | INFO | HikariPool: HikariPool-28 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20175d2e
19:29:09.329 | INFO | HikariDataSource: HikariPool-28 - Start completed.
19:29:09.337 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:29:09.338 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-28)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:29:09.601 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:29:09.794 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:29:10.121 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:29:10.165 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:29:10.173 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:29:10.394 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:29:10.496 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:29:10.656 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:29:10.767 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:29:10.772 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:29:10.783 | INFO | BookommerceApplication: Started BookommerceApplication in 2.417 seconds (process running for 4824.595)
19:29:10.787 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:29:19.535 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:29:19.539 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:29:19.566 | INFO | GracefulShutdown: Graceful shutdown complete
19:29:19.573 | WARN | RedisChannelHandler: Connection is already closed
19:29:19.575 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:29:19.591 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:29:19.593 | INFO | HikariDataSource: HikariPool-28 - Shutdown initiated...
19:29:19.605 | INFO | HikariDataSource: HikariPool-28 - Shutdown completed.
19:29:19.847 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:29:19.848 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:29:20.099 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:29:20.100 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:29:20.136 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
19:29:20.140 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:29:20.141 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:29:20.150 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.150 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.151 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.152 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.152 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.153 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.153 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:20.153 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
19:29:20.300 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:29:20.301 | INFO | StandardService: Starting service [Tomcat]
19:29:20.302 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:29:20.323 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:29:20.323 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 471 ms
19:29:20.364 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:29:20.367 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:29:20.378 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:29:20.379 | INFO | HikariDataSource: HikariPool-29 - Starting...
19:29:20.400 | INFO | HikariPool: HikariPool-29 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49287f15
19:29:20.400 | INFO | HikariDataSource: HikariPool-29 - Start completed.
19:29:20.403 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:29:20.404 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-29)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:29:20.559 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:29:20.650 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:29:20.894 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:29:20.915 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:29:20.918 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:29:21.019 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:29:21.063 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:29:21.172 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:29:21.204 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:29:21.209 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:29:21.214 | INFO | BookommerceApplication: Started BookommerceApplication in 1.395 seconds (process running for 4835.026)
19:29:21.216 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:29:35.304 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:29:35.309 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:29:35.334 | INFO | GracefulShutdown: Graceful shutdown complete
19:29:35.342 | WARN | RedisChannelHandler: Connection is already closed
19:29:35.347 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:29:35.367 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:29:35.368 | INFO | HikariDataSource: HikariPool-29 - Shutdown initiated...
19:29:35.383 | INFO | HikariDataSource: HikariPool-29 - Shutdown completed.
19:29:35.610 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:29:35.611 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:29:35.843 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:29:35.844 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:29:35.869 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 7 JPA repository interfaces.
19:29:35.871 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:29:35.872 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:29:35.877 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.878 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.878 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.879 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.879 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.879 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.879 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:29:35.879 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
19:29:36.042 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:29:36.043 | INFO | StandardService: Starting service [Tomcat]
19:29:36.044 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:29:36.077 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:29:36.078 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 465 ms
19:29:36.153 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:29:36.157 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:29:36.167 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:29:36.170 | INFO | HikariDataSource: HikariPool-30 - Starting...
19:29:36.189 | INFO | HikariPool: HikariPool-30 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d52bade
19:29:36.189 | INFO | HikariDataSource: HikariPool-30 - Start completed.
19:29:36.192 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:29:36.192 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-30)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:29:36.306 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:29:36.372 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:29:36.541 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:29:36.560 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:29:36.564 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:29:36.691 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:29:36.730 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:29:36.828 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:29:36.872 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:29:36.879 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:29:36.882 | INFO | BookommerceApplication: Started BookommerceApplication in 1.31 seconds (process running for 4850.695)
19:29:36.885 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:31:22.959 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
19:31:22.961 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
19:31:22.968 | INFO | DispatcherServlet: Completed initialization in 7 ms
19:31:22.973 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:31:24.087 | DEBUG | OpaqueTokenAuthenticationProvider: Failed to authenticate since token was invalid
19:31:24.090 | DEBUG | ProviderManager: Authentication failed with provider OpaqueTokenAuthenticationProvider since Provided token isn't active
19:32:14.496 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:32:15.479 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:32:15.482 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@55e35a0f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:32:15.486 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:32:15.625 | WARN | DefaultHandlerExceptionResolver: Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
19:32:15.630 | DEBUG | FilterChainProxy: Securing PATCH /error
19:32:15.633 | DEBUG | FilterChainProxy: Secured PATCH /error
19:32:15.635 | WARN | DefaultHandlerExceptionResolver: Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
19:33:06.348 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:33:06.649 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:33:06.650 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@14c5d0b4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:33:06.651 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:33:06.674 | WARN | DefaultHandlerExceptionResolver: Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
19:33:06.675 | DEBUG | FilterChainProxy: Securing PATCH /error
19:33:06.675 | DEBUG | FilterChainProxy: Secured PATCH /error
19:33:06.677 | WARN | DefaultHandlerExceptionResolver: Resolved [org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded]
19:33:35.306 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:33:35.649 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:33:35.649 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@31511c8a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:33:35.650 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:33:35.696 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto): [Error in object 'updateMyProfileAvatarRequestDto': codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto]; arguments []; default message []]; default message [Content-Type: application/x-msdownload is not allowed]] ]
19:34:06.337 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:34:06.346 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:34:06.354 | INFO | GracefulShutdown: Graceful shutdown complete
19:34:06.359 | WARN | RedisChannelHandler: Connection is already closed
19:34:06.361 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:34:06.381 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:34:06.387 | INFO | HikariDataSource: HikariPool-30 - Shutdown initiated...
19:34:06.394 | INFO | HikariDataSource: HikariPool-30 - Shutdown completed.
19:34:06.743 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:34:06.745 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:34:06.982 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:06.982 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:34:07.005 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 22 ms. Found 7 JPA repository interfaces.
19:34:07.008 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:07.009 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:34:07.014 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.014 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.014 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.014 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.015 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.015 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.016 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:07.016 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:34:07.157 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:34:07.159 | INFO | StandardService: Starting service [Tomcat]
19:34:07.159 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:34:07.188 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:34:07.188 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 440 ms
19:34:07.275 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:34:07.283 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:34:07.295 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:34:07.298 | INFO | HikariDataSource: HikariPool-31 - Starting...
19:34:07.325 | INFO | HikariPool: HikariPool-31 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24b1f273
19:34:07.326 | INFO | HikariDataSource: HikariPool-31 - Start completed.
19:34:07.329 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:34:07.330 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-31)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:34:07.523 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:34:07.562 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:34:07.897 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:34:07.919 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:34:07.923 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:34:08.070 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:34:08.126 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:34:08.344 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:34:08.383 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:34:08.388 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:34:08.394 | INFO | BookommerceApplication: Started BookommerceApplication in 1.705 seconds (process running for 5122.206)
19:34:08.396 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:34:09.812 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:34:09.814 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:34:09.821 | INFO | GracefulShutdown: Graceful shutdown complete
19:34:09.824 | WARN | RedisChannelHandler: Connection is already closed
19:34:09.826 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:34:09.835 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:34:09.835 | INFO | HikariDataSource: HikariPool-31 - Shutdown initiated...
19:34:09.840 | INFO | HikariDataSource: HikariPool-31 - Shutdown completed.
19:34:09.991 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:34:09.992 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:34:10.131 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:10.132 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:34:10.152 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 7 JPA repository interfaces.
19:34:10.155 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:10.155 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:34:10.159 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.160 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.160 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.160 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.160 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.160 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.161 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:10.161 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:34:10.243 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:34:10.244 | INFO | StandardService: Starting service [Tomcat]
19:34:10.244 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:34:10.257 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:34:10.257 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 264 ms
19:34:10.284 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:34:10.285 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:34:10.289 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:34:10.291 | INFO | HikariDataSource: HikariPool-32 - Starting...
19:34:10.308 | INFO | HikariPool: HikariPool-32 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1faf6808
19:34:10.309 | INFO | HikariDataSource: HikariPool-32 - Start completed.
19:34:10.310 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:34:10.311 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-32)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:34:10.405 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:34:10.447 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:34:10.606 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:34:10.623 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:34:10.626 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:34:10.725 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:34:10.782 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:34:10.933 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:34:10.982 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:34:10.986 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:34:10.990 | INFO | BookommerceApplication: Started BookommerceApplication in 1.016 seconds (process running for 5124.802)
19:34:10.992 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:34:13.442 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:34:13.442 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:34:13.448 | INFO | GracefulShutdown: Graceful shutdown complete
19:34:13.451 | WARN | RedisChannelHandler: Connection is already closed
19:34:13.451 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:34:13.457 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:34:13.458 | INFO | HikariDataSource: HikariPool-32 - Shutdown initiated...
19:34:13.463 | INFO | HikariDataSource: HikariPool-32 - Shutdown completed.
19:34:13.793 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:34:13.793 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:34:13.912 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:13.912 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:34:13.930 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
19:34:13.932 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:13.932 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:34:13.936 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.936 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.936 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.937 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.937 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.938 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.938 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:13.938 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
19:34:14.001 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:34:14.003 | INFO | StandardService: Starting service [Tomcat]
19:34:14.003 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:34:14.017 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:34:14.017 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 222 ms
19:34:14.047 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:34:14.048 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:34:14.053 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:34:14.054 | INFO | HikariDataSource: HikariPool-33 - Starting...
19:34:14.063 | INFO | HikariPool: HikariPool-33 - Added connection com.mysql.cj.jdbc.ConnectionImpl@35ca1736
19:34:14.064 | INFO | HikariDataSource: HikariPool-33 - Start completed.
19:34:14.066 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:34:14.066 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-33)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:34:14.153 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:34:14.187 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:34:14.297 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:34:14.310 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:34:14.313 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:34:14.369 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:34:14.394 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:34:14.466 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:34:14.490 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:34:14.493 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:34:14.495 | INFO | BookommerceApplication: Started BookommerceApplication in 0.721 seconds (process running for 5128.307)
19:34:14.496 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:34:21.049 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:34:21.052 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:34:21.055 | INFO | GracefulShutdown: Graceful shutdown complete
19:34:21.058 | WARN | RedisChannelHandler: Connection is already closed
19:34:21.058 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:34:21.065 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:34:21.066 | INFO | HikariDataSource: HikariPool-33 - Shutdown initiated...
19:34:21.070 | INFO | HikariDataSource: HikariPool-33 - Shutdown completed.
19:34:21.234 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:34:21.235 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:34:21.445 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:21.445 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:34:21.478 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 7 JPA repository interfaces.
19:34:21.482 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:34:21.482 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:34:21.487 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.488 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.490 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.491 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.491 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.491 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.492 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:34:21.492 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
19:34:21.588 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:34:21.588 | INFO | StandardService: Starting service [Tomcat]
19:34:21.588 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:34:21.608 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:34:21.608 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 371 ms
19:34:21.650 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:34:21.652 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:34:21.664 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:34:21.665 | INFO | HikariDataSource: HikariPool-34 - Starting...
19:34:21.676 | INFO | HikariPool: HikariPool-34 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4139d10b
19:34:21.677 | INFO | HikariDataSource: HikariPool-34 - Start completed.
19:34:21.679 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:34:21.679 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-34)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:34:21.777 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:34:21.817 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:34:21.955 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:34:21.970 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:34:21.973 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:34:22.040 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:34:22.069 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:34:22.178 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:34:22.208 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:34:22.213 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:34:22.216 | INFO | BookommerceApplication: Started BookommerceApplication in 1.004 seconds (process running for 5136.028)
19:34:22.217 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:35:02.729 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:35:02.731 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:35:02.737 | INFO | GracefulShutdown: Graceful shutdown complete
19:35:02.739 | WARN | RedisChannelHandler: Connection is already closed
19:35:02.740 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:35:02.744 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:35:02.745 | INFO | HikariDataSource: HikariPool-34 - Shutdown initiated...
19:35:02.750 | INFO | HikariDataSource: HikariPool-34 - Shutdown completed.
19:35:02.923 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:35:02.924 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:35:03.111 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:35:03.112 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:35:03.134 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 7 JPA repository interfaces.
19:35:03.136 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:35:03.137 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:35:03.141 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.142 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.143 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.143 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:35:03.143 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
19:35:03.245 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:35:03.246 | INFO | StandardService: Starting service [Tomcat]
19:35:03.246 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:35:03.263 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:35:03.263 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 337 ms
19:35:03.295 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:35:03.298 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:35:03.306 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:35:03.307 | INFO | HikariDataSource: HikariPool-35 - Starting...
19:35:03.321 | INFO | HikariPool: HikariPool-35 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1afa8ab7
19:35:03.322 | INFO | HikariDataSource: HikariPool-35 - Start completed.
19:35:03.323 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:35:03.323 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-35)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:35:03.409 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:35:03.451 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:35:03.640 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:35:03.657 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:35:03.661 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:35:03.728 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:35:03.752 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:35:03.846 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:35:03.877 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:35:03.882 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:35:03.885 | INFO | BookommerceApplication: Started BookommerceApplication in 0.988 seconds (process running for 5177.697)
19:35:03.886 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:35:05.762 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
19:35:05.764 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
19:35:05.766 | INFO | DispatcherServlet: Completed initialization in 2 ms
19:35:05.768 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:35:06.112 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:35:06.113 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4a8db511, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:35:06.114 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:35:06.162 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto): [Field error in object 'updateMyProfileAvatarRequestDto' on field 'image': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@d4678bb]; codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto.image,ValidUpdateBookImage.image,ValidUpdateBookImage.org.springframework.web.multipart.MultipartFile,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto.image,image]; arguments []; default message [image]]; default message [Content-Type: application/x-msdownload is not allowed]] ]
19:35:14.958 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:35:15.230 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:35:15.231 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6324beb9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:35:15.232 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:35:15.254 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto): [Field error in object 'updateMyProfileAvatarRequestDto' on field 'image': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@69dcd5c9]; codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto.image,ValidUpdateBookImage.image,ValidUpdateBookImage.org.springframework.web.multipart.MultipartFile,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto.image,image]; arguments []; default message [image]]; default message [Content-Type: application/x-msdownload is not allowed]] ]
19:37:40.320 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
19:37:40.323 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:37:40.329 | INFO | GracefulShutdown: Graceful shutdown complete
19:37:40.335 | WARN | RedisChannelHandler: Connection is already closed
19:37:40.336 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:37:40.343 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:37:40.348 | INFO | HikariDataSource: HikariPool-35 - Shutdown initiated...
19:37:40.353 | INFO | HikariDataSource: HikariPool-35 - Shutdown completed.
19:37:40.596 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:37:40.597 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:37:40.770 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:37:40.771 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:37:40.798 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
19:37:40.803 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:37:40.804 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:37:40.811 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.811 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.813 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.813 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.813 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.814 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.814 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:37:40.814 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
19:37:40.925 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:37:40.926 | INFO | StandardService: Starting service [Tomcat]
19:37:40.926 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:37:40.944 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:37:40.944 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 345 ms
19:37:40.973 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:37:40.976 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:37:40.984 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:37:40.985 | INFO | HikariDataSource: HikariPool-36 - Starting...
19:37:40.998 | INFO | HikariPool: HikariPool-36 - Added connection com.mysql.cj.jdbc.ConnectionImpl@9e33b1c
19:37:40.999 | INFO | HikariDataSource: HikariPool-36 - Start completed.
19:37:41.000 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:37:41.001 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-36)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:37:41.105 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:37:41.151 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:37:41.321 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:37:41.336 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:37:41.337 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:37:41.391 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:37:41.414 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:37:41.507 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:37:41.535 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:37:41.538 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:37:41.541 | INFO | BookommerceApplication: Started BookommerceApplication in 0.977 seconds (process running for 5335.353)
19:37:41.542 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:38:08.671 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:38:08.676 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:38:08.683 | INFO | GracefulShutdown: Graceful shutdown complete
19:38:08.687 | WARN | RedisChannelHandler: Connection is already closed
19:38:08.691 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:38:08.688 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:38:08.692 | INFO | HikariDataSource: HikariPool-36 - Shutdown initiated...
19:38:08.697 | INFO | HikariDataSource: HikariPool-36 - Shutdown completed.
19:38:08.880 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:38:08.880 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:38:09.017 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:38:09.018 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:38:09.038 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 7 JPA repository interfaces.
19:38:09.041 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:38:09.041 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:38:09.045 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.046 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.046 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.046 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.046 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.047 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.047 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:38:09.047 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:38:09.126 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:38:09.127 | INFO | StandardService: Starting service [Tomcat]
19:38:09.127 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:38:09.143 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:38:09.143 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 262 ms
19:38:09.175 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:38:09.176 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:38:09.182 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:38:09.183 | INFO | HikariDataSource: HikariPool-37 - Starting...
19:38:09.195 | INFO | HikariPool: HikariPool-37 - Added connection com.mysql.cj.jdbc.ConnectionImpl@206d8823
19:38:09.195 | INFO | HikariDataSource: HikariPool-37 - Start completed.
19:38:09.197 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:38:09.197 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-37)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:38:09.267 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:38:09.297 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:38:09.439 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:38:09.453 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:38:09.457 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:38:09.520 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:38:09.564 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:38:09.695 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:38:09.740 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:38:09.745 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:38:09.748 | INFO | BookommerceApplication: Started BookommerceApplication in 0.889 seconds (process running for 5363.56)
19:38:09.749 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:44:18.539 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:44:18.565 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:44:18.575 | INFO | GracefulShutdown: Graceful shutdown complete
19:44:18.590 | WARN | RedisChannelHandler: Connection is already closed
19:44:18.591 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:44:18.627 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:44:18.636 | INFO | HikariDataSource: HikariPool-37 - Shutdown initiated...
19:44:18.658 | INFO | HikariDataSource: HikariPool-37 - Shutdown completed.
19:44:19.123 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:44:19.124 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:44:19.328 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:19.329 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:44:19.356 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 7 JPA repository interfaces.
19:44:19.359 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:19.359 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:44:19.364 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.364 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.364 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.365 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.365 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.365 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.365 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:19.365 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:44:19.440 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:44:19.441 | INFO | StandardService: Starting service [Tomcat]
19:44:19.441 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:44:19.455 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:44:19.456 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 329 ms
19:44:19.481 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:44:19.482 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:44:19.489 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:44:19.490 | INFO | HikariDataSource: HikariPool-38 - Starting...
19:44:19.517 | INFO | HikariPool: HikariPool-38 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3d6e854f
19:44:19.518 | INFO | HikariDataSource: HikariPool-38 - Start completed.
19:44:19.519 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:44:19.519 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-38)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:44:19.734 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:44:19.870 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:44:20.033 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:44:20.051 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:44:20.053 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:44:20.130 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:44:20.161 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:44:20.242 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:44:20.267 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:44:20.272 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:44:20.274 | INFO | BookommerceApplication: Started BookommerceApplication in 1.188 seconds (process running for 5734.087)
19:44:20.276 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:44:36.120 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:44:36.122 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:44:36.127 | INFO | GracefulShutdown: Graceful shutdown complete
19:44:36.130 | WARN | RedisChannelHandler: Connection is already closed
19:44:36.131 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:44:36.137 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:44:36.138 | INFO | HikariDataSource: HikariPool-38 - Shutdown initiated...
19:44:36.144 | INFO | HikariDataSource: HikariPool-38 - Shutdown completed.
19:44:36.330 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:44:36.330 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:44:36.522 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:36.523 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:44:36.542 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
19:44:36.544 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:44:36.544 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:44:36.547 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.547 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.547 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.548 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.548 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.548 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.548 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:44:36.548 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
19:44:36.611 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:44:36.611 | INFO | StandardService: Starting service [Tomcat]
19:44:36.611 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:44:36.626 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:44:36.626 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 293 ms
19:44:36.649 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:44:36.650 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:44:36.655 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:44:36.656 | INFO | HikariDataSource: HikariPool-39 - Starting...
19:44:36.667 | INFO | HikariPool: HikariPool-39 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a0a61db
19:44:36.668 | INFO | HikariDataSource: HikariPool-39 - Start completed.
19:44:36.669 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:44:36.670 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-39)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:44:36.728 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:44:36.750 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:44:36.862 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:44:36.876 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:44:36.879 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:44:36.936 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:44:36.961 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:44:37.026 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:44:37.054 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:44:37.059 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:44:37.061 | INFO | BookommerceApplication: Started BookommerceApplication in 0.762 seconds (process running for 5750.873)
19:44:37.062 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:46:12.156 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:46:12.159 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:46:12.165 | INFO | GracefulShutdown: Graceful shutdown complete
19:46:12.169 | WARN | RedisChannelHandler: Connection is already closed
19:46:12.170 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:46:12.178 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:46:12.179 | INFO | HikariDataSource: HikariPool-39 - Shutdown initiated...
19:46:12.188 | INFO | HikariDataSource: HikariPool-39 - Shutdown completed.
19:46:12.381 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:46:12.382 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:46:12.537 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:46:12.537 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:46:12.557 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
19:46:12.559 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:46:12.560 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:46:12.563 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.563 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.564 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:46:12.565 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
19:46:12.641 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:46:12.642 | INFO | StandardService: Starting service [Tomcat]
19:46:12.642 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:46:12.656 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:46:12.656 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 272 ms
19:46:12.686 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:46:12.688 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:46:12.696 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:46:12.697 | INFO | HikariDataSource: HikariPool-40 - Starting...
19:46:12.710 | INFO | HikariPool: HikariPool-40 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41729050
19:46:12.710 | INFO | HikariDataSource: HikariPool-40 - Start completed.
19:46:12.712 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:46:12.712 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-40)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:46:12.778 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:46:12.821 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:46:12.982 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:46:13.005 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:46:13.009 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:46:13.103 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:46:13.137 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:46:13.231 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:46:13.259 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:46:13.264 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:46:13.266 | INFO | BookommerceApplication: Started BookommerceApplication in 0.914 seconds (process running for 5847.079)
19:46:13.268 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:48:06.003 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:48:06.005 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:48:06.009 | INFO | GracefulShutdown: Graceful shutdown complete
19:48:06.017 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:48:06.018 | INFO | HikariDataSource: HikariPool-40 - Shutdown initiated...
19:48:06.024 | INFO | HikariDataSource: HikariPool-40 - Shutdown completed.
19:48:06.223 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:48:06.224 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:48:06.386 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:48:06.386 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:48:06.413 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
19:48:06.416 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:48:06.416 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:48:06.420 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.420 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.420 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.420 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.421 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.422 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.422 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:06.422 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:48:06.507 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:48:06.508 | INFO | StandardService: Starting service [Tomcat]
19:48:06.508 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:48:06.527 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:48:06.527 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 301 ms
19:48:06.562 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:48:06.564 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:48:06.569 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:48:06.570 | INFO | HikariDataSource: HikariPool-41 - Starting...
19:48:06.582 | INFO | HikariPool: HikariPool-41 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60411017
19:48:06.582 | INFO | HikariDataSource: HikariPool-41 - Start completed.
19:48:06.584 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:48:06.585 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-41)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:48:06.655 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:48:06.682 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:48:06.800 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:48:06.813 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:48:06.815 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:48:06.868 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:48:06.891 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:48:06.959 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:48:06.985 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:48:06.988 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:48:06.992 | INFO | BookommerceApplication: Started BookommerceApplication in 0.801 seconds (process running for 5960.804)
19:48:06.994 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:48:19.781 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:48:19.783 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:48:19.787 | INFO | GracefulShutdown: Graceful shutdown complete
19:48:19.789 | WARN | RedisChannelHandler: Connection is already closed
19:48:19.790 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:48:19.795 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:48:19.795 | INFO | HikariDataSource: HikariPool-41 - Shutdown initiated...
19:48:19.801 | INFO | HikariDataSource: HikariPool-41 - Shutdown completed.
19:48:20.002 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:48:20.003 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:48:20.170 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:48:20.170 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:48:20.190 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 7 JPA repository interfaces.
19:48:20.192 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:48:20.192 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.197 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:20.198 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
19:48:20.267 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:48:20.268 | INFO | StandardService: Starting service [Tomcat]
19:48:20.269 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:48:20.283 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:48:20.284 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 254 ms
19:48:20.306 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:48:20.308 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:48:20.313 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:48:20.315 | INFO | HikariDataSource: HikariPool-42 - Starting...
19:48:20.323 | INFO | HikariPool: HikariPool-42 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1cf46891
19:48:20.323 | INFO | HikariDataSource: HikariPool-42 - Start completed.
19:48:20.324 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:48:20.324 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-42)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:48:20.393 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:48:20.431 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:48:20.579 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:48:20.597 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:48:20.599 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:48:20.661 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:48:20.688 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:48:20.771 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:48:20.800 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:48:20.802 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:48:20.807 | INFO | BookommerceApplication: Started BookommerceApplication in 0.854 seconds (process running for 5974.619)
19:48:20.808 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:48:29.458 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:48:29.462 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:48:29.470 | INFO | GracefulShutdown: Graceful shutdown complete
19:48:29.473 | WARN | RedisChannelHandler: Connection is already closed
19:48:29.473 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:48:29.477 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:48:29.477 | INFO | HikariDataSource: HikariPool-42 - Shutdown initiated...
19:48:29.481 | INFO | HikariDataSource: HikariPool-42 - Shutdown completed.
19:48:29.657 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:48:29.658 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:48:29.843 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:48:29.844 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:48:29.864 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 7 JPA repository interfaces.
19:48:29.867 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:48:29.867 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:48:29.871 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.872 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.872 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.873 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.873 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.873 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.873 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:48:29.873 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
19:48:29.957 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:48:29.958 | INFO | StandardService: Starting service [Tomcat]
19:48:29.958 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:48:29.973 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:48:29.974 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 315 ms
19:48:30.002 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:48:30.005 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:48:30.010 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:48:30.011 | INFO | HikariDataSource: HikariPool-43 - Starting...
19:48:30.021 | INFO | HikariPool: HikariPool-43 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79f79a37
19:48:30.021 | INFO | HikariDataSource: HikariPool-43 - Start completed.
19:48:30.023 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:48:30.023 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-43)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:48:30.097 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:48:30.142 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:48:30.305 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:48:30.329 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:48:30.333 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:48:30.409 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:48:30.443 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:48:30.528 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:48:30.564 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:48:30.571 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:48:30.575 | INFO | BookommerceApplication: Started BookommerceApplication in 0.938 seconds (process running for 5984.387)
19:48:30.576 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:49:01.882 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
19:49:01.885 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:49:01.892 | INFO | GracefulShutdown: Graceful shutdown complete
19:49:01.895 | WARN | RedisChannelHandler: Connection is already closed
19:49:01.896 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:49:01.908 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:49:01.908 | INFO | HikariDataSource: HikariPool-43 - Shutdown initiated...
19:49:01.913 | INFO | HikariDataSource: HikariPool-43 - Shutdown completed.
19:49:02.244 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:49:02.249 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:49:02.545 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:49:02.546 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:49:02.582 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
19:49:02.586 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:49:02.587 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:49:02.594 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.595 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.595 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.595 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.595 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.595 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.596 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:02.596 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
19:49:02.731 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:49:02.732 | INFO | StandardService: Starting service [Tomcat]
19:49:02.733 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:49:02.764 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:49:02.764 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 499 ms
19:49:02.819 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:49:02.823 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:49:02.833 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:49:02.834 | INFO | HikariDataSource: HikariPool-44 - Starting...
19:49:02.853 | INFO | HikariPool: HikariPool-44 - Added connection com.mysql.cj.jdbc.ConnectionImpl@674089f4
19:49:02.855 | INFO | HikariDataSource: HikariPool-44 - Start completed.
19:49:02.857 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:49:02.857 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-44)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:49:02.974 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:49:03.032 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:49:03.188 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:49:03.208 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:49:03.211 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:49:03.285 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:49:03.318 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:49:03.406 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:49:03.433 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:49:03.437 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:49:03.441 | INFO | BookommerceApplication: Started BookommerceApplication in 1.253 seconds (process running for 6017.253)
19:49:03.442 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:49:11.111 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:49:11.116 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:49:11.128 | INFO | GracefulShutdown: Graceful shutdown complete
19:49:11.133 | WARN | RedisChannelHandler: Connection is already closed
19:49:11.134 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:49:11.143 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:49:11.144 | INFO | HikariDataSource: HikariPool-44 - Shutdown initiated...
19:49:11.154 | INFO | HikariDataSource: HikariPool-44 - Shutdown completed.
19:49:11.427 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:49:11.428 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:49:11.661 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:49:11.662 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:49:11.689 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 7 JPA repository interfaces.
19:49:11.691 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:49:11.692 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:49:11.697 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.698 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.698 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.698 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.699 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.699 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.699 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:49:11.699 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
19:49:11.794 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:49:11.795 | INFO | StandardService: Starting service [Tomcat]
19:49:11.795 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:49:11.815 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:49:11.815 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 384 ms
19:49:11.848 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:49:11.850 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:49:11.857 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:49:11.859 | INFO | HikariDataSource: HikariPool-45 - Starting...
19:49:11.875 | INFO | HikariPool: HikariPool-45 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3266876
19:49:11.876 | INFO | HikariDataSource: HikariPool-45 - Start completed.
19:49:11.878 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:49:11.878 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-45)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:49:11.978 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:49:12.033 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:49:12.196 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:49:12.218 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:49:12.222 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:49:12.389 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:49:12.512 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:49:12.758 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:49:12.853 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:49:12.858 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:49:12.868 | INFO | BookommerceApplication: Started BookommerceApplication in 1.48 seconds (process running for 6026.68)
19:49:12.872 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:51:05.459 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:51:05.470 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:51:05.479 | INFO | GracefulShutdown: Graceful shutdown complete
19:51:05.488 | WARN | RedisChannelHandler: Connection is already closed
19:51:05.489 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:51:05.497 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:51:05.503 | INFO | HikariDataSource: HikariPool-45 - Shutdown initiated...
19:51:05.510 | INFO | HikariDataSource: HikariPool-45 - Shutdown completed.
19:51:05.804 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:51:05.806 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:51:06.039 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:51:06.039 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:51:06.057 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 7 JPA repository interfaces.
19:51:06.059 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:51:06.059 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:51:06.062 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:51:06.064 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
19:51:06.135 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:51:06.136 | INFO | StandardService: Starting service [Tomcat]
19:51:06.136 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:51:06.151 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:51:06.151 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 338 ms
19:51:06.177 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:51:06.179 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:51:06.184 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:51:06.185 | INFO | HikariDataSource: HikariPool-46 - Starting...
19:51:06.194 | INFO | HikariPool: HikariPool-46 - Added connection com.mysql.cj.jdbc.ConnectionImpl@158d153e
19:51:06.194 | INFO | HikariDataSource: HikariPool-46 - Start completed.
19:51:06.195 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:51:06.195 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-46)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:51:06.253 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:51:06.312 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:51:06.418 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:51:06.430 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:51:06.432 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:51:06.489 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:51:06.520 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:51:06.601 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:51:06.624 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:51:06.629 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:51:06.632 | INFO | BookommerceApplication: Started BookommerceApplication in 0.869 seconds (process running for 6140.444)
19:51:06.633 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:52:06.659 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:52:06.662 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:52:06.666 | INFO | GracefulShutdown: Graceful shutdown complete
19:52:06.672 | WARN | RedisChannelHandler: Connection is already closed
19:52:06.673 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:52:06.678 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:52:06.678 | INFO | HikariDataSource: HikariPool-46 - Shutdown initiated...
19:52:06.682 | INFO | HikariDataSource: HikariPool-46 - Shutdown completed.
19:52:06.873 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:52:06.874 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:52:07.018 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:07.018 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:52:07.066 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
19:52:07.071 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:07.071 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:52:07.075 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.075 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.075 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.076 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.076 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.076 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.076 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:07.076 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
19:52:07.156 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:52:07.157 | INFO | StandardService: Starting service [Tomcat]
19:52:07.157 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:52:07.171 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:52:07.171 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 296 ms
19:52:07.192 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:52:07.194 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:52:07.200 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:52:07.202 | INFO | HikariDataSource: HikariPool-47 - Starting...
19:52:07.210 | INFO | HikariPool: HikariPool-47 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4559c483
19:52:07.210 | INFO | HikariDataSource: HikariPool-47 - Start completed.
19:52:07.213 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:52:07.213 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-47)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:52:07.280 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:52:07.316 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:52:07.427 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:52:07.439 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:52:07.441 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:52:07.497 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:52:07.525 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:52:07.600 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:52:07.627 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:52:07.630 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:52:07.632 | INFO | BookommerceApplication: Started BookommerceApplication in 0.777 seconds (process running for 6201.445)
19:52:07.634 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:52:45.171 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
19:52:45.175 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:52:45.185 | INFO | GracefulShutdown: Graceful shutdown complete
19:52:45.189 | WARN | RedisChannelHandler: Connection is already closed
19:52:45.191 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:52:45.200 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:52:45.200 | INFO | HikariDataSource: HikariPool-47 - Shutdown initiated...
19:52:45.206 | INFO | HikariDataSource: HikariPool-47 - Shutdown completed.
19:52:45.488 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:52:45.491 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:52:45.842 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:45.843 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:52:45.873 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 7 JPA repository interfaces.
19:52:45.875 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:45.876 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:52:45.883 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.886 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:45.886 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
19:52:45.984 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:52:45.985 | INFO | StandardService: Starting service [Tomcat]
19:52:45.986 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:52:46.008 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:52:46.008 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 511 ms
19:52:46.047 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:52:46.050 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:52:46.057 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:52:46.057 | INFO | HikariDataSource: HikariPool-48 - Starting...
19:52:46.070 | INFO | HikariPool: HikariPool-48 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a5d3cfd
19:52:46.070 | INFO | HikariDataSource: HikariPool-48 - Start completed.
19:52:46.072 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:52:46.072 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-48)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:52:46.177 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:52:46.243 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:52:46.534 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:52:46.558 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:52:46.563 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:52:46.673 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:52:46.722 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:52:46.820 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:52:46.867 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:52:46.873 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:52:46.876 | INFO | BookommerceApplication: Started BookommerceApplication in 1.444 seconds (process running for 6240.689)
19:52:46.878 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:52:58.559 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
19:52:58.561 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
19:52:58.566 | INFO | GracefulShutdown: Graceful shutdown complete
19:52:58.570 | WARN | RedisChannelHandler: Connection is already closed
19:52:58.572 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
19:52:58.578 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
19:52:58.579 | INFO | HikariDataSource: HikariPool-48 - Shutdown initiated...
19:52:58.584 | INFO | HikariDataSource: HikariPool-48 - Shutdown completed.
19:52:58.798 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
19:52:58.798 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
19:52:58.950 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:58.951 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
19:52:58.979 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 7 JPA repository interfaces.
19:52:58.982 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
19:52:58.982 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
19:52:58.987 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.988 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.988 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.988 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.988 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.989 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.989 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
19:52:58.989 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
19:52:59.072 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
19:52:59.072 | INFO | StandardService: Starting service [Tomcat]
19:52:59.072 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
19:52:59.088 | INFO | [/]: Initializing Spring embedded WebApplicationContext
19:52:59.088 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 288 ms
19:52:59.117 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
19:52:59.119 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
19:52:59.124 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
19:52:59.126 | INFO | HikariDataSource: HikariPool-49 - Starting...
19:52:59.136 | INFO | HikariPool: HikariPool-49 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c5fa71b
19:52:59.136 | INFO | HikariDataSource: HikariPool-49 - Start completed.
19:52:59.138 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
19:52:59.138 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-49)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
19:52:59.202 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
19:52:59.252 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
19:52:59.376 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
19:52:59.398 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
19:52:59.402 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
19:52:59.470 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
19:52:59.495 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
19:52:59.570 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
19:52:59.612 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
19:52:59.618 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
19:52:59.625 | INFO | BookommerceApplication: Started BookommerceApplication in 0.845 seconds (process running for 6253.437)
19:52:59.627 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
19:54:32.424 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
19:54:32.425 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
19:54:32.427 | INFO | DispatcherServlet: Completed initialization in 2 ms
19:54:32.431 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:54:32.755 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:54:32.755 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3b229942, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:54:32.756 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:54:51.142 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
19:54:51.426 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:54:51.427 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@9897520, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:54:51.427 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
19:56:22.257 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
19:56:22.260 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:22.263 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
19:56:22.893 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
19:56:22.903 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:22.906 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
19:56:22.953 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
19:56:22.956 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
19:56:22.960 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:22.958 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:22.968 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
19:56:22.977 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:22.972 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
19:56:22.975 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
19:56:22.984 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
19:56:23.015 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
19:56:23.056 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
19:56:23.058 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:23.058 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:23.059 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
19:56:23.059 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
19:56:23.102 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
19:56:23.138 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:23.156 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
19:56:23.153 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
19:56:23.165 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:23.167 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
19:56:23.169 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
19:56:23.181 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:23.196 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
19:56:23.203 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
19:56:23.203 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
19:56:23.204 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
19:56:25.028 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
19:56:25.393 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
19:56:25.393 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@714c791c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
19:56:25.394 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:01:23.125 | DEBUG | FilterChainProxy: Securing GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:01:23.147 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:23.152 | DEBUG | FilterChainProxy: Secured GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:01:23.517 | DEBUG | FilterChainProxy: Securing GET /error
20:01:23.521 | DEBUG | FilterChainProxy: Secured GET /error
20:01:24.201 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:32.612 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:01:32.613 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:32.615 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:01:33.478 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:01:33.479 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:33.480 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:01:33.736 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:01:33.908 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:33.911 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:01:33.994 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:01:34.010 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:34.046 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:01:34.085 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:01:34.087 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:34.090 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:01:35.002 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:01:35.058 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:35.067 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:01:35.068 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:01:35.081 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:01:35.083 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:01:35.172 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:35.173 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:35.173 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:01:35.175 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:01:35.152 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:01:35.176 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:35.167 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:35.177 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:01:35.177 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:01:35.182 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:01:35.257 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:35.260 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:01:36.650 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:01:37.727 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:01:37.734 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@6cf4c24d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:01:37.735 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:01:38.008 | DEBUG | FilterChainProxy: Securing GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:01:38.018 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:01:38.022 | DEBUG | FilterChainProxy: Secured GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:01:38.269 | DEBUG | FilterChainProxy: Securing GET /error
20:01:38.272 | DEBUG | FilterChainProxy: Secured GET /error
20:01:38.285 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:02:36.703 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
20:02:36.800 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:02:36.824 | INFO | GracefulShutdown: Graceful shutdown complete
20:02:36.874 | WARN | RedisChannelHandler: Connection is already closed
20:02:36.879 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:02:37.107 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:02:37.138 | INFO | HikariDataSource: HikariPool-49 - Shutdown initiated...
20:02:37.161 | INFO | HikariDataSource: HikariPool-49 - Shutdown completed.
20:02:39.194 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:02:39.195 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:02:41.428 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:02:41.429 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:02:41.540 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 105 ms. Found 7 JPA repository interfaces.
20:02:41.545 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:02:41.546 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:02:41.568 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.572 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.573 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.573 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.574 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.576 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.576 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:02:41.577 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
20:02:42.125 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:02:42.133 | INFO | StandardService: Starting service [Tomcat]
20:02:42.134 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:02:42.210 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:02:42.213 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2994 ms
20:02:42.507 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:02:42.526 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:02:42.581 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:02:42.585 | INFO | HikariDataSource: HikariPool-50 - Starting...
20:02:42.924 | INFO | HikariPool: HikariPool-50 - Added connection com.mysql.cj.jdbc.ConnectionImpl@55a9116b
20:02:42.926 | INFO | HikariDataSource: HikariPool-50 - Start completed.
20:02:42.933 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:02:42.936 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-50)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:02:43.417 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:02:43.647 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:02:44.528 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:02:44.595 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:02:44.608 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:02:44.940 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:02:45.078 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:02:45.351 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:02:45.436 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:02:45.447 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:02:45.459 | INFO | BookommerceApplication: Started BookommerceApplication in 6.672 seconds (process running for 6839.271)
20:02:45.463 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:07:26.395 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
20:07:26.421 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
20:07:26.506 | INFO | DispatcherServlet: Completed initialization in 82 ms
20:07:26.586 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:07:26.602 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:26.621 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:07:28.030 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:07:28.041 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.079 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:07:28.175 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:07:28.185 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.196 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:07:28.179 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:07:28.182 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:07:28.191 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:07:28.193 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:07:28.213 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.215 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:07:28.207 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.219 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:07:28.210 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.225 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:07:28.213 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.233 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:07:28.314 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:07:28.346 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.361 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:07:28.367 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:07:28.379 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.367 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:07:28.379 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:07:28.379 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:07:28.379 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.382 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:07:28.382 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:28.395 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:07:33.153 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:07:33.495 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:07:33.496 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@796ce4fa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:07:33.497 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:07:33.867 | DEBUG | FilterChainProxy: Securing GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:07:33.869 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:07:33.869 | DEBUG | FilterChainProxy: Secured GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:08:15.100 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:08:15.389 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:08:15.391 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@77056d9c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:08:15.394 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:08:17.276 | DEBUG | FilterChainProxy: Securing GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:08:17.277 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:08:17.278 | DEBUG | FilterChainProxy: Secured GET /images/avatars/e5943834-32a6-4eb6-9c5e-f900f08e9a44.jpg
20:10:18.204 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:10:18.529 | DEBUG | OpaqueTokenAuthenticationProvider: Failed to authenticate since token was invalid
20:10:18.537 | DEBUG | ProviderManager: Authentication failed with provider OpaqueTokenAuthenticationProvider since Provided token isn't active
20:11:03.661 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:11:03.926 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:11:03.927 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7b6d7a80, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:11:03.930 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:11:24.182 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:11:24.185 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.191 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:11:24.681 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:11:24.711 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.713 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:11:24.755 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:11:24.760 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.764 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:11:24.809 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:11:24.856 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:11:24.890 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:11:24.939 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.902 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.916 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.948 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:11:24.937 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:11:24.957 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.937 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:11:24.974 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:24.948 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:11:24.948 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:11:24.969 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:11:24.988 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:11:25.084 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:11:25.090 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:11:25.096 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:25.096 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:25.096 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:11:25.096 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:11:25.147 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:11:25.148 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:25.149 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:11:26.576 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:11:26.871 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:11:26.872 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7de3d4ed, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:11:26.872 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:11:26.973 | DEBUG | FilterChainProxy: Securing GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:11:26.974 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:26.974 | DEBUG | FilterChainProxy: Secured GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:11:30.114 | DEBUG | FilterChainProxy: Securing GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:11:30.115 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:11:30.115 | DEBUG | FilterChainProxy: Secured GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:14:44.742 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:14:44.772 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:14:44.788 | INFO | GracefulShutdown: Graceful shutdown complete
20:14:44.823 | WARN | RedisChannelHandler: Connection is already closed
20:14:44.826 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:14:44.862 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:14:44.882 | INFO | HikariDataSource: HikariPool-50 - Shutdown initiated...
20:14:44.896 | INFO | HikariDataSource: HikariPool-50 - Shutdown completed.
20:14:45.982 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:14:45.983 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:14:46.190 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:14:46.190 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:14:46.225 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 7 JPA repository interfaces.
20:14:46.229 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:14:46.229 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:14:46.238 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.239 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.240 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.241 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.241 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.241 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.241 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:14:46.242 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
20:14:46.434 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:14:46.436 | INFO | StandardService: Starting service [Tomcat]
20:14:46.436 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:14:46.463 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:14:46.463 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 477 ms
20:14:46.518 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:14:46.522 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:14:46.534 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:14:46.535 | INFO | HikariDataSource: HikariPool-51 - Starting...
20:14:46.552 | INFO | HikariPool: HikariPool-51 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5aa3b76
20:14:46.553 | INFO | HikariDataSource: HikariPool-51 - Start completed.
20:14:46.555 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:14:46.557 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-51)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:14:46.693 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:14:46.790 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:14:47.012 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:14:47.030 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:14:47.033 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:14:47.111 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:14:47.140 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:14:47.233 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:14:47.269 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:14:47.274 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:14:47.319 | INFO | BookommerceApplication: Started BookommerceApplication in 1.403 seconds (process running for 7561.13)
20:14:47.321 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:15:09.250 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:15:09.252 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:15:09.257 | INFO | GracefulShutdown: Graceful shutdown complete
20:15:09.260 | WARN | RedisChannelHandler: Connection is already closed
20:15:09.260 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:15:09.265 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:15:09.266 | INFO | HikariDataSource: HikariPool-51 - Shutdown initiated...
20:15:09.270 | INFO | HikariDataSource: HikariPool-51 - Shutdown completed.
20:15:09.480 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:15:09.480 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:15:09.628 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:15:09.629 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:15:09.646 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 7 JPA repository interfaces.
20:15:09.648 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:15:09.648 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:15:09.652 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.652 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.653 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.653 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.653 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.653 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.653 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:15:09.653 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
20:15:09.718 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:15:09.720 | INFO | StandardService: Starting service [Tomcat]
20:15:09.720 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:15:09.735 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:15:09.735 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 252 ms
20:15:09.759 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:15:09.762 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:15:09.766 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:15:09.767 | INFO | HikariDataSource: HikariPool-52 - Starting...
20:15:09.777 | INFO | HikariPool: HikariPool-52 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ab60bd5
20:15:09.778 | INFO | HikariDataSource: HikariPool-52 - Start completed.
20:15:09.779 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:15:09.780 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-52)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:15:09.849 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:15:09.889 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:15:10.003 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:15:10.015 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:15:10.017 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:15:10.066 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:15:10.090 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:15:10.141 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:15:10.170 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:15:10.173 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:15:10.178 | INFO | BookommerceApplication: Started BookommerceApplication in 0.72 seconds (process running for 7583.99)
20:15:10.179 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:18:11.050 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:18:11.066 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:18:11.081 | INFO | GracefulShutdown: Graceful shutdown complete
20:18:11.092 | WARN | RedisChannelHandler: Connection is already closed
20:18:11.093 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:18:11.104 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:18:11.107 | INFO | HikariDataSource: HikariPool-52 - Shutdown initiated...
20:18:11.119 | INFO | HikariDataSource: HikariPool-52 - Shutdown completed.
20:18:11.571 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:18:11.572 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:18:11.805 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:18:11.806 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:18:11.863 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 56 ms. Found 7 JPA repository interfaces.
20:18:11.869 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:18:11.869 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:18:11.882 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.883 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.883 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.884 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.885 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:18:11.885 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
20:18:12.035 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:18:12.036 | INFO | StandardService: Starting service [Tomcat]
20:18:12.036 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:18:12.067 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:18:12.067 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 492 ms
20:18:12.176 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:18:12.181 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:18:12.201 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:18:12.203 | INFO | HikariDataSource: HikariPool-53 - Starting...
20:18:12.230 | INFO | HikariPool: HikariPool-53 - Added connection com.mysql.cj.jdbc.ConnectionImpl@18d7ab3b
20:18:12.230 | INFO | HikariDataSource: HikariPool-53 - Start completed.
20:18:12.234 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:18:12.235 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-53)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:18:12.410 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:18:12.482 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:18:12.723 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:18:12.746 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:18:12.750 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:18:12.857 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:18:12.900 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:18:13.024 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:18:13.055 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:18:13.060 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:18:13.066 | INFO | BookommerceApplication: Started BookommerceApplication in 1.535 seconds (process running for 7766.877)
20:18:13.068 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:22:32.695 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
20:22:32.696 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
20:22:32.703 | INFO | DispatcherServlet: Completed initialization in 7 ms
20:22:32.708 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:22:33.032 | DEBUG | OpaqueTokenAuthenticationProvider: Failed to authenticate since token was invalid
20:22:33.033 | DEBUG | ProviderManager: Authentication failed with provider OpaqueTokenAuthenticationProvider since Provided token isn't active
20:23:44.946 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:23:45.218 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:23:45.219 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@66921d67, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:23:45.222 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:23:45.297 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<java.lang.String>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto) throws java.io.IOException: [Field error in object 'updateMyProfileAvatarRequestDto' on field 'image': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2deca52c]; codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto.image,ValidUpdateBookImage.image,ValidUpdateBookImage.org.springframework.web.multipart.MultipartFile,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto.image,image]; arguments []; default message [image]]; default message [A blank file is not allowed]] ]
20:24:03.605 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:24:03.945 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:24:03.945 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@337e947a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:24:03.946 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:24:03.959 | WARN | ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.bookommerce.resource_server.dto.response.ApiSuccessResponse<java.lang.String>> com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(com.bookommerce.resource_server.dto.request.UpdateMyProfileAvatarRequestDto) throws java.io.IOException: [Error in object 'updateMyProfileAvatarRequestDto': codes [ValidUpdateBookImage.updateMyProfileAvatarRequestDto,ValidUpdateBookImage]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [updateMyProfileAvatarRequestDto]; arguments []; default message []]; default message [Image URL path: [abc] is not allowed]] ]
20:28:50.389 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:28:50.403 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:28:50.413 | INFO | GracefulShutdown: Graceful shutdown complete
20:28:50.424 | WARN | RedisChannelHandler: Connection is already closed
20:28:50.426 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:28:50.443 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:28:50.456 | INFO | HikariDataSource: HikariPool-53 - Shutdown initiated...
20:28:50.467 | INFO | HikariDataSource: HikariPool-53 - Shutdown completed.
20:28:51.604 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:28:51.605 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:28:51.994 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:28:51.995 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:28:52.043 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 7 JPA repository interfaces.
20:28:52.048 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:28:52.048 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:28:52.061 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.061 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.061 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.062 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.062 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.062 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.063 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:28:52.063 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
20:28:52.232 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:28:52.234 | INFO | StandardService: Starting service [Tomcat]
20:28:52.234 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:28:52.251 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:28:52.252 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 642 ms
20:28:52.300 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:28:52.302 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:28:52.309 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:28:52.311 | INFO | HikariDataSource: HikariPool-54 - Starting...
20:28:52.329 | INFO | HikariPool: HikariPool-54 - Added connection com.mysql.cj.jdbc.ConnectionImpl@271fa35e
20:28:52.329 | INFO | HikariDataSource: HikariPool-54 - Start completed.
20:28:52.331 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:28:52.332 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-54)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:28:52.432 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:28:52.497 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:28:52.820 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:28:52.849 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:28:52.853 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:28:52.998 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:28:53.038 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:28:53.194 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:28:53.243 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:28:53.247 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:28:53.257 | INFO | BookommerceApplication: Started BookommerceApplication in 1.714 seconds (process running for 8407.07)
20:28:53.261 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:37:24.522 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
20:37:24.547 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
20:37:24.672 | INFO | DispatcherServlet: Completed initialization in 123 ms
20:37:24.745 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:37:24.763 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:24.794 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:37:26.594 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:37:26.596 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:26.604 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:37:26.740 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:37:26.797 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:26.798 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:37:26.811 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:26.804 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:37:26.809 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:37:26.811 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:37:26.813 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:37:26.815 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:26.822 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:37:26.815 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:26.823 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:37:27.034 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:26.847 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:37:26.974 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:37:27.058 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:37:27.071 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:27.084 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:37:27.623 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:37:27.642 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:37:27.740 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:27.765 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:27.768 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:37:27.772 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:37:27.871 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:37:27.913 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:27.927 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:37:34.333 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:37:34.894 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:37:34.896 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4217b0c6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:37:34.897 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:37:35.279 | DEBUG | FilterChainProxy: Securing GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:37:35.279 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:35.280 | DEBUG | FilterChainProxy: Secured GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:37:40.997 | DEBUG | FilterChainProxy: Securing GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:37:40.999 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:37:40.999 | DEBUG | FilterChainProxy: Secured GET /images/avatars/ebfc60d9-7f74-4398-a754-aa9efdf0b886.jpg
20:39:38.875 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:39:39.237 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:39:39.238 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1859dfc6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:39:39.239 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:39:39.804 | DEBUG | FilterChainProxy: Securing GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:39:39.805 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:39:39.806 | DEBUG | FilterChainProxy: Secured GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:41:03.486 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:41:03.894 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:41:03.896 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@351ea732, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:41:03.897 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:41:28.861 | DEBUG | FilterChainProxy: Securing GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:41:28.862 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:41:28.863 | DEBUG | FilterChainProxy: Secured GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:41:55.897 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:41:56.497 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:41:56.498 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@7b271629, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:41:56.499 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:44:00.606 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:44:01.152 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:44:01.162 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1dfa0483, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:44:01.165 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:44:14.554 | DEBUG | FilterChainProxy: Securing GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:44:14.554 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:44:14.555 | DEBUG | FilterChainProxy: Secured GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:44:16.104 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:44:16.456 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:44:16.456 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@588182dc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:44:16.457 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:44:16.672 | ERROR | [dispatcherServlet]: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "com.bookommerce.resource_server.entity.Profile.getAvatarUrlPath()" because "profile" is null] with root cause
java.lang.NullPointerException: Cannot invoke "com.bookommerce.resource_server.entity.Profile.getAvatarUrlPath()" because "profile" is null
	at com.bookommerce.resource_server.service.ProfileService.updateMyProfileAvatar(ProfileService.java:104) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.15.jar:6.2.15]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.15.jar:6.2.15]
	at com.bookommerce.resource_server.service.ProfileService$$SpringCGLIB$$0.updateMyProfileAvatar(<generated>) ~[classes/:na]
	at com.bookommerce.resource_server.controller.ProfileController.updateMyProfileAvatar(ProfileController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.50.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:177) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:158) ~[spring-security-oauth2-resource-server-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.15.jar:6.2.15]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.15.jar:6.2.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.50.jar:10.1.50]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
20:44:16.794 | DEBUG | FilterChainProxy: Securing PATCH /error
20:44:16.796 | DEBUG | FilterChainProxy: Secured PATCH /error
20:45:37.946 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:45:38.017 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:45:38.056 | INFO | GracefulShutdown: Graceful shutdown complete
20:45:38.192 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:45:38.249 | INFO | HikariDataSource: HikariPool-54 - Shutdown initiated...
20:45:38.285 | INFO | HikariDataSource: HikariPool-54 - Shutdown completed.
20:45:40.362 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:45:40.363 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:45:41.205 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:45:41.205 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:45:41.280 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 71 ms. Found 7 JPA repository interfaces.
20:45:41.287 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:45:41.289 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:45:41.304 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.304 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.305 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.306 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.307 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.308 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.308 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:41.308 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
20:45:41.546 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:45:41.548 | INFO | StandardService: Starting service [Tomcat]
20:45:41.548 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:45:41.575 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:45:41.575 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1204 ms
20:45:41.653 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:45:41.657 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:45:41.675 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:45:41.677 | INFO | HikariDataSource: HikariPool-55 - Starting...
20:45:41.809 | INFO | HikariPool: HikariPool-55 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e5f87a1
20:45:41.809 | INFO | HikariDataSource: HikariPool-55 - Start completed.
20:45:41.812 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:45:41.812 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-55)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:45:42.077 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:45:42.263 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:45:42.582 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:45:42.607 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:45:42.612 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:45:42.763 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:45:42.835 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:45:43.022 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:45:43.057 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:45:43.062 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:45:43.067 | INFO | BookommerceApplication: Started BookommerceApplication in 2.86 seconds (process running for 9416.878)
20:45:43.069 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:45:54.777 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:45:54.779 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:45:54.784 | INFO | GracefulShutdown: Graceful shutdown complete
20:45:54.787 | WARN | RedisChannelHandler: Connection is already closed
20:45:54.787 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:45:54.813 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:45:54.814 | INFO | HikariDataSource: HikariPool-55 - Shutdown initiated...
20:45:54.819 | INFO | HikariDataSource: HikariPool-55 - Shutdown completed.
20:45:55.105 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:45:55.106 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:45:55.306 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:45:55.306 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:45:55.336 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 7 JPA repository interfaces.
20:45:55.340 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:45:55.340 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:45:55.345 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.345 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.345 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.345 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.346 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.346 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.346 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:45:55.346 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
20:45:55.440 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:45:55.441 | INFO | StandardService: Starting service [Tomcat]
20:45:55.441 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:45:55.485 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:45:55.486 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 378 ms
20:45:55.525 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:45:55.527 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:45:55.535 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:45:55.535 | INFO | HikariDataSource: HikariPool-56 - Starting...
20:45:55.547 | INFO | HikariPool: HikariPool-56 - Added connection com.mysql.cj.jdbc.ConnectionImpl@129d1c9f
20:45:55.547 | INFO | HikariDataSource: HikariPool-56 - Start completed.
20:45:55.550 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:45:55.550 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-56)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:45:55.638 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:45:55.696 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:45:55.841 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:45:55.857 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:45:55.860 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:45:55.932 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:45:55.974 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:45:56.032 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:45:56.054 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:45:56.058 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:45:56.060 | INFO | BookommerceApplication: Started BookommerceApplication in 0.991 seconds (process running for 9429.872)
20:45:56.061 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:46:14.887 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
20:46:14.890 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
20:46:14.893 | INFO | DispatcherServlet: Completed initialization in 3 ms
20:46:14.897 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:46:15.309 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:46:15.310 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@4580e59c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:46:15.310 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:46:19.214 | DEBUG | FilterChainProxy: Securing GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:46:19.215 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:46:19.215 | DEBUG | FilterChainProxy: Secured GET /images/avatars/af14ff92-8f06-47a8-9da7-0000145d0eef.jpg
20:46:26.282 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:46:26.770 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:46:26.770 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2faec336, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:46:26.771 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:46:27.114 | DEBUG | FilterChainProxy: Securing GET /images/avatars/323f8377-8480-4d47-8066-f6fdd9fa03cf.jpg
20:46:27.117 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:46:27.118 | DEBUG | FilterChainProxy: Secured GET /images/avatars/323f8377-8480-4d47-8066-f6fdd9fa03cf.jpg
20:46:29.607 | DEBUG | FilterChainProxy: Securing GET /images/avatars/323f8377-8480-4d47-8066-f6fdd9fa03cf.jpg
20:46:29.607 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:46:29.608 | DEBUG | FilterChainProxy: Secured GET /images/avatars/323f8377-8480-4d47-8066-f6fdd9fa03cf.jpg
20:46:37.088 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile/avatar
20:46:37.541 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:46:37.542 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@35666310, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:46:37.542 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile/avatar
20:46:37.827 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
20:46:37.828 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:46:37.828 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
20:46:39.831 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
20:46:39.831 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:46:39.831 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
20:47:32.626 | INFO | LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
20:47:32.665 | INFO | GracefulShutdown: Commencing graceful shutdown. Waiting for active requests to complete
20:47:32.674 | INFO | GracefulShutdown: Graceful shutdown complete
20:47:32.704 | WARN | RedisChannelHandler: Connection is already closed
20:47:32.705 | ERROR | DefaultStreamMessageListenerContainer$LoggingErrorHandler: Unexpected error occurred in scheduled task
org.springframework.data.redis.RedisSystemException: Redis exception
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:72) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceExceptionConverter.convert(LettuceExceptionConverter.java:41) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:40) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:38) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.convertLettuceAccessException(LettuceConnection.java:310) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.await(LettuceConnection.java:1012) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceConnection.lambda$doInvoke$3(LettuceConnection.java:447) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$Synchronizer.invoke(LettuceInvoker.java:673) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceInvoker$DefaultManyInvocationSpec.toList(LettuceInvoker.java:618) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.connection.lettuce.LettuceStreamCommands.xReadGroup(LettuceStreamCommands.java:282) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$3(DefaultStreamMessageListenerContainer.java:234) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:413) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:367) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.DefaultStreamMessageListenerContainer.lambda$getReadFunction$4(DefaultStreamMessageListenerContainer.java:233) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.readRecords(StreamPollTask.java:145) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.doLoop(StreamPollTask.java:126) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at org.springframework.data.redis.stream.StreamPollTask.run(StreamPollTask.java:111) ~[spring-data-redis-3.5.7.jar:3.5.7]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: io.lettuce.core.RedisException: Connection closed
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$7(DefaultEndpoint.java:688) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.getNullable(DefaultEndpoint.java:1199) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint$Lazy.get(DefaultEndpoint.java:1184) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.lambda$notifyDrainQueuedCommands$8(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.cancelCommands(DefaultEndpoint.java:810) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.DefaultEndpoint.notifyDrainQueuedCommands(DefaultEndpoint.java:689) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.protocol.CommandHandler.channelInactive(CommandHandler.java:373) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:79) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	... 1 common frames omitted
20:47:32.717 | INFO | LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
20:47:32.721 | INFO | HikariDataSource: HikariPool-56 - Shutdown initiated...
20:47:32.729 | INFO | HikariDataSource: HikariPool-56 - Shutdown completed.
20:47:33.373 | INFO | BookommerceApplication: Starting BookommerceApplication using Java 21.0.3 with PID 5716 (C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes started by PC in C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server)
20:47:33.374 | INFO | BookommerceApplication: No active profile set, falling back to 1 default profile: "default"
20:47:33.723 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:47:33.723 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20:47:33.772 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 7 JPA repository interfaces.
20:47:33.779 | INFO | RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
20:47:33.779 | INFO | RepositoryConfigurationDelegate: Bootstrapping Spring Data Redis repositories in DEFAULT mode.
20:47:33.791 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.791 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.792 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.793 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.GenreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.793 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.ProfileRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.795 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.795 | INFO | RepositoryConfigurationExtensionSupport: Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookommerce.resource_server.repository.RatingStatisticRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
20:47:33.795 | INFO | RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
20:47:34.009 | INFO | TomcatWebServer: Tomcat initialized with port 8383 (https)
20:47:34.010 | INFO | StandardService: Starting service [Tomcat]
20:47:34.010 | INFO | StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.50]
20:47:34.049 | INFO | [/]: Initializing Spring embedded WebApplicationContext
20:47:34.050 | INFO | ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 672 ms
20:47:34.115 | INFO | LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
20:47:34.119 | INFO | RegionFactoryInitiator: HHH000026: Second-level cache disabled
20:47:34.132 | INFO | SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
20:47:34.132 | INFO | HikariDataSource: HikariPool-57 - Starting...
20:47:34.230 | INFO | HikariPool: HikariPool-57 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c3fc7a1
20:47:34.231 | INFO | HikariDataSource: HikariPool-57 - Start completed.
20:47:34.233 | WARN | deprecation: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
20:47:34.235 | INFO | pooling: HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-57)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
20:47:34.356 | INFO | JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
20:47:34.500 | INFO | LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
20:47:34.919 | INFO | EventConfig: Creating consumer group: [stream=user-events, group=user-group]
20:47:34.957 | WARN | EventConfig: BUSYGROUP Consumer Group name already exists
20:47:34.963 | INFO | EventConfig: Starting listener container: [stream=user-events, group=user-group]
20:47:35.175 | DEBUG | AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder: No authenticationProviders and no parentAuthenticationManager defined. Returning null.
20:47:35.267 | DEBUG | DefaultSecurityFilterChain: Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BearerTokenAuthenticationFilter, AuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
20:47:35.497 | WARN | OptionalLiveReloadServer: Unable to start LiveReload server
20:47:35.587 | INFO | certificate: Connector [https-jsse-nio-8383], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [bookommerce_ssl] with trust store [C:\Users\PC\OneDrive\Desktop\bookommerce\resource-server\target\classes\bookommerce-ssl.p12]
20:47:35.639 | INFO | TomcatWebServer: Tomcat started on port 8383 (https) with context path '/'
20:47:35.646 | INFO | BookommerceApplication: Started BookommerceApplication in 2.333 seconds (process running for 9529.458)
20:47:35.649 | INFO | ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
20:49:11.905 | INFO | [/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
20:49:11.937 | INFO | DispatcherServlet: Initializing Servlet 'dispatcherServlet'
20:49:12.230 | INFO | DispatcherServlet: Completed initialization in 285 ms
20:49:12.431 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
20:49:15.317 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:49:15.354 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1b2097e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:49:15.394 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
20:49:17.608 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
20:49:17.618 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:17.623 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
20:49:25.882 | DEBUG | FilterChainProxy: Securing GET /api/genres
20:49:25.885 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:25.889 | DEBUG | FilterChainProxy: Secured GET /api/genres
20:49:25.909 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:49:25.913 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:25.915 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:49:26.673 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:49:26.673 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.674 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:49:26.676 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:49:26.677 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.678 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:49:26.714 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:49:26.718 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.727 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:49:26.727 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:49:26.734 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.739 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:49:26.764 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:49:26.767 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.774 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:49:26.820 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:49:26.834 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.835 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:49:26.847 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:49:26.862 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.862 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:49:26.862 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:49:26.866 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.867 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:49:26.907 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:49:26.918 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:26.934 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:49:27.001 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:49:27.003 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:27.008 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:49:38.684 | DEBUG | FilterChainProxy: Securing GET /api/books?genres=5&page=0&size=10&sort=TITLE&order=ASC
20:49:38.685 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:38.685 | DEBUG | FilterChainProxy: Secured GET /api/books?genres=5&page=0&size=10&sort=TITLE&order=ASC
20:49:51.037 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:49:51.037 | DEBUG | FilterChainProxy: Securing GET /api/genres
20:49:51.037 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.037 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.038 | DEBUG | FilterChainProxy: Secured GET /api/genres
20:49:51.038 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:49:51.125 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:49:51.125 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.125 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:49:51.206 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:49:51.206 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.206 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:49:51.290 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:49:51.292 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.293 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:49:51.296 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:49:51.298 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.298 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:49:51.309 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:49:51.314 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:49:51.312 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:49:51.315 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.316 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.317 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.318 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:49:51.318 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:49:51.318 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:49:51.319 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:49:51.321 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.325 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:49:51.331 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.326 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:49:51.342 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:49:51.383 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:49:51.387 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:49:51.389 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:50:48.185 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:50:48.186 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.186 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:50:48.394 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:50:48.402 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.404 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:50:48.457 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:50:48.461 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.463 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:50:48.466 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:50:48.466 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.469 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:50:48.502 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:50:48.517 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:50:48.519 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.520 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:50:48.551 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.527 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.554 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:50:48.533 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:50:48.543 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:50:48.554 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:50:48.560 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:50:48.570 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:50:48.574 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.570 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.587 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:50:48.587 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:50:48.582 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.594 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:50:48.689 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:50:48.690 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:48.690 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:50:52.312 | DEBUG | FilterChainProxy: Securing GET /api/books?size=10&page=1
20:50:52.312 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.312 | DEBUG | FilterChainProxy: Secured GET /api/books?size=10&page=1
20:50:52.435 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:50:52.435 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
20:50:52.435 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_28289.jpg
20:50:52.435 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
20:50:52.436 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_24750.jpg
20:50:52.438 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.439 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_24750.jpg
20:50:52.436 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.436 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.446 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
20:50:52.437 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.437 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.448 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
20:50:52.449 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_28289.jpg
20:50:52.443 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:50:52.452 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
20:50:52.462 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.467 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
20:50:52.532 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:50:52.536 | DEBUG | FilterChainProxy: Securing GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
20:50:52.537 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
20:50:52.537 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.537 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
20:50:52.538 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.539 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.538 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:50:52.538 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:50:52.539 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
20:50:52.539 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
20:50:52.540 | DEBUG | FilterChainProxy: Secured GET /images/books/2a478a9e-33e2-4350-b43d-dd009af0033a.jpg
20:50:52.587 | DEBUG | FilterChainProxy: Securing GET /error
20:50:52.595 | DEBUG | FilterChainProxy: Secured GET /error
20:50:52.683 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:49.819 | DEBUG | FilterChainProxy: Securing GET /api/books?size=10&page=1
20:51:49.824 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:49.824 | DEBUG | FilterChainProxy: Secured GET /api/books?size=10&page=1
20:51:50.020 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_28289.jpg
20:51:50.022 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.022 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_28289.jpg
20:51:50.049 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_24750.jpg
20:51:50.054 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.057 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_24750.jpg
20:51:50.103 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
20:51:50.114 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:51:50.117 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.117 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:51:50.116 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.124 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
20:51:50.133 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:51:50.135 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
20:51:50.141 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
20:51:50.178 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.146 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.180 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.182 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
20:51:50.183 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
20:51:50.182 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:51:50.206 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
20:51:50.228 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
20:51:50.243 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
20:51:50.247 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.248 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.248 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:50.248 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
20:51:50.249 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
20:51:50.249 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
20:51:54.260 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:51:54.261 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.261 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:51:54.412 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:51:54.413 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:51:54.414 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:51:54.419 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:51:54.416 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.418 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.419 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.425 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.426 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:51:54.426 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:51:54.426 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:51:54.426 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:51:54.428 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:51:54.476 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:51:54.498 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.503 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:51:54.519 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.516 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.519 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:51:54.520 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:51:54.522 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:51:54.551 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:51:54.551 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:51:54.567 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:51:54.578 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.577 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.577 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:54.593 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:51:54.591 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:51:54.593 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:51:55.411 | DEBUG | FilterChainProxy: Securing GET /api/books?size=10&page=1
20:51:55.411 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.412 | DEBUG | FilterChainProxy: Secured GET /api/books?size=10&page=1
20:51:55.548 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_28289.jpg
20:51:55.558 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.562 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_28289.jpg
20:51:55.575 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:51:55.575 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
20:51:55.576 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
20:51:55.577 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.577 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.578 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
20:51:55.578 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
20:51:55.577 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.578 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:51:55.583 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:51:55.585 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.590 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:51:55.594 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_24750.jpg
20:51:55.604 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.605 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
20:51:55.605 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_24750.jpg
20:51:55.606 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.606 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
20:51:55.626 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
20:51:55.640 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.642 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
20:51:55.628 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
20:51:55.642 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
20:51:55.643 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.644 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
20:51:55.643 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:55.658 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
20:51:57.535 | DEBUG | FilterChainProxy: Securing GET /api/books?page=2&size=10
20:51:57.536 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:57.536 | DEBUG | FilterChainProxy: Secured GET /api/books?page=2&size=10
20:51:57.603 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
20:51:57.603 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
20:51:57.603 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:57.603 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:51:57.604 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
20:51:57.604 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
20:52:00.640 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:52:00.643 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.644 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:52:00.809 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:00.812 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:52:00.813 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.814 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:52:00.812 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:52:00.815 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.813 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.814 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:52:00.820 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:00.815 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.826 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:52:00.819 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:52:00.828 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:52:00.839 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.840 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:52:00.861 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:52:00.888 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:00.892 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.893 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:00.904 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.918 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:52:00.911 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:52:00.923 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.927 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:52:00.936 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:00.953 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:00.988 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.984 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:00.990 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:00.988 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:04.112 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:52:04.113 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:04.113 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:52:06.678 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:52:06.678 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:06.678 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:52:06.803 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:06.804 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:06.806 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:07.011 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:07.011 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:52:07.013 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:52:07.013 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:07.017 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:52:07.130 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.131 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:52:07.028 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.082 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:52:07.116 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.147 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.147 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:52:07.128 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.129 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.148 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:52:07.143 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:07.147 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:52:07.147 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:07.568 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:52:07.569 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:52:07.570 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:07.571 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.571 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:52:07.571 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.571 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:07.571 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:52:07.571 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:08.296 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:52:08.298 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.299 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:52:08.378 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:08.378 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.379 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:08.409 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:52:08.412 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.415 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:52:08.431 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:52:08.435 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.438 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:52:08.443 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:52:08.446 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.446 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:52:08.462 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:52:08.464 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.469 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:52:08.480 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:52:08.481 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.482 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:52:08.525 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:52:08.527 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.528 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:52:08.536 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:08.538 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.540 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:08.547 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:08.550 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.551 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:08.551 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:08.556 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:08.562 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:12.823 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:52:12.824 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.824 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:52:12.891 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:12.892 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.892 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:12.914 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:52:12.915 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.916 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:52:12.927 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:52:12.927 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.929 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:52:12.941 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:52:12.943 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.944 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:52:12.953 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:52:12.956 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.959 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:52:12.967 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:52:12.969 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.972 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:52:12.985 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:52:12.990 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:12.992 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:52:13.009 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:13.015 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:13.019 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:13.012 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:13.020 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:13.020 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:13.059 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:13.061 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:13.062 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:17.996 | DEBUG | FilterChainProxy: Securing GET /api/ratings?size=5&order=DESC&page=0&sort=CREATED_AT
20:52:18.803 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:52:18.805 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@37b1770d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
20:52:18.806 | DEBUG | FilterChainProxy: Secured GET /api/ratings?size=5&order=DESC&page=0&sort=CREATED_AT
20:52:47.909 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10
20:52:47.910 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:47.910 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10
20:52:48.081 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:48.084 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.086 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:52:48.119 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:52:48.120 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.121 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:52:48.165 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:52:48.179 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:52:48.181 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.182 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:48.182 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:52:48.182 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:52:48.187 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.188 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:52:48.190 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.192 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.193 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:52:48.192 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.202 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:52:48.192 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:52:48.194 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:52:48.232 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:48.219 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:48.223 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:52:48.234 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.232 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.237 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:52:48.234 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:52:48.257 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:52:48.234 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:52:49.469 | DEBUG | FilterChainProxy: Securing GET /api/ratings?size=5&order=DESC&page=0&sort=CREATED_AT
20:52:49.783 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:52:49.783 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1abc5dc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_PRODUCT_MANAGER]]
20:52:49.784 | DEBUG | FilterChainProxy: Secured GET /api/ratings?size=5&order=DESC&page=0&sort=CREATED_AT
20:53:13.029 | DEBUG | FilterChainProxy: Securing GET /api/genres
20:53:13.029 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:53:13.030 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.030 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.034 | DEBUG | FilterChainProxy: Secured GET /api/genres
20:53:13.034 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:53:13.323 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:53:13.326 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.326 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:53:13.328 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:53:13.337 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.341 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:53:13.341 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:53:13.342 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.343 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:53:13.346 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:53:13.352 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.354 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:53:13.365 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:53:13.365 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:53:13.366 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.366 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.366 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:53:13.380 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:53:13.385 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:53:13.392 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.396 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:53:13.397 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:53:13.399 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:53:13.399 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:53:13.401 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.401 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.401 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:13.403 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:53:13.402 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:53:13.403 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:53:15.959 | DEBUG | FilterChainProxy: Securing GET /api/books/45
20:53:15.961 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:15.961 | DEBUG | FilterChainProxy: Secured GET /api/books/45
20:53:16.174 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:53:16.174 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:16.174 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:53:36.278 | DEBUG | FilterChainProxy: Securing GET /api/genres
20:53:36.280 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.281 | DEBUG | FilterChainProxy: Secured GET /api/genres
20:53:36.278 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:53:36.284 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.285 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:53:36.342 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:53:36.342 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.342 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:53:36.493 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:53:36.494 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:53:36.493 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:53:36.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.493 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:53:36.493 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:53:36.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.494 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:53:36.494 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:53:36.494 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:53:36.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.494 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.494 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:53:36.494 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:53:36.496 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:53:36.507 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.508 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:53:36.518 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:53:36.519 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.519 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:53:36.519 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:53:36.519 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:53:36.519 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.520 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:53:36.520 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:36.521 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:53:40.989 | DEBUG | FilterChainProxy: Securing GET /api/books?size=10&page=1&sort=TITLE&order=ASC
20:53:40.990 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:40.991 | DEBUG | FilterChainProxy: Secured GET /api/books?size=10&page=1&sort=TITLE&order=ASC
20:53:41.129 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_28289.jpg
20:53:41.130 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.132 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_28289.jpg
20:53:41.153 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
20:53:41.153 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_24750.jpg
20:53:41.155 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.156 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.157 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
20:53:41.157 | DEBUG | FilterChainProxy: Securing GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:53:41.164 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.164 | DEBUG | FilterChainProxy: Secured GET /images/books/bia-1_ngoanh-lai-da-mot-doi_3.jpg
20:53:41.157 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_24750.jpg
20:53:41.159 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
20:53:41.159 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_38340.jpg
20:53:41.171 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.173 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
20:53:41.161 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
20:53:41.171 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.174 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.175 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
20:53:41.175 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_38340.jpg
20:53:41.195 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_14864.jpg
20:53:41.197 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.200 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_14864.jpg
20:53:41.205 | DEBUG | FilterChainProxy: Securing GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:53:41.210 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.211 | DEBUG | FilterChainProxy: Secured GET /images/books/cef924a2-426a-4bde-bf77-7f7e2b7a9507.jpg
20:53:41.210 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_41937_1.jpg
20:53:41.212 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:41.226 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_41937_1.jpg
20:53:44.884 | DEBUG | FilterChainProxy: Securing GET /api/books?page=2&size=10&sort=TITLE&order=ASC
20:53:44.886 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:44.886 | DEBUG | FilterChainProxy: Secured GET /api/books?page=2&size=10&sort=TITLE&order=ASC
20:53:44.939 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
20:53:44.940 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:44.940 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
20:53:44.940 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
20:53:44.940 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:44.940 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
20:53:57.213 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=PRICE&order=ASC
20:53:57.241 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:53:57.242 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=PRICE&order=ASC
20:54:01.568 | DEBUG | FilterChainProxy: Securing GET /api/books?order=DESC&page=0&size=10&sort=PRICE
20:54:01.588 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.589 | DEBUG | FilterChainProxy: Secured GET /api/books?order=DESC&page=0&size=10&sort=PRICE
20:54:01.771 | DEBUG | FilterChainProxy: Securing GET /images/books/050525-2.jpg
20:54:01.772 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.772 | DEBUG | FilterChainProxy: Securing GET /images/books/280423-3.jpg
20:54:01.772 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:54:01.773 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.774 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.774 | DEBUG | FilterChainProxy: Secured GET /images/books/280423-3.jpg
20:54:01.774 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:54:01.772 | DEBUG | FilterChainProxy: Secured GET /images/books/050525-2.jpg
20:54:01.775 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.775 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:54:01.774 | DEBUG | FilterChainProxy: Securing GET /images/books/180523-4.jpg
20:54:01.776 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.775 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:54:01.777 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491873.jpg
20:54:01.778 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.778 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491873.jpg
20:54:01.777 | DEBUG | FilterChainProxy: Secured GET /images/books/180523-4.jpg
20:54:01.799 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:54:01.799 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.801 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:54:01.804 | DEBUG | FilterChainProxy: Securing GET /images/books/b_a-1-t_p-2_1_2.jpg
20:54:01.808 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.816 | DEBUG | FilterChainProxy: Secured GET /images/books/b_a-1-t_p-2_1_2.jpg
20:54:01.809 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:54:01.813 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:54:01.818 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.818 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:01.818 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:54:01.818 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:54:12.242 | DEBUG | FilterChainProxy: Securing GET /api/carts
20:54:12.551 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
20:54:12.551 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3476409, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
20:54:12.552 | DEBUG | FilterChainProxy: Secured GET /api/carts
20:54:12.655 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:54:12.656 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:12.656 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:54:17.411 | DEBUG | FilterChainProxy: Securing GET /api/genres
20:54:17.411 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.411 | DEBUG | FilterChainProxy: Securing GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:54:17.412 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.413 | DEBUG | FilterChainProxy: Secured GET /api/books?page=0&size=10&sort=TITLE&order=ASC
20:54:17.411 | DEBUG | FilterChainProxy: Secured GET /api/genres
20:54:17.488 | DEBUG | FilterChainProxy: Securing GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:54:17.488 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.488 | DEBUG | FilterChainProxy: Secured GET /images/books/4658760b-7502-4022-b337-9926fee60006.jpg
20:54:17.498 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491361.jpg
20:54:17.499 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.499 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491361.jpg
20:54:17.525 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212368209.jpg
20:54:17.526 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.526 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212368209.jpg
20:54:17.546 | DEBUG | FilterChainProxy: Securing GET /images/books/8936213491866.jpg
20:54:17.547 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.548 | DEBUG | FilterChainProxy: Secured GET /images/books/8936213491866.jpg
20:54:17.561 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:54:17.561 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.561 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:54:17.570 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:54:17.571 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.585 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667802993996_444d1025739493a61e7c63ddfc8997fc.jpg
20:54:17.670 | DEBUG | FilterChainProxy: Securing GET /images/books/image_217968.jpg
20:54:17.670 | DEBUG | FilterChainProxy: Securing GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:54:17.670 | DEBUG | FilterChainProxy: Securing GET /images/books/8935212349208.jpg
20:54:17.670 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.672 | DEBUG | FilterChainProxy: Securing GET /images/books/image_195509_1_30127_1.jpg
20:54:17.672 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.672 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.672 | DEBUG | FilterChainProxy: Secured GET /images/books/image_217968.jpg
20:54:17.672 | DEBUG | FilterChainProxy: Secured GET /images/books/8935212349208.jpg
20:54:17.672 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:54:17.672 | DEBUG | FilterChainProxy: Secured GET /images/books/f3767a63-a769-4dc6-a0ad-5faf57cfeda2.jpg
20:54:17.673 | DEBUG | FilterChainProxy: Secured GET /images/books/image_195509_1_30127_1.jpg
20:56:14.735 | DEBUG | FilterChainProxy: Securing GET /api/books/32
20:56:14.735 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:56:14.735 | DEBUG | FilterChainProxy: Secured GET /api/books/32
20:56:14.779 | DEBUG | FilterChainProxy: Securing GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
20:56:14.779 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
20:56:14.779 | DEBUG | FilterChainProxy: Secured GET /images/books/z6667803014073_b09f06964c4371f4fd5d5a532a319742.jpg
21:02:10.597 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:10.954 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:10.957 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@167cc3af, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:10.961 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:11.119 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:11.121 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:02:11.121 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:18.614 | DEBUG | FilterChainProxy: Securing PATCH /api/me/profile
21:02:18.923 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:18.924 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@5e5b4063, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:18.925 | DEBUG | FilterChainProxy: Secured PATCH /api/me/profile
21:02:19.128 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:19.420 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:19.420 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@56ec22b9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:19.421 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:23.751 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:24.075 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:24.075 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@50f35f9b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:24.075 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:24.128 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:24.129 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:02:24.129 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:26.897 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:27.194 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:27.194 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@28ad20ec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:27.195 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:27.237 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:27.238 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:02:27.238 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:29.195 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:29.509 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:29.509 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@1a20f198, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:29.509 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:29.552 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:29.553 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:02:29.554 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:33.624 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:33.912 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:33.912 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@306f21e4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:33.913 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:34.002 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:34.003 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:02:34.004 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:36.581 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:02:36.906 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:02:36.907 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@19738952, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:02:36.907 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:02:36.950 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:02:36.951 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:02:36.951 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:03:44.582 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:03:44.972 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:03:44.973 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2989e1a1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:03:44.973 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:03:59.642 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:04:00.509 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:04:00.510 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@2287842d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:04:00.512 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:04:16.432 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:04:17.372 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:04:17.390 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@16737d74, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:04:17.394 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:04:20.157 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:04:20.854 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:04:20.854 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@3b72f2d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:04:20.855 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:04:20.994 | DEBUG | FilterChainProxy: Securing GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:04:21.004 | DEBUG | AnonymousAuthenticationFilter: Set SecurityContextHolder to anonymous SecurityContext
21:04:21.007 | DEBUG | FilterChainProxy: Secured GET /images/avatars/987057e2-451d-488c-99c3-1a9ec0746ad6.jpg
21:04:49.543 | DEBUG | FilterChainProxy: Securing GET /api/me/profile
21:04:50.013 | DEBUG | OpaqueTokenAuthenticationProvider: Authenticated token
21:04:50.015 | DEBUG | BearerTokenAuthenticationFilter: Set SecurityContextHolder to BearerTokenAuthentication [Principal=org.springframework.security.oauth2.server.resource.introspection.OAuth2IntrospectionAuthenticatedPrincipal@bd05665, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_CUSTOMER]]
21:04:50.015 | DEBUG | FilterChainProxy: Secured GET /api/me/profile
21:05:32.602 | INFO | ConnectionWatchdog: Reconnecting, last destination was localhost/127.0.0.1:6379
21:05:32.602 | INFO | ConnectionWatchdog: Reconnecting, last destination was localhost/127.0.0.1:6379
21:05:32.815 | WARN | ConnectionWatchdog: Cannot reconnect to [localhost/<unresolved>:6379]: Connection closed prematurely
io.lettuce.core.RedisConnectionException: Connection closed prematurely
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:76) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
21:05:32.815 | WARN | ConnectionWatchdog: Cannot reconnect to [localhost/<unresolved>:6379]: Connection closed prematurely
io.lettuce.core.RedisConnectionException: Connection closed prematurely
	at io.lettuce.core.protocol.RedisHandshakeHandler.channelInactive(RedisHandshakeHandler.java:76) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:81) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.lettuce.core.ChannelGroupListener.channelInactive(ChannelGroupListener.java:54) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:303) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1352) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:850) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:811) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566) ~[netty-transport-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.130.Final.jar:4.1.130.Final]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
21:05:37.714 | INFO | ConnectionWatchdog: Reconnecting, last destination was localhost/<unresolved>:6379
21:05:37.714 | INFO | ConnectionWatchdog: Reconnecting, last destination was localhost/<unresolved>:6379
21:05:37.716 | WARN | ConnectionWatchdog: Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: getsockopt: localhost/127.0.0.1:6379
21:05:37.716 | WARN | ConnectionWatchdog: Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: getsockopt: localhost/127.0.0.1:6379
